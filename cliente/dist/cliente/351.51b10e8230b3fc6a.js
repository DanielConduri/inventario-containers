(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[351],{6351:(y,i,t)=>{"use strict";t.r(i),t.d(i,{FirmaElectronicaModule:()=>m});var r=t(6895),o=t(6264),u=t(5861),g=t(3997),w=t(5908),L=t(7579),N=t(2722),X=t(5226),O=t.n(X),k=t(4650),_=t(7114),M=t(1775),I=t(4006);const D=["canvasRef"],s=["AceptarFirmar"];function a(l,S){if(1&l){const c=k.EpF();k.TgZ(0,"button",10),k.NdJ("click",function(){k.CHM(c);const G=k.oxw();return k.KtG(G.guardarDocFir())}),k._uU(1," Guardar documento firmado "),k.qZA()}}function d(l,S){if(1&l){const c=k.EpF();k.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16)(6,"div",17)(7,"div",18)(8,"button",19),k.NdJ("click",function(){k.CHM(c);const G=k.oxw();return k.KtG(G.onPrevPage())}),k._UZ(9,"span",20),k._uU(10," Anterior "),k.qZA(),k._uU(11," \xa0 \xa0 "),k.TgZ(12,"button",21),k.NdJ("click",function(){k.CHM(c);const G=k.oxw();return k.KtG(G.onNextPage())}),k._UZ(13,"span",22),k._uU(14," Siguiente "),k.qZA(),k._uU(15," \xa0 \xa0 "),k.TgZ(16,"button",23),k.NdJ("click",function(){k.CHM(c);const G=k.oxw();return k.KtG(G.clearZone())}),k._UZ(17,"span",24),k._uU(18,"Limpiar "),k.qZA(),k._uU(19," \xa0 \xa0 "),k.TgZ(20,"button",25),k.NdJ("click",function(){k.CHM(c);const G=k.oxw();return k.KtG(G.RecuperarArEc())}),k._UZ(21,"span",24),k._uU(22,"Recuperar Archivo "),k.qZA()(),k.TgZ(23,"div",26),k._uU(24," \xa0 \xa0 "),k.TgZ(25,"div",27)(26,"span"),k._uU(27,"P\xe1ginas: "),k.TgZ(28,"span",28),k._uU(29),k.qZA(),k._uU(30," / "),k.TgZ(31,"span",29),k._uU(32),k.qZA()()()(),k.TgZ(33,"div",18)(34,"div",17)(35,"div",30),k._UZ(36,"canvas",31,32),k.qZA(),k.TgZ(38,"div",33),k._UZ(39,"img",34),k.qZA()()(),k.TgZ(40,"div",26),k._uU(41," \xa0 \xa0 "),k.TgZ(42,"div",27)(43,"span"),k._uU(44,"P\xe1ginas: "),k.TgZ(45,"span",28),k._uU(46),k.qZA(),k._uU(47," / "),k.TgZ(48,"span",29),k._uU(49),k.qZA()()()()()()()()()()()}if(2&l){const c=k.oxw();k.xp6(20),k.Q6J("disabled",!c.estaFirmado),k.xp6(9),k.Oqu(c.pageNum),k.xp6(3),k.Oqu(c.pageCount),k.xp6(14),k.Oqu(c.pageNum),k.xp6(3),k.Oqu(c.pageCount)}}function h(l,S){1&l&&k._UZ(0,"div",35)}void 0!==w&&(w.GlobalWorkerOptions.workerSrc="https://npmcdn.com/pdfjs-dist@2.14.305/build/pdf.worker.js");const v=[{path:"",component:(()=>{class l{constructor(c,P,G,H,te){this.route=c,this.router=P,this.srvPrestamos=G,this.srvfirma=H,this.fb=te,this.destroy$=new L.x,this.width=615,this.height=860,this.nombreDoc="",this.cedulaUser="",this.points=[],this.blActivarRecuperarArchvio=!1,this.pageRendering=!1,this.intIdDocumento=-1,this.archivoBase64="",this.certificadosporf=[],this.key="c8dcd2f25835dbd8fe7b7d513afbfb179902676a39d55eb6d59bd43de3be55dc",this.nomresis=483091,this.estaFirmado=!1,this.loading=!0,this.request=!0,this.fileInput=null,this.fileOut=null,this.objetoSolicitud={estado:"",url:""},this.click=J=>{"canvasId"===J.target.id&&this.write(J)},this.clearZone=()=>{this.coordenadaX="",this.coordenadaY="",this.blActivarRecuperarArchvio=!1,this.pageNum=1,this.points=[],this.cx.clearRect(0,0,this.width,this.height),this.render(this.pageNum)},this.myForm=this.fb.group({str_prestamo_observacion:[""],int_estado_id:[0],int_estados_prestamo_id:[0],int_prestamo_estado:[]})}ngOnInit(){var c=this;return(0,u.Z)(function*(){console.log("llega el idEstado ----\x3e",c.srvPrestamos.idEstados),c.route.queryParams.subscribe({next:P=>{console.log("Params ->",P),c.request=!1,c.loading=!1,console.log("loadinfg => ",c.loading,"request => ",c.request),c.archivoBase64=P.solicitud,console.log("archivoBase64 => ",c.archivoBase64)}}),c.srvPrestamos.getPrestamoId(c.srvPrestamos.pdf).pipe((0,N.R)(c.destroy$)).subscribe({next:P=>{console.log("data ->",P),c.proceso=P.body.proceso,c.tipoActa=P.body.str_prestamo_tipo,c.cedulaUser=P.body.int_prestamo_persona_id,c.srvPrestamos.horarioId=P.body.int_prestamo_horario_id,console.log("cedulaUser => ",c.cedulaUser)}}),c.intIdDocumento=c.srvPrestamos.pdf,yield c.InicializacionVariable(),yield c.ProcesoVisualizacionPdF()})()}InicializacionVariable(){var c=this;return(0,u.Z)(function*(){c.pageRendering=!1,c.blActivarRecuperarArchvio=!1,c.pageNum=1,c.tipocertificado="2",c.pageNumPending="",c.TipoActa="",c.tokenobteneido="",c.urlFrima="",c.tipoActaGenerada="",c.pdfDoc=null,c.pageCount="",c.coordenadaX="",c.coordenadaY="",c.lstListadoFirmar=[],c.lstListadoEnviadoFirmar=[],c.lstArchivoEnviarAlmacenamientoOneDriver=[]})()}ProcesoVisualizacionPdF(){var c=this;return(0,u.Z)(function*(){c.strCodigoBase64=c.archivoBase64,c.pdfurl=atob(c.strCodigoBase64),yield c.render(c.pageNum)})()}render(c){var P=this;return(0,u.Z)(function*(){if(P.pageRendering=!1,null!=P.pageRendering&&Boolean(!P.pageRendering)&&""!=c&&""!=P.pdfurl&&null!=P.pdfurl&&P.canvasRef&&P.canvasRef.nativeElement){const G=P.canvasRef.nativeElement;P.cx=G.getContext("2d");let H=P.cx;G.width=P.width,G.height=P.height,P.cx.lineWidth=3,P.cx.lineCap="round",P.cx.strokeStyle="#000",w.getDocument({data:P.pdfurl}).promise.then(J=>{P.pdfDoc=J,P.pageCount=J.numPages,P.pdfDoc.getPage(c).then(Y=>{let p=Y.getViewport({scale:G.width/Y._pageInfo.view[2]});Y.render({canvasContext:H,viewport:p}).promise.then(()=>{P.pageRendering=!1,""!==P.pageNumPending&&(P.render(P.pageNumPending),P.pageNumPending=null)})})})}P.pageNum=c})()}write(c){const G=this.canvasRef.nativeElement.getBoundingClientRect(),H={x:Math.round(c.clientX-G.left),y:Math.round(c.clientY-G.top)};let Y=840-(H.y-30);this.coordenadaX=H.x-45,this.coordenadaY=Y,this.drawOnCanvas(H)}drawOnCanvas(c){if(this.cx&&(this.cx.beginPath(),c)){let P=document.getElementById("source");this.cx.drawImage(P,c.x-50,c.y-70,100,100),this.cx.stroke(),this.AbrirFirmaEc()}}queueRenderPage(c){var P=this;return(0,u.Z)(function*(){P.pageRendering?P.pageNumPending=c:P.render(c)})()}onPrevPage(){var c=this;return(0,u.Z)(function*(){c.pageNum<=1||(c.pageNum--,c.queueRenderPage(c.pageNum))})()}onNextPage(){var c=this;return(0,u.Z)(function*(){c.pageNum>=c.pdfDoc.numPages||(c.pageNum++,c.queueRenderPage(c.pageNum))})()}AbrirFirmaEc(){var c=this;return(0,u.Z)(function*(){console.log("AbrirFirmaEc");let P=c.nomresis+c.cedulaUser+Math.floor(1e3*Math.random());c.fileName=P,c.certificadosporf.push({nombre:P,archivo:c.archivoBase64}),c.nombreDoc=P;let G={cedula:"0604737940",listado:c.certificadosporf};const H=yield new Promise(te=>c.srvfirma.postFirmaSolicitud(G).subscribe(J=>{te(J)}));console.log("datos 123 => ",H),"success"===H.status&&(c.estaFirmado=!0,c.urlFrima="firmaec://"+c.key+"/firmar?token="+H.token+"&tipo_certificado=2%26llx%3D"+c.coordenadaX+"%26lly%3D"+c.coordenadaY+"%26pagina%3D"+c.pageNum+"%26estampado%3DQR%26url%3Dhttp%3A%2F%2Fapifirmaec.espoch.edu.ec%2Fapi%26razon%3Dfirmado%20desde%20https%3A%2F%2Fsai.espoch.edu.ec",window.open(c.urlFrima,"_blank"))})()}RecuperarArEc(){var c=this;return(0,u.Z)(function*(){c.request=!0,c.srvfirma.getDocFirmado(c.nombreDoc).subscribe({next:P=>{c.loading=!0,c.estaFirmado=!0,c.fileInput=P.body[0].func_recuperar_archivo,console.log("que es esto ---\x3e",c.fileInput),console.log("res => ",P),setTimeout(()=>{let G=document.getElementById("ver-pdf-docFirmado");c.request=!1,G&&(G.innerHTML=' <iframe src="data:application/pdf;base64,'+c.fileInput+'" type="application/pdf" width="100%" height="700" />')},1e3)},error:P=>{console.log("err => ",P)}})})()}OnDriveAlamcenar(){var c=this;return(0,u.Z)(function*(){console.log("entra a OnDriveAlamcenar"),c.fileOut=c.dataURItoBlob(c.fileInput,"pdf"),console.log("fileOut => ",c.fileOut);const P=yield new Promise((H,te)=>c.srvfirma.obtenerTokenOneDrive().pipe((0,N.R)(c.destroy$)).subscribe({next:J=>{H(J)},error:J=>{console.log("error =>",J),te(new Error("Error obtaining token from OneDrive service"))}}));if(console.log("datosToken => ",P),!P)return void O().fire({title:"Ocurrio un error al conectarse al servicio de OneDrive",allowOutsideClick:!1});let G={access_token:P.informacionToken.strAccessToken,bitactivo:P.token,expires_on:P.informacionToken.strExpireOn,id_token:P.informacionToken.strToken,idtok:P.informacionToken.idSistema,tokfechacreacion:P.informacionToken.strFechaCreacion,tokfechaexp:P.informacionToken.strFechaExpiracion,token_type:"Bearer"};if(P.success){if(P.token){console.log("informacion => ",G),getTokenGenerado(G);const H=new Date,te=H.toLocaleString("es",{month:"short"}).toUpperCase()+H.getFullYear().toString().slice(2,4);c.objetoSolicitud.url="Prestamos/"+te+"/_firma_"+c.fileName.replace(" ","_").split(".")[0]+".pdf";const J=yield onUpload(c.fileOut,"Prestamos/"+te,"_firma_"+c.fileName.replace(" ","_").split(".")[0]);console.log("objetoSolicitud => ",c.objetoSolicitud),console.log("resp => ",J),J?(console.log("entra al if",J.status),c.srvPrestamos.putOneDrive(c.intIdDocumento,c.objetoSolicitud.url).pipe((0,N.R)(c.destroy$)).subscribe({next:oe=>{O().close(),O().fire({title:"\xa1Documento guardado correctamente!",icon:"success",showConfirmButton:!1,timer:2500})},error:oe=>{O().close(),O().fire({title:"Ocurrio un error al actualizar el acta",text:"Por favor comun\xedquese con el servicio t\xe9cnico",icon:"error",footer:"Error: "+oe.error.message+"\n"+(oe.error.errores?JSON.stringify(oe.error.errores):""),showDenyButton:!1,confirmButtonText:"Aceptar"}),console.log("err =>",oe)},complete:()=>{}})):O().fire({title:"\xa1Error!",text:"No se ha subido el archivo correctamente, Por favor comun\xedquese con el servicio t\xe9cnico",icon:"error",showDenyButton:!1,confirmButtonText:"Aceptar"})}else console.error("Error al obtener el token");c.fileInput=null}})()}guardarDocFirmado(){this.srvPrestamos.putPDF(this.intIdDocumento,this.fileInput).pipe((0,N.R)(this.destroy$)).subscribe({next:c=>{console.log("data => ",c),O().fire({title:"Documento firmado guardado con \xe9xito",icon:"success",showConfirmButton:!1,timer:2500}),console.log("se ha firmado y se va a cambiar de proceso"),0===this.proceso?(console.log("debe entrar si es la primera firma"),this.myForm.get("int_estado_id")?.setValue(2),this.myForm.get("int_prestamo_estado")?.setValue(1),this.myForm.get("int_estados_prestamo_id")?.setValue(this.srvPrestamos.idEstados)):1===this.proceso&&(this.myForm.get("int_estado_id")?.setValue(3),this.myForm.get("int_prestamo_estado")?.setValue(1),this.myForm.get("int_estados_prestamo_id")?.setValue(this.srvPrestamos.idEstados),this.OnDriveAlamcenar()),console.log("lo que va a la funcion ---\x3e",this.myForm.value,this.srvPrestamos.idPrestamo),setTimeout(()=>{this.srvPrestamos.actualizarPrestamo(this.srvPrestamos.pdf,this.myForm.value),this.srvPrestamos.obtenerPrestamosConEstado({}),window.location.href=g.Z.URL_BASE_PATH+"/prestamos/prestamo"},3e3)},error:c=>{console.log("err => ",c)}})}guardarDocFir(){var c=this;return(0,u.Z)(function*(){O().fire({title:"Guardando documento firmado...",didOpen:()=>{O().showLoading()}}),c.guardarDocFirmado()})()}dataURItoBlob(c,P){const G=window.atob(c),H=G.length,te=new Uint8Array(H);for(let oe=0;oe<H;++oe)te[oe]=G.charCodeAt(oe);const J=new Blob([te],{type:"application/pdf"});return new File([J],P,{type:"application/pdf"})}}return l.\u0275fac=function(c){return new(c||l)(k.Y36(o.gz),k.Y36(o.F0),k.Y36(_.W),k.Y36(M.R),k.Y36(I.qu))},l.\u0275cmp=k.Xpm({type:l,selectors:[["app-firma-electronica"]],viewQuery:function(c,P){if(1&c&&(k.Gf(D,5),k.Gf(s,5)),2&c){let G;k.iGM(G=k.CRH())&&(P.canvasRef=G.first),k.iGM(G=k.CRH())&&(P.myModalInfo=G.first)}},hostBindings:function(c,P){1&c&&k.NdJ("click",function(H){return P.click(H)},!1,k.evT)},decls:14,vars:3,consts:[[1,""],[1,"containerBody"],[1,"titleConfiguration",2,"padding","2rem","min-width","250px"],[1,"titleButton"],[1,"title"],[2,"color","#b41a12"],[2,"color","rgb(160, 160, 160)","font-family","'Roboto', Arial, sans-serif","font-size","14px"],["class","btn-primary-add",3,"click",4,"ngIf"],["class","contenedor-tabla",4,"ngIf"],["id","ver-pdf-docFirmado","style","width: 100%; height: 700px; margin-top: 25px",4,"ngIf"],[1,"btn-primary-add",3,"click"],[1,"contenedor-tabla"],[1,"widget","col-md-12","col-sm-12","col-xs-12",2,"padding","0 !important","border-bottom-color","#657382"],[1,"widget-content"],[1,"custom-tabs-right"],[1,"tab-content","clearfix"],["id","step1",1,"tab-pane","active"],[1,"col-md-12","col-sm-12","col-xs-12"],[1,"col-md-12","col-sm-12","col-xs-12","text-center"],["id","prev","title","Pagina Anterior Firmar",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-arrow-circle-left"],["id","next","title","Pagina Siguiente Firmar",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-arrow-circle-right"],["title","Limpiar P\xe1gina",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-eraser"],["title","Recuperar Archivo",1,"btn","btn-success",2,"padding","5px",3,"disabled","click"],["lass","col-md-12 col-sm-12 col-xs-12 text-center"],[2,"text-align","center","font-weight","bold"],["id","page_num"],["id","page_count"],["id","container",2,"text-align","center","height","600px","overflow","auto"],["id","canvasId"],["canvasRef",""],[2,"display","none"],["id","source","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAACZCAYAAAA8XJi6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACmZJREFUeNrsnV1sXEcVx4+XjVnZa++a4FjgQNZtXkgQdcVDUwVVjiq+REUdXugDEFsqPCE1UUGqUEVcwRNCcoxAPMZISEgIFPsJCSFsBKhCFcR9aEBtiN0GN3JC8K6/WMx2LzPLmeRkemfuvfvh9Sb/nzTa3XvPnTl35twzZ+7O3EsEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPaWrk5W/OXw0E1O0emj16q6S71bfU3Jbwnw0FXVchY/TeXXLnWpfOUJn+5g7eoTIhurbaaQ7/CIZsBvZZRgqrarUq1I/b9tQaTdhPqbx14QxDXn2uXTOit9SDxupb1XlvaryrsLI9hZZ4euexjLnGYhtQcJ8tLfL8fc+lcq6wVXDm+NTcp/Hi2WtzUFMWf27R6UtGFn72I3qqhrJh40pJxpcsiMMokfJpk2XamG80laIsYXJ6nJKotxcJxpZCmFpU3jHavycp/vbYfko+jjPDeFp08qAe2BkDy7b4nsPd3fSE/Zwz7EZI+bLcttscwy2aRkfuss20esZJe4kGJm58jlgDSTIHlWq48ocu5l4asMyjgrLRY1mcxzzlUX3arxjRo86O2mkeT8ZmS/GKTcpH+JBwabHm2WEUW2wZ0rz9tsxvVhayur4Tm2XcVxfnLxgZM3HeevA7rqS5KOOHRb1tK72bbgOVPu2lHyO5Wvxk9q2w16oyvFYFDnjKS2P9x9hZFm1r+QYXMDI2kGD95b06O6g7Z0iYrM7tzq4C63deojSQ8RtmqEYA4N1BP73BzvW6C4qnpJGqGUHuJ43Y5TVx2WtOZLsIrMJPTQ82X72ghwP9QtDKMeQz4oYrxzVtbHx6lTy3e8T3XHY4AKerIPZtG5PRF2cJc/x3lhMGVgxQd4dcTuj040sndArv8fx3ZsPeyHpXQbEqNHOy5avcPDv1EN4se2Y3TeJ7rsfPgAAAAAAAAAAAAAAAAAAAK2n4XWXYWsPPXjXLDowayaTrI28s/4xpJxd15SbkDJ2Y0zPyTjKrWstZ0TdJtE9cXkir9p8OPuc6qVZszCGYsrp2Qm3ufL0ZMA4/53qWaFrCcowFbUqKlIeq/9gdv0Jba+/9MmaWawHpRGodMORV5S+rkmX9epeb3nE+QzGlG29kYm1h4Y1j7gxqqz4rv/w3Yyh4y26d31kL92dTqONdzukHI39B3Kvp6Gq9O41lL5ZEX0hx4d9j72W09qfVPdGy3OdVy8lm8LeEk9GCV2rNIL/xjym4uke3nGslUzR3aVlGbo7LTqrp0o7ytk1clpPlyyX303x1lAmXstZp+51l2edV4buXe/Z0HTv+30+mfGYJcvTRc3DknO2fGsoqxRves5e6t4oZlVV0fJedZe7H4zsgL56XKkJFWZmpcpFst0ReXunXItHCGy2uLHr0b2RQZz2lj3CqOXFVvd073QLFM37Gi9kvWAPJ1d+2vXfqEOPe5aWcewoHyfgjElYdtMTv8jHDbSiDuvWvUHMqqoNE/qocivU4HTvVIsUdaVUWHwVQb1Xrr1A1r4yo6ZRb3lkdVe5lSBG0QuG83ayuqBKE3Wv14vVvLN1m6Th6d6tCPzfjLinZtYn6rLf68kq0wRPsB1ioGWRd44ci2QdC2rXZd4J46uoQU2pWbo34Bxqgwar3IoYcccdeLTWyKJud4jvxQhDGWrA0Posr+psfFXOuueG6zZZC2rZiyV9glCS+0zN0j3JRSkfUzUYQ7/9a2R7gbi1oGOHf3uu2oyIr4qu2zE6JuT8dEMMUMzHDbRb94SYGPO2J5QZ5DqohS9JLrL7cd2lCV5Lnr9g0nTvMyt8DaUHAAdFtxf3cQP7Qfe4XsyMZLc8cnUPPPZ6dFnrJqNkTMDvCIqjPEHN0/i6EeuZFSlfnGHJEsV43EADXqxZuid5MpF52F6Udy5RvAf9Nd/IQkY5vjjCDH+76N1/mThPznEyYWsoc6YhYuS7I3TI8ZWa9sRmOeHZXHUY57s38G6S7rEGGpYXq0Q4h4oIHYhDh1sEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIOnaL4rcHD5aUB9jKhV409yh1atLaCIYWbMMbOrn+ez5y7ksve/xx+j6lSs0+Nrf6EvV1OJI0DWpjG1FiI+qFPYeAG2QxRCZFU5jlrzZHkbY8WHkWdZQZD3s7SYPW3epc0FcYFH7ZL6mXPnSCCm/RM15a0nnog1s8sMjwcef/Vww8rUng4HJE7X06Nc/H3z29FPB/OGHl62XS2hj0a8/DqxkjOgi/9afl1Va4IadErKX+VPnMyHyHldpmdMCf2q5SyGGPc37jOyCkC2I3+tCt3Ghw0Urzymh74Kl+4RVhvk+wceNCaOfZp2muYxllnlgDazww+OjNeM6/cKzwRMnTwYz09PBN59/PnjoyJHgC7/6bvCZJ58IrgwfvWgdaip7SjTeKDeuaUASRmeM0zQwCaNbt/avi8bPC4O8bOVpGpusC2DKyt+WsS8KaWT2tgmrXBL6hx13yTp3eQ4T7Wrndr9baeL3+Syd+uJT9EzlGP116Ap95NgxeuzECdrY2KAXPvFV+sorb9AfXv+HNqJJTz5zopszRjfP28/xtkXrGP37vDCo5/hzVnQv+vMlbrxRzndJNNhMSJ75JtaP1uUMlzsXIVtgHUes7focTrWzy2z366EfuTaSpS8f/yT19/fT8OHDNeP61o/nqOtAhgrZQ7Vt/3Q33BnRrRXYAFa4ocOuavsKl8Y3zp8lhwEbIx5z7HNtGxXd20IddTRvxXc+I/uJY19bY7J2G9nKDRXTF3f//37S7918mX6dfos+/dxJ6v7AYJzjF7liZXB+mo3NdDdhhnaWvdgsy9dLIYaMbuDfidRKcvsxLGq3kb36qa1u+tHLv6z9eOMvr9Bvzv6AZr7xIq3+a4UW116jv//2z3Q86HKN7t5kQ5kU3mmFu4dZy0NJg7ig0qN8XFGMwjRPe/RdEnIUEkORYwQ4JVJSno7RVZpyxj0XQ/5BNbK5ySBdPH69m779+i8o98e3qS/bQ5lrJXrr1ts0f/1PdPLaFj0edL0Us4JN3FRkA1pK4HVmHF3ihChjjvM0Xex5q/HyEV10Us5aF0BUHcyFjFoLHDqMtauR2xr41959SUdPfecmLfzs4MP573/sg5Q6NEBHunspr9KLtz9EVK7Ovn/16qyjm9Ix2RE2jHlu/GmuZHOv6oIVgxkPtBgSZD/CDXuJf5d4QLBidaunRcMtC9kzIi7KWV6kaOkwGqLDtHVvbDFhd35O3MJYFHVwLqY3bAn75Wbs6HJXMP3TVHVsu7+Pskqtj5Y2i+PV1IwyRLuLGXcEwnNsDBNWUL8ohvq2Ua04upYJy0PMOlQfDemiLnAe41ZcdoENOG/p3Kp/NcYco+oH08iEsZkrr4i/lAAAAAAAAAAAAAAAAACABPxPgAEApv1JDfxEcTgAAAAASUVORK5CYII=","width","50","height","50"],["id","ver-pdf-docFirmado",2,"width","100%","height","700px","margin-top","25px"]],template:function(c,P){1&c&&(k.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),k._uU(6," Pantalla de "),k.TgZ(7,"span",5),k._uU(8," Firma "),k.qZA()(),k.TgZ(9,"span",6),k._uU(10," Documento a firmar "),k.qZA()(),k.YNc(11,a,2,0,"button",7),k.qZA(),k.YNc(12,d,50,5,"div",8),k.qZA()()(),k.YNc(13,h,1,0,"div",9)),2&c&&(k.xp6(11),k.Q6J("ngIf",P.estaFirmado&&P.loading),k.xp6(1),k.Q6J("ngIf",!P.request&&!P.loading),k.xp6(1),k.Q6J("ngIf",P.estaFirmado&&P.loading))},dependencies:[r.O5],styles:[".cont-btn-firma[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px;gap:20px}.titleConfiguration[_ngcontent-%COMP%]{width:100%;height:10%}.buttonAgg[_ngcontent-%COMP%]{display:flex;gap:15px}.titleButton[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;margin-bottom:20px}.showCenter[_ngcontent-%COMP%]{height:880%}.father[_ngcontent-%COMP%]{width:auto;padding:2rem;min-width:250px;display:flex}.containerBody[_ngcontent-%COMP%]{width:100%;height:100%}.titleConfiguration[_ngcontent-%COMP%]{height:10%;float:left}.containerContent[_ngcontent-%COMP%]{width:100%;padding-top:15px}.titleConfiguration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#0c0c0c}.containerNavOptions[_ngcontent-%COMP%]{display:flex;padding-top:20px;border-bottom:1px solid #ccc;position:relative;z-index:0;width:100%;height:100%;overflow:auto}.container-button[_ngcontent-%COMP%]{height:100%;display:flex}.container-button[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:1px solid}.container-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:5%;height:100%}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;margin-right:20px;display:flex;border:none;align-items:center;font-size:14px;padding-bottom:5px}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:none;display:flex;border:none;align-items:center;color:#b41a12;position:relative;cursor:pointer}.containerNavOptions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#b41a12;font-weight:500;border-bottom:solid 1px #B41A12}.container-button[_ngcontent-%COMP%]:focus{border-bottom:#B41A12;border:solid 2px #B41A12;position:relative}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]::-moz-focus-inner{background:none;display:flex;border:none;align-items:center;font-weight:600;border-bottom:solid 1px #B41A12;color:#b41a12;cursor:pointer}.btn-agg-Users[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.containerBtnAgregar[_ngcontent-%COMP%]{justify-content:center;width:inherit;height:100%}.btn-agg[_ngcontent-%COMP%]{float:right;display:flex}.component[_ngcontent-%COMP%]{float:left;width:100%;height:100%}.tab-pane.fade[_ngcontent-%COMP%]{width:100%;height:100%}.set[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tableBo[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto}.container-Welcome[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:25px;margin-top:25px}.container-Left[_ngcontent-%COMP%], .container-Right[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}.container-Right[_ngcontent-%COMP%]{align-items:center;justify-content:center}.logo-Espoch[_ngcontent-%COMP%], .logo-Inventory[_ngcontent-%COMP%]{width:150px;height:150px}.tituloModulo[_ngcontent-%COMP%]{font-size:50px;font-family:var(--font-family);font-weight:var(--font-weight-bold);color:var(--bs-gray-600)}span[_ngcontent-%COMP%]{color:var( --color-accent)}p[_ngcontent-%COMP%]{font-size:20px;font-family:var(--font-family);font-weight:500;text-align:justify}"]}),l})()}];let C=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275mod=k.oAB({type:l}),l.\u0275inj=k.cJS({imports:[o.Bz.forChild(v),o.Bz]}),l})(),m=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275mod=k.oAB({type:l}),l.\u0275inj=k.cJS({imports:[r.ez,C]}),l})()},6865:function(y){y.exports=function(){"use strict";function i(s){var a=new _,d=Array.from(s);if(!d.every(function(ye){return!Number.isNaN(ye)}))throw TypeError('CSSMatrix: "'+s+'" must only have numbers.');if(16===d.length){var h=d[0],T=d[1],v=d[2],C=d[3],m=d[4],l=d[5],S=d[6],c=d[7],P=d[8],G=d[9],H=d[10],te=d[11],J=d[12],oe=d[13],Y=d[14],re=d[15];a.m11=h,a.a=h,a.m21=m,a.c=m,a.m31=P,a.m41=J,a.e=J,a.m12=T,a.b=T,a.m22=l,a.d=l,a.m32=G,a.m42=oe,a.f=oe,a.m13=v,a.m23=S,a.m33=H,a.m43=Y,a.m14=C,a.m24=c,a.m34=te,a.m44=re}else{if(6!==d.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");var ee=d[0],f=d[1],p=d[2],x=d[3],U=d[4],ie=d[5];a.m11=ee,a.a=ee,a.m12=f,a.b=f,a.m21=p,a.c=p,a.m22=x,a.d=x,a.m41=U,a.e=U,a.m42=ie,a.f=ie}return a}function t(s){var a=Object.keys(new _);if("object"==typeof s&&a.every(function(d){return d in s}))return i([s.m11,s.m12,s.m13,s.m14,s.m21,s.m22,s.m23,s.m24,s.m31,s.m32,s.m33,s.m34,s.m41,s.m42,s.m43,s.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(s)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function r(s){if("string"!=typeof s)throw TypeError('CSSMatrix: "'+s+'" is not a string.');var a=String(s).replace(/\s/g,""),d=new _,h='CSSMatrix: invalid transform string "'+s+'"';return a.split(")").filter(function(T){return T}).forEach(function(T){var v=T.split("("),C=v[0],m=v[1];if(!m)throw TypeError(h);var l=m.split(",").map(function(U){return U.includes("rad")?parseFloat(U)*(180/Math.PI):parseFloat(U)}),S=l[0],c=l[1],P=l[2],G=l[3],H=[S,c,P],te=[S,c,P,G];if("perspective"===C&&S&&[c,P].every(function(U){return void 0===U}))d.m34=-1/S;else if(C.includes("matrix")&&[6,16].includes(l.length)&&l.every(function(U){return!Number.isNaN(+U)})){var J=l.map(function(U){return Math.abs(U)<1e-6?0:U});d=d.multiply(i(J))}else if("translate3d"===C&&H.every(function(U){return!Number.isNaN(+U)}))d=d.translate(S,c,P);else if("translate"===C&&S&&void 0===P)d=d.translate(S,c||0,0);else if("rotate3d"===C&&te.every(function(U){return!Number.isNaN(+U)})&&G)d=d.rotateAxisAngle(S,c,P,G);else if("rotate"===C&&S&&[c,P].every(function(U){return void 0===U}))d=d.rotate(0,0,S);else if("scale3d"===C&&H.every(function(U){return!Number.isNaN(+U)})&&H.some(function(U){return 1!==U}))d=d.scale(S,c,P);else if("scale"!==C||Number.isNaN(S)||1===S||void 0!==P)if("skew"===C&&(S||!Number.isNaN(S)&&c)&&void 0===P)d=d.skew(S,c||0);else{if(!(/[XYZ]/.test(C)&&S&&[c,P].every(function(U){return void 0===U})&&["translate","rotate","scale","skew"].some(function(U){return C.includes(U)})))throw TypeError(h);if(["skewX","skewY"].includes(C))d=d[C](S);else{var re=C.replace(/[XYZ]/,""),ee=C.replace(re,""),f=["X","Y","Z"].indexOf(ee),p="scale"===re?1:0;d=d[re].apply(d,[0===f?S:p,1===f?S:p,2===f?S:p])}}else{var oe=Number.isNaN(+c);d=d.scale(S,oe?S:c,1)}}),d}function o(s,a){return a?[s.a,s.b,s.c,s.d,s.e,s.f]:[s.m11,s.m12,s.m13,s.m14,s.m21,s.m22,s.m23,s.m24,s.m31,s.m32,s.m33,s.m34,s.m41,s.m42,s.m43,s.m44]}function u(s,a,d){var h=new _;return h.m41=s,h.e=s,h.m42=a,h.f=a,h.m43=d,h}function g(s,a,d){var h=new _,T=Math.PI/180,v=s*T,C=a*T,m=d*T,l=Math.cos(v),S=-Math.sin(v),c=Math.cos(C),P=-Math.sin(C),G=Math.cos(m),H=-Math.sin(m),te=c*G,J=-c*H;h.m11=te,h.a=te,h.m12=J,h.b=J,h.m13=P;var oe=S*P*G+l*H;h.m21=oe,h.c=oe;var Y=l*G-S*P*H;return h.m22=Y,h.d=Y,h.m23=-S*c,h.m31=S*H-l*P*G,h.m32=S*G+l*P*H,h.m33=l*c,h}function w(s,a,d,h){var T=new _,v=Math.sqrt(s*s+a*a+d*d);if(0===v)return T;var C=s/v,m=a/v,l=d/v,S=h*(Math.PI/360),c=Math.sin(S),P=Math.cos(S),G=c*c,H=C*C,te=m*m,J=l*l,oe=1-2*(te+J)*G;T.m11=oe,T.a=oe;var Y=2*(C*m*G+l*c*P);T.m12=Y,T.b=Y,T.m13=2*(C*l*G-m*c*P);var re=2*(m*C*G-l*c*P);T.m21=re,T.c=re;var ee=1-2*(J+H)*G;return T.m22=ee,T.d=ee,T.m23=2*(m*l*G+C*c*P),T.m31=2*(l*C*G+m*c*P),T.m32=2*(l*m*G-C*c*P),T.m33=1-2*(H+te)*G,T}function L(s,a,d){var h=new _;return h.m11=s,h.a=s,h.m22=a,h.d=a,h.m33=d,h}function N(s,a){var d=new _;if(s){var h=s*Math.PI/180,T=Math.tan(h);d.m21=T,d.c=T}if(a){var v=a*Math.PI/180,C=Math.tan(v);d.m12=C,d.b=C}return d}function X(s){return N(s,0)}function O(s){return N(0,s)}function k(s,a){return i([a.m11*s.m11+a.m12*s.m21+a.m13*s.m31+a.m14*s.m41,a.m11*s.m12+a.m12*s.m22+a.m13*s.m32+a.m14*s.m42,a.m11*s.m13+a.m12*s.m23+a.m13*s.m33+a.m14*s.m43,a.m11*s.m14+a.m12*s.m24+a.m13*s.m34+a.m14*s.m44,a.m21*s.m11+a.m22*s.m21+a.m23*s.m31+a.m24*s.m41,a.m21*s.m12+a.m22*s.m22+a.m23*s.m32+a.m24*s.m42,a.m21*s.m13+a.m22*s.m23+a.m23*s.m33+a.m24*s.m43,a.m21*s.m14+a.m22*s.m24+a.m23*s.m34+a.m24*s.m44,a.m31*s.m11+a.m32*s.m21+a.m33*s.m31+a.m34*s.m41,a.m31*s.m12+a.m32*s.m22+a.m33*s.m32+a.m34*s.m42,a.m31*s.m13+a.m32*s.m23+a.m33*s.m33+a.m34*s.m43,a.m31*s.m14+a.m32*s.m24+a.m33*s.m34+a.m34*s.m44,a.m41*s.m11+a.m42*s.m21+a.m43*s.m31+a.m44*s.m41,a.m41*s.m12+a.m42*s.m22+a.m43*s.m32+a.m44*s.m42,a.m41*s.m13+a.m42*s.m23+a.m43*s.m33+a.m44*s.m43,a.m41*s.m14+a.m42*s.m24+a.m43*s.m34+a.m44*s.m44])}var _=function(){for(var a=[],d=arguments.length;d--;)a[d]=arguments[d];var h=this;if(h.a=1,h.b=0,h.c=0,h.d=1,h.e=0,h.f=0,h.m11=1,h.m12=0,h.m13=0,h.m14=0,h.m21=0,h.m22=1,h.m23=0,h.m24=0,h.m31=0,h.m32=0,h.m33=1,h.m34=0,h.m41=0,h.m42=0,h.m43=0,h.m44=1,a.length){var T=[16,6].some(function(v){return v===a.length})?a:a[0];return h.setMatrixValue(T)}return h},M={isIdentity:{configurable:!0},is2D:{configurable:!0}};return M.isIdentity.get=function(){var s=this;return 1===s.m11&&0===s.m12&&0===s.m13&&0===s.m14&&0===s.m21&&1===s.m22&&0===s.m23&&0===s.m24&&0===s.m31&&0===s.m32&&1===s.m33&&0===s.m34&&0===s.m41&&0===s.m42&&0===s.m43&&1===s.m44},M.is2D.get=function(){var s=this;return 0===s.m31&&0===s.m32&&1===s.m33&&0===s.m34&&0===s.m43&&1===s.m44},_.prototype.setMatrixValue=function(a){return"string"==typeof a&&a.length&&"none"!==a?r(a):[Array,Float64Array,Float32Array].some(function(h){return a instanceof h})?i(a):[_,DOMMatrix,Object].some(function(h){return a instanceof h})?t(a):this},_.prototype.toFloat32Array=function(a){return Float32Array.from(o(this,a))},_.prototype.toFloat64Array=function(a){return Float64Array.from(o(this,a))},_.prototype.toString=function(){var d=this.is2D;return(d?"matrix":"matrix3d")+"("+this.toFloat64Array(d).join(", ")+")"},_.prototype.toJSON=function(){var a=this;return Object.assign({},a,{is2D:a.is2D,isIdentity:a.isIdentity})},_.prototype.multiply=function(a){return k(this,a)},_.prototype.translate=function(a,d,h){var v=d,C=h;return void 0===v&&(v=0),void 0===C&&(C=0),k(this,u(a,v,C))},_.prototype.scale=function(a,d,h){var v=d,C=h;return void 0===v&&(v=a),void 0===C&&(C=1),k(this,L(a,v,C))},_.prototype.rotate=function(a,d,h){var T=a,v=d||0,C=h||0;return"number"==typeof a&&void 0===d&&void 0===h&&(C=T,T=0,v=0),k(this,g(T,v,C))},_.prototype.rotateAxisAngle=function(a,d,h,T){if([a,d,h,T].some(function(v){return Number.isNaN(+v)}))throw new TypeError("CSSMatrix: expecting 4 values");return k(this,w(a,d,h,T))},_.prototype.skewX=function(a){return k(this,X(a))},_.prototype.skewY=function(a){return k(this,O(a))},_.prototype.skew=function(a,d){return k(this,N(a,d))},_.prototype.transformPoint=function(a){var d=this,h=d.m11*a.x+d.m21*a.y+d.m31*a.z+d.m41*a.w,T=d.m12*a.x+d.m22*a.y+d.m32*a.z+d.m42*a.w,v=d.m13*a.x+d.m23*a.y+d.m33*a.z+d.m43*a.w,C=d.m14*a.x+d.m24*a.y+d.m34*a.z+d.m44*a.w;return a instanceof DOMPoint?new DOMPoint(h,T,v,C):{x:h,y:T,z:v,w:C}},Object.defineProperties(_.prototype,M),Object.assign(_,{Translate:u,Rotate:g,RotateAxisAngle:w,Scale:L,SkewX:X,SkewY:O,Skew:N,Multiply:k,fromArray:i,fromMatrix:t,fromString:r,toArray:o}),Object.assign(_,{Version:"1.0.3"}),_}()},5908:function(module,__unused_webpack_exports,__webpack_require__){var t;t=()=>(()=>{var __webpack_modules__=[,(y,i,t)=>{"use strict";function r(de){return function g(de){if(Array.isArray(de))return _(de)}(de)||function u(de){if(typeof Symbol<"u"&&null!=de[Symbol.iterator]||null!=de["@@iterator"])return Array.from(de)}(de)||k(de)||function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(de,Te){return function X(de){if(Array.isArray(de))return de}(de)||function N(de,Te){var ue=null==de?null:typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(null!=ue){var nt,rt,be=[],ze=!0,Ke=!1;try{for(ue=ue.call(de);!(ze=(nt=ue.next()).done)&&(be.push(nt.value),!Te||be.length!==Te);ze=!0);}catch(it){Ke=!0,rt=it}finally{try{!ze&&null!=ue.return&&ue.return()}finally{if(Ke)throw rt}}return be}}(de,Te)||k(de,Te)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(de,Te){if(de){if("string"==typeof de)return _(de,Te);var ue=Object.prototype.toString.call(de).slice(8,-1);if("Object"===ue&&de.constructor&&(ue=de.constructor.name),"Map"===ue||"Set"===ue)return Array.from(de);if("Arguments"===ue||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return _(de,Te)}}function _(de,Te){(null==Te||Te>de.length)&&(Te=de.length);for(var ue=0,be=new Array(Te);ue<Te;ue++)be[ue]=de[ue];return be}function M(de){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te})(de)}function I(de,Te){for(var ue=0;ue<Te.length;ue++){var be=Te[ue];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(de,be.key,be)}}function D(de,Te,ue){return Te&&I(de.prototype,Te),ue&&I(de,ue),Object.defineProperty(de,"prototype",{writable:!1}),de}function s(de,Te){if(!(de instanceof Te))throw new TypeError("Cannot call a class as a function")}function a(de,Te){if("function"!=typeof Te&&null!==Te)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(Te&&Te.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),Te&&d(de,Te)}function d(de,Te){return(d=Object.setPrototypeOf||function(be,ze){return be.__proto__=ze,be})(de,Te)}function h(de){var Te=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ze,be=m(de);if(Te){var Ke=m(this).constructor;ze=Reflect.construct(be,arguments,Ke)}else ze=be.apply(this,arguments);return T(this,ze)}}function T(de,Te){if(Te&&("object"===M(Te)||"function"==typeof Te))return Te;if(void 0!==Te)throw new TypeError("Derived constructors may only return object or undefined");return function v(de){if(void 0===de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}(de)}function m(de){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)})(de)}Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=B,i.arraysToBytes=function V(de){var Te=de.length;if(1===Te&&de[0]instanceof Uint8Array)return de[0];for(var ue=0,be=0;be<Te;be++)ue+=B(de[be]);for(var ze=0,Ke=new Uint8Array(ue),nt=0;nt<Te;nt++){var rt=de[nt];rt instanceof Uint8Array||(rt="string"==typeof rt?W(rt):new Uint8Array(rt));var it=rt.byteLength;Ke.set(rt,ze),ze+=it}return Ke},i.assert=function E(de,Te){de||ae(Te)},i.bytesToString=function F(de){("object"!==M(de)||null===de||void 0===de.length)&&ae("Invalid argument for bytesToString");var Te=de.length;if(Te<8192)return String.fromCharCode.apply(null,de);for(var be=[],ze=0;ze<Te;ze+=8192){var Ke=Math.min(ze+8192,Te),nt=de.subarray(ze,Ke);be.push(String.fromCharCode.apply(null,nt))}return be.join("")},i.createPromiseCapability=function et(){var de=Object.create(null),Te=!1;return Object.defineProperty(de,"settled",{get:function(){return Te}}),de.promise=new Promise(function(ue,be){de.resolve=function(ze){Te=!0,ue(ze)},de.reject=function(ze){Te=!0,be(ze)}}),de},i.createValidAbsoluteUrl=function $(de){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!de)return null;try{if(ue&&"string"==typeof de){if(ue.addDefaultProtocol&&de.startsWith("www.")){var be=de.match(/\./g);be&&be.length>=2&&(de="http://".concat(de))}if(ue.tryConvertEncoding)try{de=Ve(de)}catch{}}var ze=Te?new URL(de,Te):new URL(de);if(A(ze))return ze}catch{}return null},i.escapeString=function Le(de){return de.replace(/([()\\\n\r])/g,function(Te){return"\n"===Te?"\\n":"\r"===Te?"\\r":"\\".concat(Te)})},i.getModificationDate=function Ze(){var de=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,Te=[de.getUTCFullYear().toString(),(de.getUTCMonth()+1).toString().padStart(2,"0"),de.getUTCDate().toString().padStart(2,"0"),de.getUTCHours().toString().padStart(2,"0"),de.getUTCMinutes().toString().padStart(2,"0"),de.getUTCSeconds().toString().padStart(2,"0")];return Te.join("")},i.getVerbosityLevel=function Ie(){return Oe},i.info=function Me(de){Oe>=pe.INFOS&&console.log("Info: ".concat(de))},i.isArrayBuffer=function Ye(de){return"object"===M(de)&&null!==de&&void 0!==de.byteLength},i.isArrayEqual=function Je(de,Te){if(de.length!==Te.length)return!1;for(var ue=0,be=de.length;ue<be;ue++)if(de[ue]!==Te[ue])return!1;return!0},i.isAscii=function je(de){return/^[\x00-\x7F]*$/.test(de)},i.objectFromMap=function Se(de){var be,Te=Object.create(null),ue=function O(de,Te){var ue=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(!ue){if(Array.isArray(de)||(ue=k(de))||Te&&de&&"number"==typeof de.length){ue&&(de=ue);var be=0,ze=function(){};return{s:ze,n:function(){return be>=de.length?{done:!0}:{done:!1,value:de[be++]}},e:function(ct){throw ct},f:ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rt,Ke=!0,nt=!1;return{s:function(){ue=ue.call(de)},n:function(){var ct=ue.next();return Ke=ct.done,ct},e:function(ct){nt=!0,rt=ct},f:function(){try{!Ke&&null!=ue.return&&ue.return()}finally{if(nt)throw rt}}}}(de);try{for(ue.s();!(be=ue.n()).done;){var ze=w(be.value,2);Te[ze[0]]=ze[1]}}catch(rt){ue.e(rt)}finally{ue.f()}return Te},i.objectSize=function ce(de){return Object.keys(de).length},i.setVerbosityLevel=function Re(de){Number.isInteger(de)&&(Oe=de)},i.shadow=q,i.string32=function z(de){return String.fromCharCode(de>>24&255,de>>16&255,de>>8&255,255&de)},i.stringToBytes=W,i.stringToPDFString=function Xe(de){var Te;if(de[0]>="\xef"&&("\xfe"===de[0]&&"\xff"===de[1]?Te="utf-16be":"\xff"===de[0]&&"\xfe"===de[1]?Te="utf-16le":"\xef"===de[0]&&"\xbb"===de[1]&&"\xbf"===de[2]&&(Te="utf-8"),Te))try{var ue=new TextDecoder(Te,{fatal:!0}),be=W(de);return ue.decode(be)}catch(it){j('stringToPDFString: "'.concat(it,'".'))}for(var ze=[],Ke=0,nt=de.length;Ke<nt;Ke++){var rt=Be[de.charCodeAt(Ke)];ze.push(rt?String.fromCharCode(rt):de.charAt(Ke))}return ze.join("")},i.stringToUTF16BEString=function Ge(de){for(var Te=["\xfe\xff"],ue=0,be=de.length;ue<be;ue++){var ze=de.charCodeAt(ue);Te.push(String.fromCharCode(ze>>8&255),String.fromCharCode(255&ze))}return Te.join("")},i.stringToUTF8String=Ve,i.unreachable=ae,i.utf8StringToString=function Ne(de){return unescape(encodeURIComponent(de))},i.warn=j,t(2),i.IDENTITY_MATRIX=[1,0,0,1,0,0],i.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],i.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},i.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},i.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},i.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},i.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},i.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},i.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},i.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},i.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},i.AnnotationReplyType={GROUP:"Group",REPLY:"R"},i.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},i.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},i.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},i.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},i.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},i.PageActionEventType={O:"PageOpen",C:"PageClose"},i.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},i.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var pe={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=pe,i.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},i.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},i.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},i.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var Oe=pe.WARNINGS;function j(de){Oe>=pe.WARNINGS&&console.log("Warning: ".concat(de))}function ae(de){throw new Error(de)}function A(de){if(!de)return!1;switch(de.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function q(de,Te,ue){return Object.defineProperty(de,Te,{value:ue,enumerable:!0,configurable:!0,writable:!1}),ue}var Z=function(){function Te(ue,be){this.constructor===Te&&ae("Cannot initialize BaseException."),this.message=ue,this.name=be}return Te.prototype=new Error,Te.constructor=Te,Te}();function W(de){"string"!=typeof de&&ae("Invalid argument for stringToBytes");for(var Te=de.length,ue=new Uint8Array(Te),be=0;be<Te;++be)ue[be]=255&de.charCodeAt(be);return ue}function B(de){return void 0!==de.length?de.length:void 0!==de.byteLength?de.byteLength:void ae("Invalid argument for arrayByteLength")}i.BaseException=Z,i.PasswordException=function(de){a(ue,de);var Te=h(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Te.call(this,be,"PasswordException")).code=ze,Ke}return D(ue)}(Z),i.UnknownErrorException=function(de){a(ue,de);var Te=h(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Te.call(this,be,"UnknownErrorException")).details=ze,Ke}return D(ue)}(Z),i.InvalidPDFException=function(de){a(ue,de);var Te=h(ue);function ue(be){return s(this,ue),Te.call(this,be,"InvalidPDFException")}return D(ue)}(Z),i.MissingPDFException=function(de){a(ue,de);var Te=h(ue);function ue(be){return s(this,ue),Te.call(this,be,"MissingPDFException")}return D(ue)}(Z),i.UnexpectedResponseException=function(de){a(ue,de);var Te=h(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Te.call(this,be,"UnexpectedResponseException")).status=ze,Ke}return D(ue)}(Z),i.FormatError=function(de){a(ue,de);var Te=h(ue);function ue(be){return s(this,ue),Te.call(this,be,"FormatError")}return D(ue)}(Z),i.AbortException=function(de){a(ue,de);var Te=h(ue);function ue(be){return s(this,ue),Te.call(this,be,"AbortException")}return D(ue)}(Z),i.FeatureTest=function(){function de(){s(this,de)}return D(de,null,[{key:"isLittleEndian",get:function(){return q(this,"isLittleEndian",function we(){var de=new Uint8Array(4);return de[0]=1,1===new Uint32Array(de.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function(){return q(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch{return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}]),de}();var We=r(Array(256).keys()).map(function(de){return de.toString(16).padStart(2,"0")});i.Util=function(){function de(){s(this,de)}return D(de,null,[{key:"makeHexColor",value:function(ue,be,ze){return"#".concat(We[ue]).concat(We[be]).concat(We[ze])}},{key:"scaleMinMax",value:function(ue,be){var ze;ue[0]?(ue[0]<0&&(ze=be[0],be[0]=be[1],be[1]=ze),be[0]*=ue[0],be[1]*=ue[0],ue[3]<0&&(ze=be[2],be[2]=be[3],be[3]=ze),be[2]*=ue[3],be[3]*=ue[3]):(ze=be[0],be[0]=be[2],be[2]=ze,ze=be[1],be[1]=be[3],be[3]=ze,ue[1]<0&&(ze=be[2],be[2]=be[3],be[3]=ze),be[2]*=ue[1],be[3]*=ue[1],ue[2]<0&&(ze=be[0],be[0]=be[1],be[1]=ze),be[0]*=ue[2],be[1]*=ue[2]),be[0]+=ue[4],be[1]+=ue[4],be[2]+=ue[5],be[3]+=ue[5]}},{key:"transform",value:function(ue,be){return[ue[0]*be[0]+ue[2]*be[1],ue[1]*be[0]+ue[3]*be[1],ue[0]*be[2]+ue[2]*be[3],ue[1]*be[2]+ue[3]*be[3],ue[0]*be[4]+ue[2]*be[5]+ue[4],ue[1]*be[4]+ue[3]*be[5]+ue[5]]}},{key:"applyTransform",value:function(ue,be){return[ue[0]*be[0]+ue[1]*be[2]+be[4],ue[0]*be[1]+ue[1]*be[3]+be[5]]}},{key:"applyInverseTransform",value:function(ue,be){var ze=be[0]*be[3]-be[1]*be[2];return[(ue[0]*be[3]-ue[1]*be[2]+be[2]*be[5]-be[4]*be[3])/ze,(-ue[0]*be[1]+ue[1]*be[0]+be[4]*be[1]-be[5]*be[0])/ze]}},{key:"getAxialAlignedBoundingBox",value:function(ue,be){var ze=de.applyTransform(ue,be),Ke=de.applyTransform(ue.slice(2,4),be),nt=de.applyTransform([ue[0],ue[3]],be),rt=de.applyTransform([ue[2],ue[1]],be);return[Math.min(ze[0],Ke[0],nt[0],rt[0]),Math.min(ze[1],Ke[1],nt[1],rt[1]),Math.max(ze[0],Ke[0],nt[0],rt[0]),Math.max(ze[1],Ke[1],nt[1],rt[1])]}},{key:"inverseTransform",value:function(ue){var be=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/be,-ue[1]/be,-ue[2]/be,ue[0]/be,(ue[2]*ue[5]-ue[4]*ue[3])/be,(ue[4]*ue[1]-ue[5]*ue[0])/be]}},{key:"apply3dTransform",value:function(ue,be){return[ue[0]*be[0]+ue[1]*be[1]+ue[2]*be[2],ue[3]*be[0]+ue[4]*be[1]+ue[5]*be[2],ue[6]*be[0]+ue[7]*be[1]+ue[8]*be[2]]}},{key:"singularValueDecompose2dScale",value:function(ue){var be=[ue[0],ue[2],ue[1],ue[3]],ze=ue[0]*be[0]+ue[1]*be[2],Ke=ue[0]*be[1]+ue[1]*be[3],nt=ue[2]*be[0]+ue[3]*be[2],rt=ue[2]*be[1]+ue[3]*be[3],it=(ze+rt)/2,ct=Math.sqrt(Math.pow(ze+rt,2)-4*(ze*rt-nt*Ke))/2,ht=it-ct||1;return[Math.sqrt(it+ct||1),Math.sqrt(ht)]}},{key:"normalizeRect",value:function(ue){var be=ue.slice(0);return ue[0]>ue[2]&&(be[0]=ue[2],be[2]=ue[0]),ue[1]>ue[3]&&(be[1]=ue[3],be[3]=ue[1]),be}},{key:"intersect",value:function(ue,be){var ze=Math.max(Math.min(ue[0],ue[2]),Math.min(be[0],be[2])),Ke=Math.min(Math.max(ue[0],ue[2]),Math.max(be[0],be[2]));if(ze>Ke)return null;var nt=Math.max(Math.min(ue[1],ue[3]),Math.min(be[1],be[3])),rt=Math.min(Math.max(ue[1],ue[3]),Math.max(be[1],be[3]));return nt>rt?null:[ze,nt,Ke,rt]}},{key:"bezierBoundingBox",value:function(ue,be,ze,Ke,nt,rt,it,ct){for(var pt,ft,yt,st,At,zt,Ht,Jt,Ct=[],ht=[[],[]],Mt=0;Mt<2;++Mt)if(0===Mt?(ft=6*ue-12*ze+6*nt,pt=-3*ue+9*ze-9*nt+3*it,yt=3*ze-3*ue):(ft=6*be-12*Ke+6*rt,pt=-3*be+9*Ke-9*rt+3*ct,yt=3*Ke-3*be),Math.abs(pt)<1e-12){if(Math.abs(ft)<1e-12)continue;0<(st=-yt/ft)&&st<1&&Ct.push(st)}else Ht=ft*ft-4*yt*pt,Jt=Math.sqrt(Ht),!(Ht<0)&&(0<(At=(-ft+Jt)/(2*pt))&&At<1&&Ct.push(At),0<(zt=(-ft-Jt)/(2*pt))&&zt<1&&Ct.push(zt));for(var gt,Dt=Ct.length,Lt=Dt;Dt--;)ht[0][Dt]=(gt=1-(st=Ct[Dt]))*gt*gt*ue+3*gt*gt*st*ze+3*gt*st*st*nt+st*st*st*it,ht[1][Dt]=gt*gt*gt*be+3*gt*gt*st*Ke+3*gt*st*st*rt+st*st*st*ct;return ht[0][Lt]=ue,ht[1][Lt]=be,ht[0][Lt+1]=it,ht[1][Lt+1]=ct,ht[0].length=ht[1].length=Lt+2,[Math.min.apply(Math,r(ht[0])),Math.min.apply(Math,r(ht[1])),Math.max.apply(Math,r(ht[0])),Math.max.apply(Math,r(ht[1]))]}}]),de}();var Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ve(de){return decodeURIComponent(escape(de))}},(y,i,t)=>{"use strict";var r=t(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!r.isNodeJS||(globalThis.btoa=function(u){return Buffer.from(u,"binary").toString("base64")}),globalThis.atob||!r.isNodeJS||(globalThis.atob=function(u){return Buffer.from(u,"base64").toString("binary")}),globalThis.DOMMatrix||!r.isNodeJS||(globalThis.DOMMatrix=__webpack_require__(6865)),globalThis.Promise.allSettled||(globalThis.Promise=t(4)),globalThis.ReadableStream||!r.isNodeJS||(globalThis.ReadableStream=__webpack_require__(3800).ReadableStream),globalThis.structuredClone||t(137))},(y,i)=>{"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;var r=!("object"!==(typeof process>"u"?"undefined":t(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);i.isNodeJS=r},(y,i,t)=>{t(5),t(91),t(97),t(99),t(131),t(132),t(133),t(134);var r=t(136);y.exports=r.Promise},(y,i,t)=>{t(6)},(y,i,t)=>{"use strict";var r=t(7),o=t(8),u=t(27),g=t(69),w=t(71),L=t(57),N=t(73),X=t(46),O=t(15),k=t(77),_=t(78),M=t(79),I=t(88),D=t(36),s=t(90),a=D("toStringTag"),d=o.Error,h=[].push,T=function(m,l){var P,S=arguments.length>2?arguments[2]:void 0,c=u(v,this);w?P=w(new d,c?g(this):v):(P=c?this:N(v),X(P,a,"Error")),void 0!==l&&X(P,"message",I(l)),s&&X(P,"stack",k(P.stack,1)),_(P,S);var G=[];return M(m,h,{that:G}),X(P,"errors",G),P};w?w(T,d):L(T,d,{name:!0});var v=T.prototype=N(d.prototype,{constructor:O(1,T),message:O(1,""),name:O(1,"AggregateError")});r({global:!0},{AggregateError:T})},(y,i,t)=>{var r=t(8),o=t(9).f,u=t(46),g=t(50),w=t(40),L=t(57),N=t(68);y.exports=function(X,O){var D,s,a,d,h,k=X.target,_=X.global,M=X.stat;if(D=_?r:M?r[k]||w(k,{}):(r[k]||{}).prototype)for(s in O){if(d=O[s],a=X.noTargetGet?(h=o(D,s))&&h.value:D[s],!N(_?s:k+(M?".":"#")+s,X.forced)&&void 0!==a){if(typeof d==typeof a)continue;L(d,a)}(X.sham||a&&a.sham)&&u(d,"sham",!0),g(D,s,d,X)}}},y=>{var i=function(t){return t&&t.Math==Math&&t};y.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(y,i,t)=>{var r=t(10),o=t(12),u=t(14),g=t(15),w=t(16),L=t(21),N=t(41),X=t(44),O=Object.getOwnPropertyDescriptor;i.f=r?O:function(_,M){if(_=w(_),M=L(M),X)try{return O(_,M)}catch{}if(N(_,M))return g(!o(u.f,_,M),_[M])}},(y,i,t)=>{var r=t(11);y.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},y=>{y.exports=function(i){try{return!!i()}catch{return!0}}},(y,i,t)=>{var r=t(13),o=Function.prototype.call;y.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},(y,i,t)=>{var r=t(11);y.exports=!r(function(){var o=function(){}.bind();return"function"!=typeof o||o.hasOwnProperty("prototype")})},(y,i)=>{"use strict";var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!t.call({1:2},1);i.f=o?function(g){var w=r(this,g);return!!w&&w.enumerable}:t},y=>{y.exports=function(i,t){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:t}}},(y,i,t)=>{var r=t(17),o=t(20);y.exports=function(u){return r(o(u))}},(y,i,t)=>{var r=t(8),o=t(18),u=t(11),g=t(19),w=r.Object,L=o("".split);y.exports=u(function(){return!w("z").propertyIsEnumerable(0)})?function(N){return"String"==g(N)?L(N,""):w(N)}:w},(y,i,t)=>{var r=t(13),o=Function.prototype,g=o.call,w=r&&o.bind.bind(g,g);y.exports=r?function(L){return L&&w(L)}:function(L){return L&&function(){return g.apply(L,arguments)}}},(y,i,t)=>{var r=t(18),o=r({}.toString),u=r("".slice);y.exports=function(g){return u(o(g),8,-1)}},(y,i,t)=>{var o=t(8).TypeError;y.exports=function(u){if(null==u)throw o("Can't call method on "+u);return u}},(y,i,t)=>{var r=t(22),o=t(25);y.exports=function(u){var g=r(u,"string");return o(g)?g:g+""}},(y,i,t)=>{var r=t(8),o=t(12),u=t(23),g=t(25),w=t(32),L=t(35),N=t(36),X=r.TypeError,O=N("toPrimitive");y.exports=function(k,_){if(!u(k)||g(k))return k;var I,M=w(k,O);if(M){if(void 0===_&&(_="default"),I=o(M,k,_),!u(I)||g(I))return I;throw X("Can't convert object to primitive value")}return void 0===_&&(_="number"),L(k,_)}},(y,i,t)=>{var r=t(24);y.exports=function(o){return"object"==typeof o?null!==o:r(o)}},y=>{y.exports=function(i){return"function"==typeof i}},(y,i,t)=>{var r=t(8),o=t(26),u=t(24),g=t(27),w=t(28),L=r.Object;y.exports=w?function(N){return"symbol"==typeof N}:function(N){var X=o("Symbol");return u(X)&&g(X.prototype,L(N))}},(y,i,t)=>{var r=t(8),o=t(24),u=function(g){return o(g)?g:void 0};y.exports=function(g,w){return arguments.length<2?u(r[g]):r[g]&&r[g][w]}},(y,i,t)=>{var r=t(18);y.exports=r({}.isPrototypeOf)},(y,i,t)=>{var r=t(29);y.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(y,i,t)=>{var r=t(30),o=t(11);y.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&r&&r<41})},(y,i,t)=>{var N,X,r=t(8),o=t(31),u=r.process,g=r.Deno,w=u&&u.versions||g&&g.version,L=w&&w.v8;L&&(X=(N=L.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!X&&o&&(!(N=o.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=o.match(/Chrome\/(\d+)/))&&(X=+N[1]),y.exports=X},(y,i,t)=>{var r=t(26);y.exports=r("navigator","userAgent")||""},(y,i,t)=>{var r=t(33);y.exports=function(o,u){var g=o[u];return null==g?void 0:r(g)}},(y,i,t)=>{var r=t(8),o=t(24),u=t(34),g=r.TypeError;y.exports=function(w){if(o(w))return w;throw g(u(w)+" is not a function")}},(y,i,t)=>{var o=t(8).String;y.exports=function(u){try{return o(u)}catch{return"Object"}}},(y,i,t)=>{var r=t(8),o=t(12),u=t(24),g=t(23),w=r.TypeError;y.exports=function(L,N){var X,O;if("string"===N&&u(X=L.toString)&&!g(O=o(X,L))||u(X=L.valueOf)&&!g(O=o(X,L))||"string"!==N&&u(X=L.toString)&&!g(O=o(X,L)))return O;throw w("Can't convert object to primitive value")}},(y,i,t)=>{var r=t(8),o=t(37),u=t(41),g=t(43),w=t(29),L=t(28),N=o("wks"),X=r.Symbol,O=X&&X.for,k=L?X:X&&X.withoutSetter||g;y.exports=function(_){if(!u(N,_)||!w&&"string"!=typeof N[_]){var M="Symbol."+_;N[_]=w&&u(X,_)?X[_]:L&&O?O(M):k(M)}return N[_]}},(y,i,t)=>{var r=t(38),o=t(39);(y.exports=function(u,g){return o[u]||(o[u]=void 0!==g?g:{})})("versions",[]).push({version:"3.22.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.3/LICENSE",source:"https://github.com/zloirock/core-js"})},y=>{y.exports=!1},(y,i,t)=>{var r=t(8),o=t(40),u="__core-js_shared__",g=r[u]||o(u,{});y.exports=g},(y,i,t)=>{var r=t(8),o=Object.defineProperty;y.exports=function(u,g){try{o(r,u,{value:g,configurable:!0,writable:!0})}catch{r[u]=g}return g}},(y,i,t)=>{var r=t(18),o=t(42),u=r({}.hasOwnProperty);y.exports=Object.hasOwn||function(w,L){return u(o(w),L)}},(y,i,t)=>{var r=t(8),o=t(20),u=r.Object;y.exports=function(g){return u(o(g))}},(y,i,t)=>{var r=t(18),o=0,u=Math.random(),g=r(1..toString);y.exports=function(w){return"Symbol("+(void 0===w?"":w)+")_"+g(++o+u,36)}},(y,i,t)=>{var r=t(10),o=t(11),u=t(45);y.exports=!r&&!o(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},(y,i,t)=>{var r=t(8),o=t(23),u=r.document,g=o(u)&&o(u.createElement);y.exports=function(w){return g?u.createElement(w):{}}},(y,i,t)=>{var r=t(10),o=t(47),u=t(15);y.exports=r?function(g,w,L){return o.f(g,w,u(1,L))}:function(g,w,L){return g[w]=L,g}},(y,i,t)=>{var r=t(8),o=t(10),u=t(44),g=t(48),w=t(49),L=t(21),N=r.TypeError,X=Object.defineProperty,O=Object.getOwnPropertyDescriptor,k="enumerable",_="configurable",M="writable";i.f=o?g?function(D,s,a){if(w(D),s=L(s),w(a),"function"==typeof D&&"prototype"===s&&"value"in a&&M in a&&!a[M]){var d=O(D,s);d&&d[M]&&(D[s]=a.value,a={configurable:_ in a?a[_]:d[_],enumerable:k in a?a[k]:d[k],writable:!1})}return X(D,s,a)}:X:function(D,s,a){if(w(D),s=L(s),w(a),u)try{return X(D,s,a)}catch{}if("get"in a||"set"in a)throw N("Accessors not supported");return"value"in a&&(D[s]=a.value),D}},(y,i,t)=>{var r=t(10),o=t(11);y.exports=r&&o(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},(y,i,t)=>{var r=t(8),o=t(23),u=r.String,g=r.TypeError;y.exports=function(w){if(o(w))return w;throw g(u(w)+" is not an object")}},(y,i,t)=>{var r=t(8),o=t(24),u=t(41),g=t(46),w=t(40),L=t(51),N=t(52),X=t(56).CONFIGURABLE,O=N.get,k=N.enforce,_=String(String).split("String");(y.exports=function(M,I,D,s){var v,a=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet,T=s&&void 0!==s.name?s.name:I;o(D)&&("Symbol("===String(T).slice(0,7)&&(T="["+String(T).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(D,"name")||X&&D.name!==T)&&g(D,"name",T),(v=k(D)).source||(v.source=_.join("string"==typeof T?T:""))),M!==r?(a?!h&&M[I]&&(d=!0):delete M[I],d?M[I]=D:g(M,I,D)):d?M[I]=D:w(I,D)})(Function.prototype,"toString",function(){return o(this)&&O(this).source||L(this)})},(y,i,t)=>{var r=t(18),o=t(24),u=t(39),g=r(Function.toString);o(u.inspectSource)||(u.inspectSource=function(w){return g(w)}),y.exports=u.inspectSource},(y,i,t)=>{var I,D,s,r=t(53),o=t(8),u=t(18),g=t(23),w=t(46),L=t(41),N=t(39),X=t(54),O=t(55),k="Object already initialized",_=o.TypeError;if(r||N.state){var h=N.state||(N.state=new(0,o.WeakMap)),T=u(h.get),v=u(h.has),C=u(h.set);I=function(l,S){if(v(h,l))throw new _(k);return S.facade=l,C(h,l,S),S},D=function(l){return T(h,l)||{}},s=function(l){return v(h,l)}}else{var m=X("state");O[m]=!0,I=function(l,S){if(L(l,m))throw new _(k);return S.facade=l,w(l,m,S),S},D=function(l){return L(l,m)?l[m]:{}},s=function(l){return L(l,m)}}y.exports={set:I,get:D,has:s,enforce:function(l){return s(l)?D(l):I(l,{})},getterFor:function(l){return function(S){var c;if(!g(S)||(c=D(S)).type!==l)throw _("Incompatible receiver, "+l+" required");return c}}}},(y,i,t)=>{var r=t(8),o=t(24),u=t(51),g=r.WeakMap;y.exports=o(g)&&/native code/.test(u(g))},(y,i,t)=>{var r=t(37),o=t(43),u=r("keys");y.exports=function(g){return u[g]||(u[g]=o(g))}},y=>{y.exports={}},(y,i,t)=>{var r=t(10),o=t(41),u=Function.prototype,g=r&&Object.getOwnPropertyDescriptor,w=o(u,"name"),L=w&&"something"===function(){}.name,N=w&&(!r||r&&g(u,"name").configurable);y.exports={EXISTS:w,PROPER:L,CONFIGURABLE:N}},(y,i,t)=>{var r=t(41),o=t(58),u=t(9),g=t(47);y.exports=function(w,L,N){for(var X=o(L),O=g.f,k=u.f,_=0;_<X.length;_++){var M=X[_];!r(w,M)&&(!N||!r(N,M))&&O(w,M,k(L,M))}}},(y,i,t)=>{var r=t(26),o=t(18),u=t(59),g=t(67),w=t(49),L=o([].concat);y.exports=r("Reflect","ownKeys")||function(X){var O=u.f(w(X)),k=g.f;return k?L(O,k(X)):O}},(y,i,t)=>{var r=t(60),u=t(66).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(w){return r(w,u)}},(y,i,t)=>{var r=t(18),o=t(41),u=t(16),g=t(61).indexOf,w=t(55),L=r([].push);y.exports=function(N,X){var M,O=u(N),k=0,_=[];for(M in O)!o(w,M)&&o(O,M)&&L(_,M);for(;X.length>k;)o(O,M=X[k++])&&(~g(_,M)||L(_,M));return _}},(y,i,t)=>{var r=t(16),o=t(62),u=t(64),g=function(w){return function(L,N,X){var M,O=r(L),k=u(O),_=o(X,k);if(w&&N!=N){for(;k>_;)if((M=O[_++])!=M)return!0}else for(;k>_;_++)if((w||_ in O)&&O[_]===N)return w||_||0;return!w&&-1}};y.exports={includes:g(!0),indexOf:g(!1)}},(y,i,t)=>{var r=t(63),o=Math.max,u=Math.min;y.exports=function(g,w){var L=r(g);return L<0?o(L+w,0):u(L,w)}},y=>{var i=Math.ceil,t=Math.floor;y.exports=function(r){var o=+r;return o!=o||0===o?0:(o>0?t:i)(o)}},(y,i,t)=>{var r=t(65);y.exports=function(o){return r(o.length)}},(y,i,t)=>{var r=t(63),o=Math.min;y.exports=function(u){return u>0?o(r(u),9007199254740991):0}},y=>{y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(y,i)=>{i.f=Object.getOwnPropertySymbols},(y,i,t)=>{var r=t(11),o=t(24),u=/#|\.prototype\./,g=function(O,k){var _=L[w(O)];return _==X||_!=N&&(o(k)?r(k):!!k)},w=g.normalize=function(O){return String(O).replace(u,".").toLowerCase()},L=g.data={},N=g.NATIVE="N",X=g.POLYFILL="P";y.exports=g},(y,i,t)=>{var r=t(8),o=t(41),u=t(24),g=t(42),w=t(54),L=t(70),N=w("IE_PROTO"),X=r.Object,O=X.prototype;y.exports=L?X.getPrototypeOf:function(k){var _=g(k);if(o(_,N))return _[N];var M=_.constructor;return u(M)&&_ instanceof M?M.prototype:_ instanceof X?O:null}},(y,i,t)=>{var r=t(11);y.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},(y,i,t)=>{var r=t(18),o=t(49),u=t(72);y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var L,g=!1,w={};try{(L=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(w,[]),g=w instanceof Array}catch{}return function(X,O){return o(X),u(O),g?L(X,O):X.__proto__=O,X}}():void 0)},(y,i,t)=>{var r=t(8),o=t(24),u=r.String,g=r.TypeError;y.exports=function(w){if("object"==typeof w||o(w))return w;throw g("Can't set "+u(w)+" as a prototype")}},(y,i,t)=>{var d,r=t(49),o=t(74),u=t(66),g=t(55),w=t(76),L=t(45),N=t(54),k="prototype",_="script",M=N("IE_PROTO"),I=function(){},D=function(T){return"<"+_+">"+T+"</"+_+">"},s=function(T){T.write(D("")),T.close();var v=T.parentWindow.Object;return T=null,v},h=function(){try{d=new ActiveXObject("htmlfile")}catch{}h=typeof document<"u"?document.domain&&d?s(d):function(){var C,T=L("iframe");return T.style.display="none",w.appendChild(T),T.src=String("javascript:"),(C=T.contentWindow.document).open(),C.write(D("document.F=Object")),C.close(),C.F}():s(d);for(var T=u.length;T--;)delete h[k][u[T]];return h()};g[M]=!0,y.exports=Object.create||function(v,C){var m;return null!==v?(I[k]=r(v),m=new I,I[k]=null,m[M]=v):m=h(),void 0===C?m:o.f(m,C)}},(y,i,t)=>{var r=t(10),o=t(48),u=t(47),g=t(49),w=t(16),L=t(75);i.f=r&&!o?Object.defineProperties:function(X,O){g(X);for(var D,k=w(O),_=L(O),M=_.length,I=0;M>I;)u.f(X,D=_[I++],k[D]);return X}},(y,i,t)=>{var r=t(60),o=t(66);y.exports=Object.keys||function(g){return r(g,o)}},(y,i,t)=>{var r=t(26);y.exports=r("document","documentElement")},(y,i,t)=>{var r=t(18),o=Error,u=r("".replace),g=String(o("zxcasd").stack),w=/\n\s*at [^:]*:[^\n]*/,L=w.test(g);y.exports=function(N,X){if(L&&"string"==typeof N&&!o.prepareStackTrace)for(;X--;)N=u(N,w,"");return N}},(y,i,t)=>{var r=t(23),o=t(46);y.exports=function(u,g){r(g)&&"cause"in g&&o(u,"cause",g.cause)}},(y,i,t)=>{var r=t(8),o=t(80),u=t(12),g=t(49),w=t(34),L=t(81),N=t(64),X=t(27),O=t(83),k=t(84),_=t(87),M=r.TypeError,I=function(s,a){this.stopped=s,this.result=a},D=I.prototype;y.exports=function(s,a,d){var l,S,c,P,G,H,te,T=!(!d||!d.AS_ENTRIES),v=!(!d||!d.IS_ITERATOR),C=!(!d||!d.INTERRUPTED),m=o(a,d&&d.that),J=function(Y){return l&&_(l,"normal",Y),new I(!0,Y)},oe=function(Y){return T?(g(Y),C?m(Y[0],Y[1],J):m(Y[0],Y[1])):C?m(Y,J):m(Y)};if(v)l=s;else{if(!(S=k(s)))throw M(w(s)+" is not iterable");if(L(S)){for(c=0,P=N(s);P>c;c++)if((G=oe(s[c]))&&X(D,G))return G;return new I(!1)}l=O(s,S)}for(H=l.next;!(te=u(H,l)).done;){try{G=oe(te.value)}catch(Y){_(l,"throw",Y)}if("object"==typeof G&&G&&X(D,G))return G}return new I(!1)}},(y,i,t)=>{var r=t(18),o=t(33),u=t(13),g=r(r.bind);y.exports=function(w,L){return o(w),void 0===L?w:u?g(w,L):function(){return w.apply(L,arguments)}}},(y,i,t)=>{var r=t(36),o=t(82),u=r("iterator"),g=Array.prototype;y.exports=function(w){return void 0!==w&&(o.Array===w||g[u]===w)}},y=>{y.exports={}},(y,i,t)=>{var r=t(8),o=t(12),u=t(33),g=t(49),w=t(34),L=t(84),N=r.TypeError;y.exports=function(X,O){var k=arguments.length<2?L(X):O;if(u(k))return g(o(k,X));throw N(w(X)+" is not iterable")}},(y,i,t)=>{var r=t(85),o=t(32),u=t(82),w=t(36)("iterator");y.exports=function(L){if(null!=L)return o(L,w)||o(L,"@@iterator")||u[r(L)]}},(y,i,t)=>{var r=t(8),o=t(86),u=t(24),g=t(19),L=t(36)("toStringTag"),N=r.Object,X="Arguments"==g(function(){return arguments}());y.exports=o?g:function(k){var _,M,I;return void 0===k?"Undefined":null===k?"Null":"string"==typeof(M=function(k,_){try{return k[_]}catch{}}(_=N(k),L))?M:X?g(_):"Object"==(I=g(_))&&u(_.callee)?"Arguments":I}},(y,i,t)=>{var u={};u[t(36)("toStringTag")]="z",y.exports="[object z]"===String(u)},(y,i,t)=>{var r=t(12),o=t(49),u=t(32);y.exports=function(g,w,L){var N,X;o(g);try{if(!(N=u(g,"return"))){if("throw"===w)throw L;return L}N=r(N,g)}catch(O){X=!0,N=O}if("throw"===w)throw L;if(X)throw N;return o(N),L}},(y,i,t)=>{var r=t(89);y.exports=function(o,u){return void 0===o?arguments.length<2?"":u:r(o)}},(y,i,t)=>{var r=t(8),o=t(85),u=r.String;y.exports=function(g){if("Symbol"===o(g))throw TypeError("Cannot convert a Symbol value to a string");return u(g)}},(y,i,t)=>{var r=t(11),o=t(15);y.exports=!r(function(){var u=Error("a");return!("stack"in u)||(Object.defineProperty(u,"stack",o(1,7)),7!==u.stack)})},(y,i,t)=>{"use strict";var r=t(16),o=t(92),u=t(82),g=t(52),w=t(47).f,L=t(93),N=t(38),X=t(10),O="Array Iterator",k=g.set,_=g.getterFor(O);y.exports=L(Array,"Array",function(I,D){k(this,{type:O,target:r(I),index:0,kind:D})},function(){var I=_(this),D=I.target,s=I.kind,a=I.index++;return!D||a>=D.length?(I.target=void 0,{value:void 0,done:!0}):"keys"==s?{value:a,done:!1}:"values"==s?{value:D[a],done:!1}:{value:[a,D[a]],done:!1}},"values");var M=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!N&&X&&"values"!==M.name)try{w(M,"name",{value:"values"})}catch{}},(y,i,t)=>{var r=t(36),o=t(73),u=t(47),g=r("unscopables"),w=Array.prototype;null==w[g]&&u.f(w,g,{configurable:!0,value:o(null)}),y.exports=function(L){w[g][L]=!0}},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(38),g=t(56),w=t(24),L=t(94),N=t(69),X=t(71),O=t(96),k=t(46),_=t(50),M=t(36),I=t(82),D=t(95),s=g.PROPER,a=g.CONFIGURABLE,d=D.IteratorPrototype,h=D.BUGGY_SAFARI_ITERATORS,T=M("iterator"),v="keys",C="values",m="entries",l=function(){return this};y.exports=function(S,c,P,G,H,te,J){L(P,c,G);var U,ie,ye,oe=function(ne){if(ne===H&&p)return p;if(!h&&ne in ee)return ee[ne];switch(ne){case v:case C:case m:return function(){return new P(this,ne)}}return function(){return new P(this)}},Y=c+" Iterator",re=!1,ee=S.prototype,f=ee[T]||ee["@@iterator"]||H&&ee[H],p=!h&&f||oe(H),x="Array"==c&&ee.entries||f;if(x&&(U=N(x.call(new S)))!==Object.prototype&&U.next&&(!u&&N(U)!==d&&(X?X(U,d):w(U[T])||_(U,T,l)),O(U,Y,!0,!0),u&&(I[Y]=l)),s&&H==C&&f&&f.name!==C&&(!u&&a?k(ee,"name",C):(re=!0,p=function(){return o(f,this)})),H)if(ie={values:oe(C),keys:te?p:oe(v),entries:oe(m)},J)for(ye in ie)(h||re||!(ye in ee))&&_(ee,ye,ie[ye]);else r({target:c,proto:!0,forced:h||re},ie);return(!u||J)&&ee[T]!==p&&_(ee,T,p,{name:H}),I[c]=p,ie}},(y,i,t)=>{"use strict";var r=t(95).IteratorPrototype,o=t(73),u=t(15),g=t(96),w=t(82),L=function(){return this};y.exports=function(N,X,O,k){var _=X+" Iterator";return N.prototype=o(r,{next:u(+!k,O)}),g(N,_,!1,!0),w[_]=L,N}},(y,i,t)=>{"use strict";var k,_,M,r=t(11),o=t(24),u=t(73),g=t(69),w=t(50),L=t(36),N=t(38),X=L("iterator"),O=!1;[].keys&&("next"in(M=[].keys())?(_=g(g(M)))!==Object.prototype&&(k=_):O=!0),null==k||r(function(){var D={};return k[X].call(D)!==D})?k={}:N&&(k=u(k)),o(k[X])||w(k,X,function(){return this}),y.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:O}},(y,i,t)=>{var r=t(47).f,o=t(41),g=t(36)("toStringTag");y.exports=function(w,L,N){w&&!N&&(w=w.prototype),w&&!o(w,g)&&r(w,g,{configurable:!0,value:L})}},(y,i,t)=>{var r=t(86),o=t(50),u=t(98);r||o(Object.prototype,"toString",u,{unsafe:!0})},(y,i,t)=>{"use strict";var r=t(86),o=t(85);y.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},(y,i,t)=>{t(100),t(123),t(126),t(127),t(128),t(129)},(y,i,t)=>{"use strict";var Pe,Oe,Ie,r=t(7),o=t(38),u=t(101),g=t(8),w=t(12),L=t(50),N=t(102),X=t(71),O=t(96),k=t(103),_=t(33),M=t(24),I=t(23),D=t(104),s=t(105),a=t(108).set,d=t(113),h=t(116),T=t(117),v=t(118),C=t(52),m=t(119),l=t(120),S=t(122),c="Promise",P=l.CONSTRUCTOR,G=l.REJECTION_EVENT,H=l.SUBCLASSING,te=C.getterFor(c),J=C.set,oe=m&&m.prototype,Y=m,re=oe,ee=g.TypeError,f=g.document,p=g.process,x=S.f,U=x,ie=!!(f&&f.createEvent&&g.dispatchEvent),ye="unhandledrejection",Me=function(se){var ke;return!(!I(se)||!M(ke=se.then))&&ke},j=function(se,ke){var V,z,ce,ge=ke.value,R=1==ke.state,K=R?se.ok:se.fail,F=se.resolve,W=se.reject,B=se.domain;try{K?(R||(2===ke.rejection&&q(ke),ke.rejection=1),!0===K?V=ge:(B&&B.enter(),V=K(ge),B&&(B.exit(),ce=!0)),V===se.promise?W(ee("Promise-chain cycle")):(z=Me(V))?w(z,V,F,W):F(V)):W(ge)}catch(Se){B&&!ce&&B.exit(),W(Se)}},ae=function(se,ke){se.notified||(se.notified=!0,d(function(){for(var R,ge=se.reactions;R=ge.get();)j(R,se);se.notified=!1,ke&&!se.rejection&&A(se)}))},E=function(se,ke,ge){var R,K;ie?((R=f.createEvent("Event")).promise=ke,R.reason=ge,R.initEvent(se,!1,!0),g.dispatchEvent(R)):R={promise:ke,reason:ge},!G&&(K=g["on"+se])?K(R):se===ye&&h("Unhandled promise rejection",ge)},A=function(se){w(a,g,function(){var K,ke=se.facade,ge=se.value;if($(se)&&(K=T(function(){u?p.emit("unhandledRejection",ge,ke):E(ye,ke,ge)}),se.rejection=u||$(se)?2:1,K.error))throw K.value})},$=function(se){return 1!==se.rejection&&!se.parent},q=function(se){w(a,g,function(){var ke=se.facade;u?p.emit("rejectionHandled",ke):E("rejectionhandled",ke,se.value)})},Z=function(se,ke,ge){return function(R){se(ke,R,ge)}},le=function(se,ke,ge){se.done||(se.done=!0,ge&&(se=ge),se.value=ke,se.state=2,ae(se,!0))},fe=function(se,ke,ge){if(!se.done){se.done=!0,ge&&(se=ge);try{if(se.facade===ke)throw ee("Promise can't be resolved itself");var R=Me(ke);R?d(function(){var K={done:!1};try{w(R,ke,Z(fe,K,se),Z(le,K,se))}catch(F){le(K,F,se)}}):(se.value=ke,se.state=1,ae(se,!1))}catch(K){le({done:!1},K,se)}}};if(P&&(Y=function(ke){D(this,re),_(ke),w(Pe,this);var ge=te(this);try{ke(Z(fe,ge),Z(le,ge))}catch(R){le(ge,R)}},(Pe=function(ke){J(this,{type:c,done:!1,notified:!1,parent:!1,reactions:new v,rejection:!1,state:0,value:void 0})}).prototype=N(re=Y.prototype,{then:function(ke,ge){var R=te(this),K=x(s(this,Y));return R.parent=!0,K.ok=!M(ke)||ke,K.fail=M(ge)&&ge,K.domain=u?p.domain:void 0,0==R.state?R.reactions.add(K):d(function(){j(K,R)}),K.promise}}),Oe=function(){var se=new Pe,ke=te(se);this.promise=se,this.resolve=Z(fe,ke),this.reject=Z(le,ke)},S.f=x=function(se){return se===Y||void 0===se?new Oe(se):U(se)},!o&&M(m)&&oe!==Object.prototype)){Ie=oe.then,H||L(oe,"then",function(ke,ge){var R=this;return new Y(function(K,F){w(Ie,R,K,F)}).then(ke,ge)},{unsafe:!0});try{delete oe.constructor}catch{}X&&X(oe,re)}r({global:!0,wrap:!0,forced:P},{Promise:Y}),O(Y,c,!1,!0),k(c)},(y,i,t)=>{var r=t(19),o=t(8);y.exports="process"==r(o.process)},(y,i,t)=>{var r=t(50);y.exports=function(o,u,g){for(var w in u)r(o,w,u[w],g);return o}},(y,i,t)=>{"use strict";var r=t(26),o=t(47),u=t(36),g=t(10),w=u("species");y.exports=function(L){var N=r(L);g&&N&&!N[w]&&(0,o.f)(N,w,{configurable:!0,get:function(){return this}})}},(y,i,t)=>{var r=t(8),o=t(27),u=r.TypeError;y.exports=function(g,w){if(o(w,g))return g;throw u("Incorrect invocation")}},(y,i,t)=>{var r=t(49),o=t(106),g=t(36)("species");y.exports=function(w,L){var X,N=r(w).constructor;return void 0===N||null==(X=r(N)[g])?L:o(X)}},(y,i,t)=>{var r=t(8),o=t(107),u=t(34),g=r.TypeError;y.exports=function(w){if(o(w))return w;throw g(u(w)+" is not a constructor")}},(y,i,t)=>{var r=t(18),o=t(11),u=t(24),g=t(85),w=t(26),L=t(51),N=function(){},X=[],O=w("Reflect","construct"),k=/^\s*(?:class|function)\b/,_=r(k.exec),M=!k.exec(N),I=function(a){if(!u(a))return!1;try{return O(N,X,a),!0}catch{return!1}},D=function(a){if(!u(a))return!1;switch(g(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!_(k,L(a))}catch{return!0}};D.sham=!0,y.exports=!O||o(function(){var s;return I(I.call)||!I(Object)||!I(function(){s=!0})||s})?D:I},(y,i,t)=>{var l,S,c,P,r=t(8),o=t(109),u=t(80),g=t(24),w=t(41),L=t(11),N=t(76),X=t(110),O=t(45),k=t(111),_=t(112),M=t(101),I=r.setImmediate,D=r.clearImmediate,s=r.process,a=r.Dispatch,d=r.Function,h=r.MessageChannel,T=r.String,v=0,C={},m="onreadystatechange";try{l=r.location}catch{}var G=function(oe){if(w(C,oe)){var Y=C[oe];delete C[oe],Y()}},H=function(oe){return function(){G(oe)}},te=function(oe){G(oe.data)},J=function(oe){r.postMessage(T(oe),l.protocol+"//"+l.host)};(!I||!D)&&(I=function(Y){k(arguments.length,1);var re=g(Y)?Y:d(Y),ee=X(arguments,1);return C[++v]=function(){o(re,void 0,ee)},S(v),v},D=function(Y){delete C[Y]},M?S=function(oe){s.nextTick(H(oe))}:a&&a.now?S=function(oe){a.now(H(oe))}:h&&!_?(P=(c=new h).port2,c.port1.onmessage=te,S=u(P.postMessage,P)):r.addEventListener&&g(r.postMessage)&&!r.importScripts&&l&&"file:"!==l.protocol&&!L(J)?(S=J,r.addEventListener("message",te,!1)):S=m in O("script")?function(oe){N.appendChild(O("script"))[m]=function(){N.removeChild(this),G(oe)}}:function(oe){setTimeout(H(oe),0)}),y.exports={set:I,clear:D}},(y,i,t)=>{var r=t(13),o=Function.prototype,u=o.apply,g=o.call;y.exports="object"==typeof Reflect&&Reflect.apply||(r?g.bind(u):function(){return g.apply(u,arguments)})},(y,i,t)=>{var r=t(18);y.exports=r([].slice)},(y,i,t)=>{var o=t(8).TypeError;y.exports=function(u,g){if(u<g)throw o("Not enough arguments");return u}},(y,i,t)=>{var r=t(31);y.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(y,i,t)=>{var s,a,d,h,T,v,C,m,r=t(8),o=t(80),u=t(9).f,g=t(108).set,w=t(112),L=t(114),N=t(115),X=t(101),O=r.MutationObserver||r.WebKitMutationObserver,k=r.document,_=r.process,M=r.Promise,I=u(r,"queueMicrotask"),D=I&&I.value;D||(s=function(){var l,S;for(X&&(l=_.domain)&&l.exit();a;){S=a.fn,a=a.next;try{S()}catch(c){throw a?h():d=void 0,c}}d=void 0,l&&l.enter()},w||X||N||!O||!k?!L&&M&&M.resolve?((C=M.resolve(void 0)).constructor=M,m=o(C.then,C),h=function(){m(s)}):X?h=function(){_.nextTick(s)}:(g=o(g,r),h=function(){g(s)}):(T=!0,v=k.createTextNode(""),new O(s).observe(v,{characterData:!0}),h=function(){v.data=T=!T})),y.exports=D||function(l){var S={fn:l,next:void 0};d&&(d.next=S),a||(a=S,h()),d=S}},(y,i,t)=>{var r=t(31),o=t(8);y.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},(y,i,t)=>{var r=t(31);y.exports=/web0s(?!.*chrome)/i.test(r)},(y,i,t)=>{var r=t(8);y.exports=function(o,u){var g=r.console;g&&g.error&&(1==arguments.length?g.error(o):g.error(o,u))}},y=>{y.exports=function(i){try{return{error:!1,value:i()}}catch(t){return{error:!0,value:t}}}},y=>{var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var r={item:t,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},y.exports=i},(y,i,t)=>{var r=t(8);y.exports=r.Promise},(y,i,t)=>{var r=t(8),o=t(119),u=t(24),g=t(68),w=t(51),L=t(36),N=t(121),X=t(38),O=t(30),k=o&&o.prototype,_=L("species"),M=!1,I=u(r.PromiseRejectionEvent),D=g("Promise",function(){var s=w(o),a=s!==String(o);if(!a&&66===O||X&&(!k.catch||!k.finally))return!0;if(O>=51&&/native code/.test(s))return!1;var d=new o(function(v){v(1)}),h=function(v){v(function(){},function(){})};return(d.constructor={})[_]=h,!(M=d.then(function(){})instanceof h)||!a&&N&&!I});y.exports={CONSTRUCTOR:D,REJECTION_EVENT:I,SUBCLASSING:M}},y=>{y.exports="object"==typeof window&&"object"!=typeof Deno},(y,i,t)=>{"use strict";var r=t(33),o=function(u){var g,w;this.promise=new u(function(L,N){if(void 0!==g||void 0!==w)throw TypeError("Bad Promise constructor");g=L,w=N}),this.resolve=r(g),this.reject=r(w)};y.exports.f=function(u){return new o(u)}},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),g=t(122),w=t(117),L=t(79);r({target:"Promise",stat:!0,forced:t(124)},{all:function(O){var k=this,_=g.f(k),M=_.resolve,I=_.reject,D=w(function(){var s=u(k.resolve),a=[],d=0,h=1;L(O,function(T){var v=d++,C=!1;h++,o(s,k,T).then(function(m){C||(C=!0,a[v]=m,--h||M(a))},I)}),--h||M(a)});return D.error&&I(D.value),_.promise}})},(y,i,t)=>{var r=t(119),o=t(125),u=t(120).CONSTRUCTOR;y.exports=u||!o(function(g){r.all(g).then(void 0,function(){})})},(y,i,t)=>{var o=t(36)("iterator"),u=!1;try{var g=0,w={next:function(){return{done:!!g++}},return:function(){u=!0}};w[o]=function(){return this},Array.from(w,function(){throw 2})}catch{}y.exports=function(L,N){if(!N&&!u)return!1;var X=!1;try{var O={};O[o]=function(){return{next:function(){return{done:X=!0}}}},L(O)}catch{}return X}},(y,i,t)=>{"use strict";var r=t(7),o=t(38),u=t(120).CONSTRUCTOR,g=t(119),w=t(26),L=t(24),N=t(50),X=g&&g.prototype;if(r({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(k){return this.then(void 0,k)}}),!o&&L(g)){var O=w("Promise").prototype.catch;X.catch!==O&&N(X,"catch",O,{unsafe:!0})}},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),g=t(122),w=t(117),L=t(79);r({target:"Promise",stat:!0,forced:t(124)},{race:function(O){var k=this,_=g.f(k),M=_.reject,I=w(function(){var D=u(k.resolve);L(O,function(s){o(D,k,s).then(_.resolve,M)})});return I.error&&M(I.value),_.promise}})},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(122);r({target:"Promise",stat:!0,forced:t(120).CONSTRUCTOR},{reject:function(L){var N=u.f(this);return o(N.reject,void 0,L),N.promise}})},(y,i,t)=>{"use strict";var r=t(7),o=t(26),u=t(38),g=t(119),w=t(120).CONSTRUCTOR,L=t(130),N=o("Promise"),X=u&&!w;r({target:"Promise",stat:!0,forced:u||w},{resolve:function(k){return L(X&&this===N?g:this,k)}})},(y,i,t)=>{var r=t(49),o=t(23),u=t(122);y.exports=function(g,w){if(r(g),o(w)&&w.constructor===g)return w;var L=u.f(g);return(0,L.resolve)(w),L.promise}},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),g=t(122),w=t(117),L=t(79);r({target:"Promise",stat:!0},{allSettled:function(X){var O=this,k=g.f(O),_=k.resolve,M=k.reject,I=w(function(){var D=u(O.resolve),s=[],a=0,d=1;L(X,function(h){var T=a++,v=!1;d++,o(D,O,h).then(function(C){v||(v=!0,s[T]={status:"fulfilled",value:C},--d||_(s))},function(C){v||(v=!0,s[T]={status:"rejected",reason:C},--d||_(s))})}),--d||_(s)});return I.error&&M(I.value),k.promise}})},(y,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),g=t(26),w=t(122),L=t(117),N=t(79),X="No one promise resolved";r({target:"Promise",stat:!0},{any:function(k){var _=this,M=g("AggregateError"),I=w.f(_),D=I.resolve,s=I.reject,a=L(function(){var d=u(_.resolve),h=[],T=0,v=1,C=!1;N(k,function(m){var l=T++,S=!1;v++,o(d,_,m).then(function(c){S||C||(C=!0,D(c))},function(c){S||C||(S=!0,h[l]=c,--v||s(new M(h,X)))})}),--v||s(new M(h,X))});return a.error&&s(a.value),I.promise}})},(y,i,t)=>{"use strict";var r=t(7),o=t(38),u=t(119),g=t(11),w=t(26),L=t(24),N=t(105),X=t(130),O=t(50),k=u&&u.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!u&&g(function(){k.finally.call({then:function(){}},function(){})})},{finally:function(I){var D=N(this,w("Promise")),s=L(I);return this.then(s?function(a){return X(D,I()).then(function(){return a})}:I,s?function(a){return X(D,I()).then(function(){throw a})}:I)}}),!o&&L(u)){var M=w("Promise").prototype.finally;k.finally!==M&&O(k,"finally",M,{unsafe:!0})}},(y,i,t)=>{"use strict";var r=t(135).charAt,o=t(89),u=t(52),g=t(93),w="String Iterator",L=u.set,N=u.getterFor(w);g(String,"String",function(X){L(this,{type:w,string:o(X),index:0})},function(){var M,O=N(this),k=O.string,_=O.index;return _>=k.length?{value:void 0,done:!0}:(M=r(k,_),O.index+=M.length,{value:M,done:!1})})},(y,i,t)=>{var r=t(18),o=t(63),u=t(89),g=t(20),w=r("".charAt),L=r("".charCodeAt),N=r("".slice),X=function(O){return function(k,_){var s,a,M=u(g(k)),I=o(_),D=M.length;return I<0||I>=D?O?"":void 0:(s=L(M,I))<55296||s>56319||I+1===D||(a=L(M,I+1))<56320||a>57343?O?w(M,I):s:O?N(M,I,I+2):a-56320+(s-55296<<10)+65536}};y.exports={codeAt:X(!1),charAt:X(!0)}},(y,i,t)=>{var r=t(8);y.exports=r},(y,i,t)=>{t(91),t(97),t(138),t(150),t(152);var r=t(136);y.exports=r.structuredClone},(y,i,t)=>{t(139)},(y,i,t)=>{"use strict";t(140)("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},t(149))},(y,i,t)=>{"use strict";var r=t(7),o=t(8),u=t(18),g=t(68),w=t(50),L=t(141),N=t(79),X=t(104),O=t(24),k=t(23),_=t(11),M=t(125),I=t(96),D=t(148);y.exports=function(s,a,d){var h=-1!==s.indexOf("Map"),T=-1!==s.indexOf("Weak"),v=h?"set":"add",C=o[s],m=C&&C.prototype,l=C,S={},c=function(Y){var re=u(m[Y]);w(m,Y,"add"==Y?function(f){return re(this,0===f?0:f),this}:"delete"==Y?function(ee){return!(T&&!k(ee))&&re(this,0===ee?0:ee)}:"get"==Y?function(f){return T&&!k(f)?void 0:re(this,0===f?0:f)}:"has"==Y?function(f){return!(T&&!k(f))&&re(this,0===f?0:f)}:function(f,p){return re(this,0===f?0:f,p),this})};if(g(s,!O(C)||!(T||m.forEach&&!_(function(){(new C).entries().next()}))))l=d.getConstructor(a,s,h,v),L.enable();else if(g(s,!0)){var G=new l,H=G[v](T?{}:-0,1)!=G,te=_(function(){G.has(1)}),J=M(function(Y){new C(Y)}),oe=!T&&_(function(){for(var Y=new C,re=5;re--;)Y[v](re,re);return!Y.has(-0)});J||((l=a(function(Y,re){X(Y,m);var ee=D(new C,Y,l);return null!=re&&N(re,ee[v],{that:ee,AS_ENTRIES:h}),ee})).prototype=m,m.constructor=l),(te||oe)&&(c("delete"),c("has"),h&&c("get")),(oe||H)&&c(v),T&&m.clear&&delete m.clear}return S[s]=l,r({global:!0,forced:l!=C},S),I(l,s),T||d.setStrong(l,s,h),l}},(y,i,t)=>{var r=t(7),o=t(18),u=t(55),g=t(23),w=t(41),L=t(47).f,N=t(59),X=t(142),O=t(145),k=t(43),_=t(147),M=!1,I=k("meta"),D=0,s=function(C){L(C,I,{value:{objectID:"O"+D++,weakData:{}}})},v=y.exports={enable:function(){v.enable=function(){},M=!0;var C=N.f,m=o([].splice),l={};l[I]=1,C(l).length&&(N.f=function(S){for(var c=C(S),P=0,G=c.length;P<G;P++)if(c[P]===I){m(c,P,1);break}return c},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:X.f}))},fastKey:function(C,m){if(!g(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!w(C,I)){if(!O(C))return"F";if(!m)return"E";s(C)}return C[I].objectID},getWeakData:function(C,m){if(!w(C,I)){if(!O(C))return!0;if(!m)return!1;s(C)}return C[I].weakData},onFreeze:function(C){return _&&M&&O(C)&&!w(C,I)&&s(C),C}};u[I]=!0},(y,i,t)=>{var r=t(19),o=t(16),u=t(59).f,g=t(143),w="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];y.exports.f=function(X){return w&&"Window"==r(X)?function(N){try{return u(N)}catch{return g(w)}}(X):u(o(X))}},(y,i,t)=>{var r=t(8),o=t(62),u=t(64),g=t(144),w=r.Array,L=Math.max;y.exports=function(N,X,O){for(var k=u(N),_=o(X,k),M=o(void 0===O?k:O,k),I=w(L(M-_,0)),D=0;_<M;_++,D++)g(I,D,N[_]);return I.length=D,I}},(y,i,t)=>{"use strict";var r=t(21),o=t(47),u=t(15);y.exports=function(g,w,L){var N=r(w);N in g?o.f(g,N,u(0,L)):g[N]=L}},(y,i,t)=>{var r=t(11),o=t(23),u=t(19),g=t(146),w=Object.isExtensible,L=r(function(){w(1)});y.exports=L||g?function(X){return!(!o(X)||g&&"ArrayBuffer"==u(X))&&(!w||w(X))}:w},(y,i,t)=>{var r=t(11);y.exports=r(function(){if("function"==typeof ArrayBuffer){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},(y,i,t)=>{var r=t(11);y.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},(y,i,t)=>{var r=t(24),o=t(23),u=t(71);y.exports=function(g,w,L){var N,X;return u&&r(N=w.constructor)&&N!==L&&o(X=N.prototype)&&X!==L.prototype&&u(g,X),g}},(y,i,t)=>{"use strict";var r=t(47).f,o=t(73),u=t(102),g=t(80),w=t(104),L=t(79),N=t(93),X=t(103),O=t(10),k=t(141).fastKey,_=t(52),M=_.set,I=_.getterFor;y.exports={getConstructor:function(D,s,a,d){var h=D(function(l,S){w(l,T),M(l,{type:s,index:o(null),first:void 0,last:void 0,size:0}),O||(l.size=0),null!=S&&L(S,l[d],{that:l,AS_ENTRIES:a})}),T=h.prototype,v=I(s),C=function(l,S,c){var H,te,P=v(l),G=m(l,S);return G?G.value=c:(P.last=G={index:te=k(S,!0),key:S,value:c,previous:H=P.last,next:void 0,removed:!1},P.first||(P.first=G),H&&(H.next=G),O?P.size++:l.size++,"F"!==te&&(P.index[te]=G)),l},m=function(l,S){var G,c=v(l),P=k(S);if("F"!==P)return c.index[P];for(G=c.first;G;G=G.next)if(G.key==S)return G};return u(T,{clear:function(){for(var c=v(this),P=c.index,G=c.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete P[G.index],G=G.next;c.first=c.last=void 0,O?c.size=0:this.size=0},delete:function(l){var S=this,c=v(S),P=m(S,l);if(P){var G=P.next,H=P.previous;delete c.index[P.index],P.removed=!0,H&&(H.next=G),G&&(G.previous=H),c.first==P&&(c.first=G),c.last==P&&(c.last=H),O?c.size--:S.size--}return!!P},forEach:function(S){for(var G,c=v(this),P=g(S,arguments.length>1?arguments[1]:void 0);G=G?G.next:c.first;)for(P(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(S){return!!m(this,S)}}),u(T,a?{get:function(S){var c=m(this,S);return c&&c.value},set:function(S,c){return C(this,0===S?0:S,c)}}:{add:function(S){return C(this,S=0===S?0:S,S)}}),O&&r(T,"size",{get:function(){return v(this).size}}),h},setStrong:function(D,s,a){var d=s+" Iterator",h=I(s),T=I(d);N(D,s,function(v,C){M(this,{type:d,target:v,state:h(v),kind:C,last:void 0})},function(){for(var v=T(this),C=v.kind,m=v.last;m&&m.removed;)m=m.previous;return v.target&&(v.last=m=m?m.next:v.state.first)?"keys"==C?{value:m.key,done:!1}:"values"==C?{value:m.value,done:!1}:{value:[m.key,m.value],done:!1}:(v.target=void 0,{value:void 0,done:!0})},a?"entries":"values",!a,!0),X(s)}}},(y,i,t)=>{t(151)},(y,i,t)=>{"use strict";t(140)("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},t(149))},(y,i,t)=>{var R,r=t(38),o=t(7),u=t(8),g=t(26),w=t(18),L=t(11),N=t(43),X=t(24),O=t(107),k=t(23),_=t(25),M=t(79),I=t(49),D=t(85),s=t(41),a=t(144),d=t(46),h=t(64),T=t(111),v=t(153),C=t(90),m=u.Object,l=u.Date,S=u.Error,c=u.EvalError,P=u.RangeError,G=u.ReferenceError,H=u.SyntaxError,te=u.TypeError,J=u.URIError,oe=u.PerformanceMark,Y=u.WebAssembly,re=Y&&Y.CompileError||S,ee=Y&&Y.LinkError||S,f=Y&&Y.RuntimeError||S,p=g("DOMException"),x=g("Set"),U=g("Map"),ie=U.prototype,ye=w(ie.has),ne=w(ie.get),Ee=w(ie.set),pe=w(x.prototype.add),_e=g("Object","keys"),he=w([].push),Ae=w((!0).valueOf),Pe=w(1..valueOf),Oe=w("".valueOf),Re=w(l.prototype.getTime),Ie=N("structuredClone"),Me="DataCloneError",j="Transferring",ae=function(R){return!L(function(){var K=new u.Set([7]),F=R(K),W=R(m(7));return F==K||!F.has(7)||"object"!=typeof W||7!=W})&&R},A=u.structuredClone,$=r||(R=A,!(!L(function(){var K=R(new u.AggregateError([1],Ie,{cause:3}));return"AggregateError"!=K.name||1!=K.errors[0]||K.message!=Ie||3!=K.cause})&&R)),q=!A&&ae(function(R){return new oe(Ie,{detail:R}).detail}),Z=ae(A)||q,le=function(R){throw new p("Uncloneable type: "+R,Me)},fe=function(R,K){throw new p((K||"Cloning")+" of "+R+" cannot be properly polyfilled in this engine",Me)},se=function(R,K){if(_(R)&&le("Symbol"),!k(R))return R;if(K){if(ye(K,R))return ne(K,R)}else K=new U;var B,V,z,ce,Se,we,Ce,Fe,We,De,F=D(R),W=!1;switch(F){case"Array":z=[],W=!0;break;case"Object":z={},W=!0;break;case"Map":z=new U,W=!0;break;case"Set":z=new x,W=!0;break;case"RegExp":z=new RegExp(R.source,v(R));break;case"Error":switch(V=R.name){case"AggregateError":z=g("AggregateError")([]);break;case"EvalError":z=c();break;case"RangeError":z=P();break;case"ReferenceError":z=G();break;case"SyntaxError":z=H();break;case"TypeError":z=te();break;case"URIError":z=J();break;case"CompileError":z=re();break;case"LinkError":z=ee();break;case"RuntimeError":z=f();break;default:z=S()}W=!0;break;case"DOMException":z=new p(R.message,R.name),W=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":k(B=u[F])||fe(F),z=new B(se(R.buffer,K),R.byteOffset,"DataView"===F?R.byteLength:R.length);break;case"DOMQuad":try{z=new DOMQuad(se(R.p1,K),se(R.p2,K),se(R.p3,K),se(R.p4,K))}catch{Z?z=Z(R):fe(F)}break;case"FileList":if(O(B=u.DataTransfer)){for(ce=new B,Se=0,we=h(R);Se<we;Se++)ce.items.add(se(R[Se],K));z=ce.files}else Z?z=Z(R):fe(F);break;case"ImageData":try{z=new ImageData(se(R.data,K),R.width,R.height,{colorSpace:R.colorSpace})}catch{Z?z=Z(R):fe(F)}break;default:if(Z)z=Z(R);else switch(F){case"BigInt":z=m(R.valueOf());break;case"Boolean":z=m(Ae(R));break;case"Number":z=m(Pe(R));break;case"String":z=m(Oe(R));break;case"Date":z=new l(Re(R));break;case"ArrayBuffer":!(B=u.DataView)&&"function"!=typeof R.slice&&fe(F);try{if("function"==typeof R.slice)z=R.slice(0);else for(we=R.byteLength,z=new ArrayBuffer(we),We=new B(R),De=new B(z),Se=0;Se<we;Se++)De.setUint8(Se,We.getUint8(Se))}catch{throw new p("ArrayBuffer is detached",Me)}break;case"SharedArrayBuffer":z=R;break;case"Blob":try{z=R.slice(0,R.size,R.type)}catch{fe(F)}break;case"DOMPoint":case"DOMPointReadOnly":B=u[F];try{z=B.fromPoint?B.fromPoint(R):new B(R.x,R.y,R.z,R.w)}catch{fe(F)}break;case"DOMRect":case"DOMRectReadOnly":B=u[F];try{z=B.fromRect?B.fromRect(R):new B(R.x,R.y,R.width,R.height)}catch{fe(F)}break;case"DOMMatrix":case"DOMMatrixReadOnly":B=u[F];try{z=B.fromMatrix?B.fromMatrix(R):new B(R)}catch{fe(F)}break;case"AudioData":case"VideoFrame":X(R.clone)||fe(F);try{z=R.clone()}catch{le(F)}break;case"File":try{z=new File([R],R.name,R)}catch{fe(F)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(F);default:le(F)}}if(Ee(K,R,z),W)switch(F){case"Array":case"Object":for(Ce=_e(R),Se=0,we=h(Ce);Se<we;Se++)a(z,Fe=Ce[Se],se(R[Fe],K));break;case"Map":R.forEach(function(Be,Xe){Ee(z,se(Xe,K),se(Be,K))});break;case"Set":R.forEach(function(Be){pe(z,se(Be,K))});break;case"Error":d(z,"message",se(R.message,K)),s(R,"cause")&&d(z,"cause",se(R.cause,K)),"AggregateError"==V&&(z.errors=se(R.errors,K));case"DOMException":C&&d(z,"stack",se(R.stack,K))}return z},ke=A&&!L(function(){var R=new ArrayBuffer(8),K=A(R,{transfer:[R]});return 0!=R.byteLength||8!=K.byteLength}),ge=function(R,K){if(!k(R))throw te("Transfer option cannot be converted to a sequence");var F=[];M(R,function(We){he(F,I(We))});var V,z,ce,Se,we,Ce,W=0,B=h(F);if(ke)for(Se=A(F,{transfer:F});W<B;)Ee(K,F[W],Se[W++]);else for(;W<B;){if(V=F[W++],ye(K,V))throw new p("Duplicate transferable",Me);switch(z=D(V)){case"ImageBitmap":O(ce=u.OffscreenCanvas)||fe(z,j);try{(Ce=new ce(V.width,V.height)).getContext("bitmaprenderer").transferFromImageBitmap(V),we=Ce.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!X(V.clone)||!X(V.close))&&fe(z,j);try{we=V.clone(),V.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(z,j)}if(void 0===we)throw new p("This object cannot be transferred: "+z,Me);Ee(K,V,we)}};o({global:!0,enumerable:!0,sham:!ke,forced:$},{structuredClone:function(K){var B,F=T(arguments.length,1)>1&&null!=arguments[1]?I(arguments[1]):void 0,W=F?F.transfer:void 0;return void 0!==W&&(B=new U,ge(W,B)),se(K,B)}})},(y,i,t)=>{var r=t(12),o=t(41),u=t(27),g=t(154),w=RegExp.prototype;y.exports=function(L){var N=L.flags;return void 0!==N||"flags"in w||o(L,"flags")||!u(w,L)?N:r(g,L)}},(y,i,t)=>{"use strict";var r=t(49);y.exports=function(){var o=r(this),u="";return o.hasIndices&&(u+="d"),o.global&&(u+="g"),o.ignoreCase&&(u+="i"),o.multiline&&(u+="m"),o.dotAll&&(u+="s"),o.unicode&&(u+="u"),o.sticky&&(u+="y"),u}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(156)),_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(158),_font_loader=__w_pdfjs_require__(160),_annotation_storage=__w_pdfjs_require__(161),_canvas=__w_pdfjs_require__(163),_worker_options=__w_pdfjs_require__(166),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(167),_metadata=__w_pdfjs_require__(168),_optional_content_config=__w_pdfjs_require__(169),_transport_stream=__w_pdfjs_require__(170),_xfa_text=__w_pdfjs_require__(171);function _interopRequireDefault(y){return y&&y.__esModule?y:{default:y}}function _classPrivateMethodInitSpec(y,i){_checkPrivateRedeclaration(y,i),i.add(y)}function _classPrivateMethodGet(y,i,t){if(!i.has(y))throw new TypeError("attempted to get private field on non-instance");return t}function _classPrivateFieldInitSpec(y,i,t){_checkPrivateRedeclaration(y,i),i.set(y,t)}function _checkPrivateRedeclaration(y,i){if(i.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(y,i,t){return _classApplyDescriptorSet(y,_classExtractFieldDescriptor(y,i,"set"),t),t}function _classPrivateFieldGet(y,i){return _classApplyDescriptorGet(y,_classExtractFieldDescriptor(y,i,"get"))}function _classExtractFieldDescriptor(y,i,t){if(!i.has(y))throw new TypeError("attempted to "+t+" private field on non-instance");return i.get(y)}function _toConsumableArray(y){return _arrayWithoutHoles(y)||_iterableToArray(y)||_unsupportedIterableToArray(y)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(y){if(typeof Symbol<"u"&&null!=y[Symbol.iterator]||null!=y["@@iterator"])return Array.from(y)}function _arrayWithoutHoles(y){if(Array.isArray(y))return _arrayLikeToArray(y)}function _createForOfIteratorHelper(y,i){var t=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!t){if(Array.isArray(y)||(t=_unsupportedIterableToArray(y))||i&&y&&"number"==typeof y.length){t&&(y=t);var r=0,o=function(){};return{s:o,n:function(){return r>=y.length?{done:!0}:{done:!1,value:y[r++]}},e:function(N){throw N},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,u=!0,g=!1;return{s:function(){t=t.call(y)},n:function(){var N=t.next();return u=N.done,N},e:function(N){g=!0,w=N},f:function(){try{!u&&null!=t.return&&t.return()}finally{if(g)throw w}}}}function _classCallCheck(y,i){if(!(y instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(y,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}function _createClass(y,i,t){return i&&_defineProperties(y.prototype,i),t&&_defineProperties(y,t),Object.defineProperty(y,"prototype",{writable:!1}),y}function _classStaticPrivateFieldSpecSet(y,i,t,r){return _classCheckPrivateStaticAccess(y,i),_classCheckPrivateStaticFieldDescriptor(t,"set"),_classApplyDescriptorSet(y,t,r),r}function _classApplyDescriptorSet(y,i,t){if(i.set)i.set.call(y,t);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=t}}function _classStaticPrivateFieldSpecGet(y,i,t){return _classCheckPrivateStaticAccess(y,i),_classCheckPrivateStaticFieldDescriptor(t,"get"),_classApplyDescriptorGet(y,t)}function _classCheckPrivateStaticFieldDescriptor(y,i){if(void 0===y)throw new TypeError("attempted to "+i+" private static field before its declaration")}function _classCheckPrivateStaticAccess(y,i){if(y!==i)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(y,i){return i.get?i.get.call(y):i.value}function asyncGeneratorStep(y,i,t,r,o,u,g){try{var w=y[u](g),L=w.value}catch(N){return void t(N)}w.done?i(L):Promise.resolve(L).then(r,o)}function _asyncToGenerator(y){return function(){var i=this,t=arguments;return new Promise(function(r,o){var u=y.apply(i,t);function g(L){asyncGeneratorStep(u,r,o,g,w,"next",L)}function w(L){asyncGeneratorStep(u,r,o,g,w,"throw",L)}g(void 0)})}}function _slicedToArray(y,i){return _arrayWithHoles(y)||_iterableToArrayLimit(y,i)||_unsupportedIterableToArray(y,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(y,i){if(y){if("string"==typeof y)return _arrayLikeToArray(y,i);var t=Object.prototype.toString.call(y).slice(8,-1);if("Object"===t&&y.constructor&&(t=y.constructor.name),"Map"===t||"Set"===t)return Array.from(y);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(y,i)}}function _arrayLikeToArray(y,i){(null==i||i>y.length)&&(i=y.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=y[t];return r}function _iterableToArrayLimit(y,i){var t=null==y?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(null!=t){var g,w,r=[],o=!0,u=!1;try{for(t=t.call(y);!(o=(g=t.next()).done)&&(r.push(g.value),!i||r.length!==i);o=!0);}catch(L){u=!0,w=L}finally{try{!o&&null!=t.return&&t.return()}finally{if(u)throw w}}return r}}function _arrayWithHoles(y){if(Array.isArray(y))return y}function _typeof(y){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(y)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){var _require=__w_pdfjs_require__(172),NodeCanvasFactory=_require.NodeCanvasFactory,NodeCMapReaderFactory=_require.NodeCMapReaderFactory,NodeStandardFontDataFactory=_require.NodeStandardFontDataFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}function setPDFNetworkStreamFactory(y){createPDFNetworkStream=y}function getDocument(y){var t,i=new PDFDocumentLoadingTask;if("string"==typeof y||y instanceof URL)t={url:y};else if((0,_util.isArrayBuffer)(y))t={data:y};else if(y instanceof PDFDataRangeTransport)t={range:y};else{if("object"!==_typeof(y))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!y.url&&!y.data&&!y.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=y}var r=Object.create(null),o=null,u=null;for(var g in t){var w=t[g];switch(g){case"url":if(typeof window<"u")try{r[g]=new URL(w,window.location).href;continue}catch(X){(0,_util.warn)('Cannot create valid URL: "'.concat(X,'".'))}else if("string"==typeof w||w instanceof URL){r[g]=w.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=w;continue;case"worker":u=w;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&w instanceof Buffer)r[g]=new Uint8Array(w);else{if(w instanceof Uint8Array)break;if("string"==typeof w)r[g]=(0,_util.stringToBytes)(w);else if("object"!==_typeof(w)||null===w||isNaN(w.length)){if(!(0,_util.isArrayBuffer)(w))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[g]=new Uint8Array(w)}else r[g]=new Uint8Array(w)}continue}r[g]=w}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!==_typeof(r.ownerDocument)||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!u){var L={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=L.port?PDFWorker.fromPort(L):new PDFWorker(L),i._worker=u}var N=i.docId;return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");var X=_fetchDocument(u,r,o,N),O=new Promise(function(k){var _;o?_=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},o):r.data||(_=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),k(_)});return Promise.all([X,O]).then(function(k){var _=_slicedToArray(k,2),M=_[0],I=_[1];if(i.destroyed)throw new Error("Loading aborted");var D=new _message_handler.MessageHandler(N,M,u.port),s=new WorkerTransport(D,i,I,r);i._transport=s,D.send("Ready",null)})}).catch(i._capability.reject),i}function _fetchDocument(y,i,t,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function y(i,t,r,o){var u;return _regenerator.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!i.destroyed){w.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone,t.contentDispositionFilename=r.contentDispositionFilename),w.next=5,i.messageHandler.sendWithPromise("GetDocRequest",{docId:o,apiVersion:"2.14.305",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});case 5:if(u=w.sent,!i.destroyed){w.next=8;break}throw new Error("Worker was destroyed");case 8:return w.abrupt("return",u);case 9:case"end":return w.stop()}},y)}))).apply(this,arguments)}var PDFDocumentLoadingTask=function(){function y(){var i,t;_classCallCheck(this,y),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(y,y,_docId,(i=_classStaticPrivateFieldSpecGet(y,y,_docId),t=i++,i)),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(y,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o;return _regenerator.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.destroyed=!0,g.next=3,null===(o=this._transport)||void 0===o?void 0:o.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return g.stop()}},r,this)})),function t(){return i.apply(this,arguments)})}]),y;var i}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0},PDFDataRangeTransport=function(){function y(i,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,y),this.length=i,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(y,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,r){var u,o=_createForOfIteratorHelper(this._rangeListeners);try{for(o.s();!(u=o.n()).done;)(0,u.value)(t,r)}catch(w){o.e(w)}finally{o.f()}}},{key:"onDataProgress",value:function(t,r){var o=this;this._readyCapability.promise.then(function(){var g,u=_createForOfIteratorHelper(o._progressListeners);try{for(u.s();!(g=u.n()).done;)(0,g.value)(t,r)}catch(L){u.e(L)}finally{u.f()}})}},{key:"onDataProgressiveRead",value:function(t){var r=this;this._readyCapability.promise.then(function(){var u,o=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(o.s();!(u=o.n()).done;)(0,u.value)(t)}catch(w){o.e(w)}finally{o.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var o,r=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(r.s();!(o=r.n()).done;)(0,o.value)()}catch(g){r.e(g)}finally{r.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),y}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function y(i,t){var o,r=this;_classCallCheck(this,y),this._pdfInfo=i,this._transport=t,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(o=_asyncToGenerator(_regenerator.default.mark(function g(){return _regenerator.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),L.abrupt("return",r.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return L.stop()}},g)})),function u(){return o.apply(this,arguments)})})}return _createClass(y,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),y}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function y(i,t,r,o){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,y),this._pageIndex=i,this._pageInfo=t,this._ownerDocument=o,this._transport=r,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(y,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,o=t.rotation,u=void 0===o?this.rotate:o,g=t.offsetX,w=void 0===g?0:g,L=t.offsetY,N=void 0===L?0:L,X=t.dontFlip,O=void 0!==X&&X;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:u,offsetX:w,offsetY:N,dontFlip:O})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,o=void 0===r?"display":r,u=this._transport.getRenderingIntent(o),g=this._annotationPromises.get(u.cacheKey);return g||(g=this._transport.getAnnotations(this._pageIndex,u.renderingIntent),this._annotationPromises.set(u.cacheKey,g),g=g.then(function(w){var N,L=_createForOfIteratorHelper(w);try{var X=function(){var k=N.value;void 0!==k.titleObj&&Object.defineProperty(k,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),k.titleObj.str}}),void 0!==k.contentsObj&&Object.defineProperty(k,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),k.contentsObj.str}})};for(L.s();!(N=L.n()).done;)X()}catch(O){L.e(O)}finally{L.f()}return w})),g}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o;return _regenerator.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(null===(o=this._transport._htmlForXfa)||void 0===o?void 0:o.children[this._pageIndex])||null);case 1:case"end":return g.stop()}},r,this)})),function t(){return i.apply(this,arguments)})},{key:"render",value:function(t){var r,o,g,u=this,w=t.canvasContext,L=t.viewport,N=t.intent,X=void 0===N?"display":N,O=t.annotationMode,k=void 0===O?_util.AnnotationMode.ENABLE:O,_=t.transform,M=void 0===_?null:_,I=t.imageLayer,D=void 0===I?null:I,s=t.canvasFactory,a=void 0===s?null:s,d=t.background,h=void 0===d?null:d,T=t.optionalContentConfigPromise,v=void 0===T?null:T,C=t.annotationCanvasMap,m=void 0===C?null:C,l=t.pageColors,S=void 0===l?null:l;void 0!==(null===(r=arguments[0])||void 0===r?void 0:r.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(o=arguments[0])||void 0===o?void 0:o.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var c=this._transport.getRenderingIntent(X,k);this.pendingCleanup=!1,v||(v=this._transport.getOptionalContentConfig());var P=this._intentStates.get(c.cacheKey);P||this._intentStates.set(c.cacheKey,P=Object.create(null)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);var G=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),H=!!(c.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c));var te=function(re){P.renderTasks.delete(J),(u.cleanupAfterRender||H)&&(u.pendingCleanup=!0),u._tryCleanup(),re?(J.capability.reject(re),u._abortOperatorList({intentState:P,reason:re instanceof Error?re:new Error(re)})):J.capability.resolve(),u._stats&&(u._stats.timeEnd("Rendering"),u._stats.timeEnd("Overall"))},J=new InternalRenderTask({callback:te,params:{canvasContext:w,viewport:L,transform:M,imageLayer:D,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:G,useRequestAnimationFrame:!H,pdfBug:this._pdfBug,pageColors:S});((g=P).renderTasks||(g.renderTasks=new Set)).add(J);var oe=J.task;return Promise.all([P.displayReadyCapability.promise,v]).then(function(Y){var re=_slicedToArray(Y,2),ee=re[0],f=re[1];u.pendingCleanup?te():(u._stats&&u._stats.time("Rendering"),J.initializeGraphics({transparency:ee,optionalContentConfig:f}),J.operatorListChanged())}).catch(te),oe}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,o=void 0===r?"display":r,u=t.annotationMode,g=void 0===u?_util.AnnotationMode.ENABLE:u;function w(){N.operatorList.lastChunk&&(N.opListReadCapability.resolve(N.operatorList),N.renderTasks.delete(X))}var X,O,L=this._transport.getRenderingIntent(o,g,!0),N=this._intentStates.get(L.cacheKey);return N||this._intentStates.set(L.cacheKey,N=Object.create(null)),N.opListReadCapability||((X=Object.create(null)).operatorListChanged=w,N.opListReadCapability=(0,_util.createPromiseCapability)(),((O=N).renderTasks||(O.renderTasks=new Set)).add(X),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(L)),N.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.disableCombineTextItems,o=void 0!==r&&r,u=t.includeMarkedContent,g=void 0!==u&&u,w=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===g},{highWaterMark:w,size:function(N){return N.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(o){return _xfa_text.XfaText.textContent(o)});var r=this.streamTextContent(t);return new Promise(function(o,u){var w=r.getReader(),L={items:[],styles:Object.create(null)};!function g(){w.read().then(function(N){var X,O=N.value;N.done?o(L):(Object.assign(L.styles,O.styles),(X=L.items).push.apply(X,_toConsumableArray(O.items)),g())},u)}()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var o,t=[],r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(o=r.n()).done;){var u=o.value;if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability){var w,g=_createForOfIteratorHelper(u.renderTasks);try{for(g.s();!(w=g.n()).done;){var L=w.value;t.push(L.completed),L.cancel()}}catch(k){g.e(k)}finally{g.f()}}}}catch(k){r.e(k)}finally{r.f()}this.objs.clear();var X,N=_createForOfIteratorHelper(this._bitmaps);try{for(N.s();!(X=N.n()).done;)X.value.close()}catch(k){N.e(k)}finally{N.f()}return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var o,r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(o=r.n()).done;){var u=o.value,g=u.renderTasks,w=u.operatorList;if(g.size>0||!w.lastChunk)return!1}}catch(O){r.e(O)}finally{r.f()}this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);var N,L=_createForOfIteratorHelper(this._bitmaps);try{for(L.s();!(N=L.n()).done;){var X=N.value;X.close()}}catch(O){L.e(O)}finally{L.f()}return this._bitmaps.clear(),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,r){var o=this._intentStates.get(r);!o||(this._stats&&this._stats.timeEnd("Page Request"),o.displayReadyCapability&&o.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,r){for(var o=0,u=t.length;o<u;o++)r.operatorList.fnArray.push(t.fnArray[o]),r.operatorList.argsArray.push(t.argsArray[o]);r.operatorList.lastChunk=t.lastChunk;var w,g=_createForOfIteratorHelper(r.renderTasks);try{for(g.s();!(w=g.n()).done;)w.value.operatorListChanged()}catch(N){g.e(N)}finally{g.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var r=this,o=t.renderingIntent,u=t.cacheKey,w=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:u,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),L=this._intentStates.get(u);L.streamReader=w,function X(){w.read().then(function(O){var k=O.value;O.done?L.streamReader=null:r._transport.destroyed||(r._renderPageChunk(k,L),X())},function(O){if(L.streamReader=null,!r._transport.destroyed){if(L.operatorList){L.operatorList.lastChunk=!0;var _,k=_createForOfIteratorHelper(L.renderTasks);try{for(k.s();!(_=k.n()).done;)_.value.operatorListChanged()}catch(I){k.e(I)}finally{k.f()}r._tryCleanup()}if(L.displayReadyCapability)L.displayReadyCapability.reject(O);else{if(!L.opListReadCapability)throw O;L.opListReadCapability.reject(O)}}})}()}},{key:"_abortOperatorList",value:function(t){var r=this,o=t.intentState,u=t.reason,g=t.force;if(o.streamReader){if(void 0===g||!g){if(o.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:o,reason:u,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(u.message)).catch(function(){}),o.streamReader=null,!this._transport.destroyed){var N,L=_createForOfIteratorHelper(this._intentStates);try{for(L.s();!(N=L.n()).done;){var X=_slicedToArray(N.value,2);if(X[1]===o){this._intentStates.delete(X[0]);break}}}catch(_){L.e(_)}finally{L.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),y;var i}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function y(){_classCallCheck(this,y),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(y,[{key:"postMessage",value:function(t,r){var o=this,u={data:structuredClone(t,r)};this._deferred.then(function(){var w,g=_createForOfIteratorHelper(o._listeners);try{for(g.s();!(w=g.n()).done;)w.value.call(o,u)}catch(N){g.e(N)}finally{g.f()}})}},{key:"addEventListener",value:function(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function(t,r){var o=this._listeners.indexOf(r);this._listeners.splice(o,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),y}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===(typeof document>"u"?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(y,i){var t;try{if(!(t=new URL(y)).origin||"null"===t.origin)return!1}catch{return!1}var r=new URL(i,t);return t.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(y){var i='importScripts("'.concat(y,'");');return URL.createObjectURL(new Blob([i]))};var PDFWorker=function(){function PDFWorker(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=y.name,t=void 0===i?null:i,r=y.port,o=void 0===r?null:r,u=y.verbosity,g=void 0===u?(0,_util.getVerbosityLevel)():u;if(_classCallCheck(this,PDFWorker),o&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=g,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var i=this;if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var r=new Worker(t),o=new _message_handler.MessageHandler("main","worker",r),u=function(){r.removeEventListener("error",g),o.destroy(),r.terminate(),i.destroyed?i._readyCapability.reject(new Error("Worker was destroyed")):i._setupFakeWorker()},g=function(){i._webWorker||u()};r.addEventListener("error",g),o.on("test",function(L){r.removeEventListener("error",g),i.destroyed?u():L?(i._messageHandler=o,i._port=r,i._webWorker=r,i._readyCapability.resolve(),o.send("configure",{verbosity:i.verbosity})):(i._setupFakeWorker(),o.destroy(),r.terminate())}),o.on("ready",function(L){if(r.removeEventListener("error",g),i.destroyed)u();else try{w()}catch{i._setupFakeWorker()}});var w=function(){var N=new Uint8Array;o.send("test",N,[N.buffer])};return void w()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var i=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(i.destroyed)i._readyCapability.reject(new Error("Worker was destroyed"));else{var r=new LoopbackPort;i._port=r;var o="fake".concat(PDFWorkerUtil.fakeWorkerId++),u=new _message_handler.MessageHandler(o+"_worker",o,r);t.setup(u,r);var g=new _message_handler.MessageHandler(o,o+"_worker",r);i._messageHandler=g,i._readyCapability.resolve(),g.send("configure",{verbosity:i.verbosity})}}).catch(function(t){i._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(i){if(null==i||!i.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(i.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(i.port):new PDFWorker(i)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var i;return(null===(i=globalThis.pdfjsWorker)||void 0===i?void 0:i.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function y(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function y(i,t,r,o){_classCallCheck(this,y),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=i,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(y,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=_util.RenderingIntentFlag.DISPLAY,g="";switch(t){case"any":u=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(r){case _util.AnnotationMode.DISABLE:u+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:u+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:u+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,g=this.annotationStorage.hash;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(r))}return o&&(u+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:u,cacheKey:"".concat(u,"_").concat(g)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var u,r=[],o=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(o.s();!(u=o.n()).done;)r.push(u.value._destroy())}catch(L){o.e(L)}finally{o.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var w=this.messageHandler.sendWithPromise("Terminate",null);return r.push(w),Promise.all(r).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,r=this.messageHandler,o=this.loadingTask;r.on("GetReader",function(u,g){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(w){t._lastProgress={loaded:w.loaded,total:w.total}},g.onPull=function(){t._fullReader.read().then(function(w){var L=w.value;w.done?g.close():((0,_util.assert)((0,_util.isArrayBuffer)(L),"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(L),1,[L]))}).catch(function(w){g.error(w)})},g.onCancel=function(w){t._fullReader.cancel(w),g.ready.catch(function(L){if(!t.destroyed)throw L})}}),r.on("ReaderHeadersReady",function(u){var g=(0,_util.createPromiseCapability)(),w=t._fullReader;return w.headersReady.then(function(){var L;w.isStreamingSupported&&w.isRangeSupported||(t._lastProgress&&(null===(L=o.onProgress)||void 0===L||L.call(o,t._lastProgress)),w.onProgress=function(N){var X;null===(X=o.onProgress)||void 0===X||X.call(o,{loaded:N.loaded,total:N.total})}),g.resolve({isStreamingSupported:w.isStreamingSupported,isRangeSupported:w.isRangeSupported,contentLength:w.contentLength})},g.reject),g.promise}),r.on("GetRangeReader",function(u,g){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var w=t._networkStream.getRangeReader(u.begin,u.end);w?(g.onPull=function(){w.read().then(function(L){var N=L.value;L.done?g.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(N),1,[N]))}).catch(function(L){g.error(L)})},g.onCancel=function(L){w.cancel(L),g.ready.catch(function(N){if(!t.destroyed)throw N})}):g.close()}),r.on("GetDoc",function(u){var g=u.pdfInfo;t._numPages=g.numPages,t._htmlForXfa=g.htmlForXfa,delete g.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(g,t))}),r.on("DocException",function(u){var g;switch(u.name){case"PasswordException":g=new _util.PasswordException(u.message,u.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(u.message);break;case"MissingPDFException":g=new _util.MissingPDFException(u.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(u.message,u.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(u.message,u.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(g)}),r.on("PasswordRequest",function(u){if(t._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword)try{o.onPassword(function(L){L instanceof Error?t._passwordCapability.reject(L):t._passwordCapability.resolve({password:L})},u.code)}catch(w){t._passwordCapability.reject(w)}else t._passwordCapability.reject(new _util.PasswordException(u.message,u.code));return t._passwordCapability.promise}),r.on("DataLoaded",function(u){var g;null===(g=o.onProgress)||void 0===g||g.call(o,{loaded:u.length,total:u.length}),t.downloadInfoCapability.resolve(u)}),r.on("StartRenderPage",function(u){t.destroyed||_classPrivateFieldGet(t,_pageCache).get(u.pageIndex)._startRenderPage(u.transparency,u.cacheKey)}),r.on("commonobj",function(u){var g,w=_slicedToArray(u,3),L=w[0],N=w[1],X=w[2];if(!t.destroyed&&!t.commonObjs.has(L))switch(N){case"Font":var O=t._params;if("error"in X){var k=X.error;(0,_util.warn)("Error during font loading: ".concat(k)),t.commonObjs.resolve(L,k);break}var _=null;O.pdfBug&&null!==(g=globalThis.FontInspector)&&void 0!==g&&g.enabled&&(_={registerFont:function(D,s){globalThis.FontInspector.fontAdded(D,s)}});var M=new _font_loader.FontFaceObject(X,{isEvalSupported:O.isEvalSupported,disableFontFace:O.disableFontFace,ignoreErrors:O.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:_});t.fontLoader.bind(M).catch(function(I){return r.sendWithPromise("FontFallback",{id:L})}).finally(function(){!O.fontExtraProperties&&M.data&&(M.data=null),t.commonObjs.resolve(L,M)});break;case"FontPath":case"Image":t.commonObjs.resolve(L,X);break;default:throw new Error("Got unknown common object type ".concat(N))}}),r.on("obj",function(u){var g=_slicedToArray(u,4),w=g[0],L=g[1],N=g[2],X=g[3];if(!t.destroyed){var O=_classPrivateFieldGet(t,_pageCache).get(L);if(!O.objs.has(w))switch(N){case"Image":var _,s;O.objs.resolve(w,X),X&&(X.bitmap?(_=X.width*X.height*4,O._bitmaps.add(X.bitmap)):_=(null===(s=X.data)||void 0===s?void 0:s.length)||0,_>8e6&&(O.cleanupAfterRender=!0));break;case"Pattern":O.objs.resolve(w,X);break;default:throw new Error("Got unknown object type ".concat(N))}}}),r.on("DocProgress",function(u){var g;t.destroyed||null===(g=o.onProgress)||void 0===g||g.call(o,{loaded:u.loaded,total:u.total})}),r.on("DocStats",function(u){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(u.streamTypes),fontTypes:Object.freeze(u.fontTypes)}))}),r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),r.on("FetchBuiltInCMap",function(u){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(u):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),r.on("FetchStandardFontData",function(u){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(u):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var r,o;this.destroyed||null===(r=(o=this.loadingTask).onUnsupportedFeature)||void 0===r||r.call(o,t.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var o=t-1,u=_classPrivateFieldGet(this,_pagePromises).get(o);if(u)return u;var g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(function(w){if(r.destroyed)throw new Error("Transport destroyed");var L=new PDFPageProxy(o,w,r,r._params.ownerDocument,r._params.pdfBug);return _classPrivateFieldGet(r,_pageCache).set(o,L),L});return _classPrivateFieldGet(this,_pagePromises).set(o,g),g}},{key:"getPageIndex",value:function(t){return"object"!==_typeof(t)||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}},{key:"getAnnotations",value:function(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"saveDocument",value:function(){var t,r,o=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(r=this._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null}).finally(function(){o.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(r){var o,u,g,w;return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:null!==(o=null===(u=t._fullReader)||void 0===u?void 0:u.filename)&&void 0!==o?o:null,contentLength:null!==(g=null===(w=t._fullReader)||void 0===w?void 0:w.contentLength)&&void 0!==g?g:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o,u,g,w,N=arguments;return _regenerator.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=N.length>0&&void 0!==N[0]&&N[0],O.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){O.next=5;break}return O.abrupt("return");case 5:u=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),O.prev=6,u.s();case 8:if((g=u.n()).done){O.next=15;break}if((w=g.value).cleanup()){O.next=13;break}throw new Error("startCleanup: Page ".concat(w.pageNumber," is currently rendering."));case 13:O.next=8;break;case 15:O.next=20;break;case 17:O.prev=17,O.t0=O.catch(6),u.e(O.t0);case 20:return O.prev=20,u.f(),O.finish(20);case 23:this.commonObjs.clear(),o||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return O.stop()}},r,this,[[6,17,20,23]])})),function t(){return i.apply(this,arguments)})},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),y;var i}(),_objs=new WeakMap,_ensureObj=new WeakSet,PDFObjects=function(){function y(){_classCallCheck(this,y),_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}return _createClass(y,[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r){var o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);return o.capability.promise.then(function(){return r(o.data)}),null}var u=_classPrivateFieldGet(this,_objs)[t];if(null==u||!u.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return u.data}},{key:"has",value:function(t){return _classPrivateFieldGet(this,_objs)[t]?.capability.settled||!1}},{key:"resolve",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);o.data=r,o.capability.resolve()}},{key:"clear",value:function(){_classPrivateFieldSet(this,_objs,Object.create(null))}}]),y}();function _ensureObj2(y){return _classPrivateFieldGet(this,_objs)[y]||(_classPrivateFieldGet(this,_objs)[y]={capability:(0,_util.createPromiseCapability)(),data:null})}var RenderTask=function(){function y(i){_classCallCheck(this,y),this._internalRenderTask=i,this.onContinue=null}return _createClass(y,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),y}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function y(i){var t=i.callback,r=i.params,o=i.objs,u=i.commonObjs,g=i.annotationCanvasMap,w=i.operatorList,L=i.pageIndex,N=i.canvasFactory,X=i.useRequestAnimationFrame,O=void 0!==X&&X,k=i.pdfBug,_=void 0!==k&&k,M=i.pageColors,I=void 0===M?null:M;_classCallCheck(this,y),this.callback=t,this.params=r,this.objs=o,this.commonObjs=u,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=L,this.canvasFactory=N,this._pdfBug=_,this.pageColors=I,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===O&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(y,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var r,o=t.transparency,u=void 0!==o&&o,g=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(y,y,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(y,y,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(r=globalThis.StepperManager)&&void 0!==r&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var w=this.params,N=w.viewport,X=w.transform,k=w.background;this.gfx=new _canvas.CanvasGraphics(w.canvasContext,this.commonObjs,this.objs,this.canvasFactory,w.imageLayer,g,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:X,viewport:N,transparency:u,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(y,y,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){return _regenerator.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.cancelled){u.next=2;break}return u.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(y,y,_canvasInUse).delete(this._canvas),this.callback()));case 4:case"end":return u.stop()}},r,this)})),function t(){return i.apply(this,arguments)})}]),y;var i}(),_canvasInUse={writable:!0,value:new WeakSet},version="2.14.305";exports.version=version;var build="eaaa8b4ad";exports.build=build},(y,i,t)=>{"use strict";y.exports=t(157)},(y,i,t)=>{"use strict";function r(u){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}var o=function(u){var L,g=Object.prototype,w=g.hasOwnProperty,N="function"==typeof Symbol?Symbol:{},X=N.iterator||"@@iterator",O=N.asyncIterator||"@@asyncIterator",k=N.toStringTag||"@@toStringTag";function _(f,p,x){return Object.defineProperty(f,p,{value:x,enumerable:!0,configurable:!0,writable:!0}),f[p]}try{_({},"")}catch{_=function(x,U,ie){return x[U]=ie}}function M(f,p,x,U){var ye=Object.create((p&&p.prototype instanceof T?p:T).prototype),ne=new Y(U||[]);return ye._invoke=function H(f,p,x){var U=D;return function(ye,ne){if(U===a)throw new Error("Generator is already running");if(U===d){if("throw"===ye)throw ne;return ee()}for(x.method=ye,x.arg=ne;;){var Ee=x.delegate;if(Ee){var pe=te(Ee,x);if(pe){if(pe===h)continue;return pe}}if("next"===x.method)x.sent=x._sent=x.arg;else if("throw"===x.method){if(U===D)throw U=d,x.arg;x.dispatchException(x.arg)}else"return"===x.method&&x.abrupt("return",x.arg);U=a;var _e=I(f,p,x);if("normal"===_e.type){if(U=x.done?d:s,_e.arg===h)continue;return{value:_e.arg,done:x.done}}"throw"===_e.type&&(U=d,x.method="throw",x.arg=_e.arg)}}}(f,x,ne),ye}function I(f,p,x){try{return{type:"normal",arg:f.call(p,x)}}catch(U){return{type:"throw",arg:U}}}u.wrap=M;var D="suspendedStart",s="suspendedYield",a="executing",d="completed",h={};function T(){}function v(){}function C(){}var m={};_(m,X,function(){return this});var l=Object.getPrototypeOf,S=l&&l(l(re([])));S&&S!==g&&w.call(S,X)&&(m=S);var c=C.prototype=T.prototype=Object.create(m);function P(f){["next","throw","return"].forEach(function(p){_(f,p,function(x){return this._invoke(p,x)})})}function G(f,p){function x(ye,ne,Ee,pe){var _e=I(f[ye],f,ne);if("throw"!==_e.type){var he=_e.arg,Ae=he.value;return Ae&&"object"===r(Ae)&&w.call(Ae,"__await")?p.resolve(Ae.__await).then(function(Pe){x("next",Pe,Ee,pe)},function(Pe){x("throw",Pe,Ee,pe)}):p.resolve(Ae).then(function(Pe){he.value=Pe,Ee(he)},function(Pe){return x("throw",Pe,Ee,pe)})}pe(_e.arg)}var U;this._invoke=function ie(ye,ne){function Ee(){return new p(function(pe,_e){x(ye,ne,pe,_e)})}return U=U?U.then(Ee,Ee):Ee()}}function te(f,p){var x=f.iterator[p.method];if(x===L){if(p.delegate=null,"throw"===p.method){if(f.iterator.return&&(p.method="return",p.arg=L,te(f,p),"throw"===p.method))return h;p.method="throw",p.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var U=I(x,f.iterator,p.arg);if("throw"===U.type)return p.method="throw",p.arg=U.arg,p.delegate=null,h;var ie=U.arg;return ie?ie.done?(p[f.resultName]=ie.value,p.next=f.nextLoc,"return"!==p.method&&(p.method="next",p.arg=L),p.delegate=null,h):ie:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,h)}function J(f){var p={tryLoc:f[0]};1 in f&&(p.catchLoc=f[1]),2 in f&&(p.finallyLoc=f[2],p.afterLoc=f[3]),this.tryEntries.push(p)}function oe(f){var p=f.completion||{};p.type="normal",delete p.arg,f.completion=p}function Y(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(J,this),this.reset(!0)}function re(f){if(f){var p=f[X];if(p)return p.call(f);if("function"==typeof f.next)return f;if(!isNaN(f.length)){var x=-1,U=function ie(){for(;++x<f.length;)if(w.call(f,x))return ie.value=f[x],ie.done=!1,ie;return ie.value=L,ie.done=!0,ie};return U.next=U}}return{next:ee}}function ee(){return{value:L,done:!0}}return v.prototype=C,_(c,"constructor",C),_(C,"constructor",v),v.displayName=_(C,k,"GeneratorFunction"),u.isGeneratorFunction=function(f){var p="function"==typeof f&&f.constructor;return!!p&&(p===v||"GeneratorFunction"===(p.displayName||p.name))},u.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,C):(f.__proto__=C,_(f,k,"GeneratorFunction")),f.prototype=Object.create(c),f},u.awrap=function(f){return{__await:f}},P(G.prototype),_(G.prototype,O,function(){return this}),u.AsyncIterator=G,u.async=function(f,p,x,U,ie){void 0===ie&&(ie=Promise);var ye=new G(M(f,p,x,U),ie);return u.isGeneratorFunction(p)?ye:ye.next().then(function(ne){return ne.done?ne.value:ye.next()})},P(c),_(c,k,"Generator"),_(c,X,function(){return this}),_(c,"toString",function(){return"[object Generator]"}),u.keys=function(f){var p=[];for(var x in f)p.push(x);return p.reverse(),function U(){for(;p.length;){var ie=p.pop();if(ie in f)return U.value=ie,U.done=!1,U}return U.done=!0,U}},u.values=re,Y.prototype={constructor:Y,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(oe),!p)for(var x in this)"t"===x.charAt(0)&&w.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=L)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if("throw"===x.type)throw x.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var x=this;function U(_e,he){return ne.type="throw",ne.arg=p,x.next=_e,he&&(x.method="next",x.arg=L),!!he}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ye=this.tryEntries[ie],ne=ye.completion;if("root"===ye.tryLoc)return U("end");if(ye.tryLoc<=this.prev){var Ee=w.call(ye,"catchLoc"),pe=w.call(ye,"finallyLoc");if(Ee&&pe){if(this.prev<ye.catchLoc)return U(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return U(ye.finallyLoc)}else if(Ee){if(this.prev<ye.catchLoc)return U(ye.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<ye.finallyLoc)return U(ye.finallyLoc)}}}},abrupt:function(p,x){for(var U=this.tryEntries.length-1;U>=0;--U){var ie=this.tryEntries[U];if(ie.tryLoc<=this.prev&&w.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ye=ie;break}}ye&&("break"===p||"continue"===p)&&ye.tryLoc<=x&&x<=ye.finallyLoc&&(ye=null);var ne=ye?ye.completion:{};return ne.type=p,ne.arg=x,ye?(this.method="next",this.next=ye.finallyLoc,h):this.complete(ne)},complete:function(p,x){if("throw"===p.type)throw p.arg;return"break"===p.type||"continue"===p.type?this.next=p.arg:"return"===p.type?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):"normal"===p.type&&x&&(this.next=x),h},finish:function(p){for(var x=this.tryEntries.length-1;x>=0;--x){var U=this.tryEntries[x];if(U.finallyLoc===p)return this.complete(U.completion,U.afterLoc),oe(U),h}},catch:function(p){for(var x=this.tryEntries.length-1;x>=0;--x){var U=this.tryEntries[x];if(U.tryLoc===p){var ie=U.completion;if("throw"===ie.type){var ye=ie.arg;oe(U)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(p,x,U){return this.delegate={iterator:re(p),resultName:x,nextLoc:U},"next"===this.method&&(this.arg=L),h}},u}("object"===r(y=t.nmd(y))?y.exports:{});try{regeneratorRuntime=o}catch{"object"===(typeof globalThis>"u"?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},(y,i,t)=>{"use strict";function r(pe){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(pe)}Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=function ie(pe){console.log("Deprecated API usage: "+pe)},i.getFilenameFromUrl=function ee(pe){var _e=pe.indexOf("#"),he=pe.indexOf("?"),Ae=Math.min(_e>0?_e:pe.length,he>0?he:pe.length);return pe.substring(pe.lastIndexOf("/",Ae)+1,Ae)},i.getPdfFilenameFromUrl=function f(pe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof pe)return _e;if(Y(pe))return(0,g.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),_e;var he=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ae=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pe=he.exec(pe),Oe=Ae.exec(Pe[1])||Ae.exec(Pe[2])||Ae.exec(Pe[3]);if(Oe&&(Oe=Oe[0]).includes("%"))try{Oe=Ae.exec(decodeURIComponent(Oe))[0]}catch{}return Oe||_e},i.getXfaPageViewport=function Ee(pe,_e){var he=_e.scale,Ae=void 0===he?1:he,Pe=_e.rotation,Oe=void 0===Pe?0:Pe,Re=pe.attributes.style,Me=Re.height,j=[0,0,parseInt(Re.width),parseInt(Me)];return new J({viewBox:j,scale:Ae,rotation:Oe})},i.isDataScheme=Y,i.isPdfFile=function re(pe){return"string"==typeof pe&&/\.pdf$/i.test(pe)},i.isValidFetchUrl=x,i.loadScript=function U(pe){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(he,Ae){var Pe=document.createElement("script");Pe.src=pe,Pe.onload=function(Oe){_e&&Pe.remove(),he(Oe)},Pe.onerror=function(){Ae(new Error("Cannot load script at: ".concat(Pe.src)))},(document.head||document.documentElement).appendChild(Pe)})};var o=function w(pe){return pe&&pe.__esModule?pe:{default:pe}}(t(156)),u=t(159),g=t(1);function L(pe,_e){var he=typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(!he){if(Array.isArray(pe)||(he=function N(pe,_e){if(pe){if("string"==typeof pe)return X(pe,_e);var he=Object.prototype.toString.call(pe).slice(8,-1);if("Object"===he&&pe.constructor&&(he=pe.constructor.name),"Map"===he||"Set"===he)return Array.from(pe);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return X(pe,_e)}}(pe))||_e&&pe&&"number"==typeof pe.length){he&&(pe=he);var Ae=0,Pe=function(){};return{s:Pe,n:function(){return Ae>=pe.length?{done:!0}:{done:!1,value:pe[Ae++]}},e:function(j){throw j},f:Pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,Oe=!0,Re=!1;return{s:function(){he=he.call(pe)},n:function(){var j=he.next();return Oe=j.done,j},e:function(j){Re=!0,Ie=j},f:function(){try{!Oe&&null!=he.return&&he.return()}finally{if(Re)throw Ie}}}}function X(pe,_e){(null==_e||_e>pe.length)&&(_e=pe.length);for(var he=0,Ae=new Array(_e);he<_e;he++)Ae[he]=pe[he];return Ae}function O(pe,_e,he,Ae,Pe,Oe,Re){try{var Ie=pe[Oe](Re),Me=Ie.value}catch(j){return void he(j)}Ie.done?_e(Me):Promise.resolve(Me).then(Ae,Pe)}function k(pe){return function(){var _e=this,he=arguments;return new Promise(function(Ae,Pe){var Oe=pe.apply(_e,he);function Re(Me){O(Oe,Ae,Pe,Re,Ie,"next",Me)}function Ie(Me){O(Oe,Ae,Pe,Re,Ie,"throw",Me)}Re(void 0)})}}function _(pe,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),Object.defineProperty(pe,"prototype",{writable:!1}),_e&&M(pe,_e)}function M(pe,_e){return(M=Object.setPrototypeOf||function(Ae,Pe){return Ae.__proto__=Pe,Ae})(pe,_e)}function I(pe){var _e=function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Pe,Ae=d(pe);if(_e){var Oe=d(this).constructor;Pe=Reflect.construct(Ae,arguments,Oe)}else Pe=Ae.apply(this,arguments);return D(this,Pe)}}function D(pe,_e){if(_e&&("object"===r(_e)||"function"==typeof _e))return _e;if(void 0!==_e)throw new TypeError("Derived constructors may only return object or undefined");return function s(pe){if(void 0===pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(pe)}function d(pe){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)})(pe)}function h(pe,_e){for(var he=0;he<_e.length;he++){var Ae=_e[he];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(pe,Ae.key,Ae)}}function T(pe,_e,he){return _e&&h(pe.prototype,_e),he&&h(pe,he),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function v(pe,_e){if(!(pe instanceof _e))throw new TypeError("Cannot call a class as a function")}function C(pe,_e,he){return _e in pe?Object.defineProperty(pe,_e,{value:he,enumerable:!0,configurable:!0,writable:!0}):pe[_e]=he,pe}var l=T(function pe(){v(this,pe)});i.PixelsPerInch=l,C(l,"CSS",96),C(l,"PDF",72),C(l,"PDF_TO_CSS_UNITS",l.CSS/l.PDF);var S=function(pe){_(he,pe);var _e=I(he);function he(){var Ae,Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Oe=Pe.ownerDocument,Re=void 0===Oe?globalThis.document:Oe;return v(this,he),(Ae=_e.call(this))._document=Re,Ae}return T(he,[{key:"_createCanvas",value:function(Pe,Oe){var Re=this._document.createElement("canvas");return Re.width=Pe,Re.height=Oe,Re}}]),he}(u.BaseCanvasFactory);function c(pe){return P.apply(this,arguments)}function P(){return P=k(o.default.mark(function pe(_e){var he,Ae,Pe=arguments;return o.default.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(he=Pe.length>1&&void 0!==Pe[1]&&Pe[1],!x(_e,document.baseURI)){Re.next=21;break}return Re.next=4,fetch(_e);case 4:if((Ae=Re.sent).ok){Re.next=7;break}throw new Error(Ae.statusText);case 7:if(!he){Re.next=15;break}return Re.t1=Uint8Array,Re.next=11,Ae.arrayBuffer();case 11:Re.t2=Re.sent,Re.t0=new Re.t1(Re.t2),Re.next=20;break;case 15:return Re.t3=g.stringToBytes,Re.next=18,Ae.text();case 18:Re.t4=Re.sent,Re.t0=(0,Re.t3)(Re.t4);case 20:return Re.abrupt("return",Re.t0);case 21:return Re.abrupt("return",new Promise(function(Ie,Me){var j=new XMLHttpRequest;j.open("GET",_e,!0),he&&(j.responseType="arraybuffer"),j.onreadystatechange=function(){if(j.readyState===XMLHttpRequest.DONE){var ae;if((200===j.status||0===j.status)&&(he&&j.response?ae=new Uint8Array(j.response):!he&&j.responseText&&(ae=(0,g.stringToBytes)(j.responseText)),ae))return void Ie(ae);Me(new Error(j.statusText))}},j.send(null)}));case 22:case"end":return Re.stop()}},pe)})),P.apply(this,arguments)}i.DOMCanvasFactory=S;var G=function(pe){_(he,pe);var _e=I(he);function he(){return v(this,he),_e.apply(this,arguments)}return T(he,[{key:"_fetchData",value:function(Pe,Oe){return c(Pe,this.isCompressed).then(function(Re){return{cMapData:Re,compressionType:Oe}})}}]),he}(u.BaseCMapReaderFactory);i.DOMCMapReaderFactory=G;var H=function(pe){_(he,pe);var _e=I(he);function he(){return v(this,he),_e.apply(this,arguments)}return T(he,[{key:"_fetchData",value:function(Pe){return c(Pe,!0)}}]),he}(u.BaseStandardFontDataFactory);i.DOMStandardFontDataFactory=H;var te=function(pe){_(he,pe);var _e=I(he);function he(){return v(this,he),_e.apply(this,arguments)}return T(he,[{key:"_createSVG",value:function(Pe){return document.createElementNS("http://www.w3.org/2000/svg",Pe)}}]),he}(u.BaseSVGFactory);i.DOMSVGFactory=te;var ye,J=function(){function pe(_e){var he=_e.viewBox,Ae=_e.scale,Pe=_e.rotation,Oe=_e.offsetX,Re=void 0===Oe?0:Oe,Ie=_e.offsetY,Me=void 0===Ie?0:Ie,j=_e.dontFlip,ae=void 0!==j&&j;v(this,pe),this.viewBox=he,this.scale=Ae,this.rotation=Pe,this.offsetX=Re,this.offsetY=Me;var $,q,Z,le,fe,se,ke,ge,E=(he[2]+he[0])/2,A=(he[3]+he[1])/2;switch((Pe%=360)<0&&(Pe+=360),Pe){case 180:$=-1,q=0,Z=0,le=1;break;case 90:$=0,q=1,Z=1,le=0;break;case 270:$=0,q=-1,Z=-1,le=0;break;case 0:$=1,q=0,Z=0,le=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ae&&(Z=-Z,le=-le),0===$?(fe=Math.abs(A-he[1])*Ae+Re,se=Math.abs(E-he[0])*Ae+Me,ke=Math.abs(he[3]-he[1])*Ae,ge=Math.abs(he[2]-he[0])*Ae):(fe=Math.abs(E-he[0])*Ae+Re,se=Math.abs(A-he[1])*Ae+Me,ke=Math.abs(he[2]-he[0])*Ae,ge=Math.abs(he[3]-he[1])*Ae),this.transform=[$*Ae,q*Ae,Z*Ae,le*Ae,fe-$*Ae*E-Z*Ae*A,se-q*Ae*E-le*Ae*A],this.width=ke,this.height=ge}return T(pe,[{key:"clone",value:function(){var he=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ae=he.scale,Pe=void 0===Ae?this.scale:Ae,Oe=he.rotation,Re=void 0===Oe?this.rotation:Oe,Ie=he.offsetX,Me=void 0===Ie?this.offsetX:Ie,j=he.offsetY,ae=void 0===j?this.offsetY:j,E=he.dontFlip,A=void 0!==E&&E;return new pe({viewBox:this.viewBox.slice(),scale:Pe,rotation:Re,offsetX:Me,offsetY:ae,dontFlip:A})}},{key:"convertToViewportPoint",value:function(he,Ae){return g.Util.applyTransform([he,Ae],this.transform)}},{key:"convertToViewportRectangle",value:function(he){var Ae=g.Util.applyTransform([he[0],he[1]],this.transform),Pe=g.Util.applyTransform([he[2],he[3]],this.transform);return[Ae[0],Ae[1],Pe[0],Pe[1]]}},{key:"convertToPdfPoint",value:function(he,Ae){return g.Util.applyInverseTransform([he,Ae],this.transform)}}]),pe}();function Y(pe){for(var _e=pe.length,he=0;he<_e&&""===pe[he].trim();)he++;return"data:"===pe.substring(he,he+5).toLowerCase()}function x(pe,_e){try{var Ae=(_e?new URL(pe,_e):new URL(pe)).protocol;return"http:"===Ae||"https:"===Ae}catch{return!1}}i.PageViewport=J,i.RenderingCancelledException=function(pe){_(he,pe);var _e=I(he);function he(Ae,Pe){var Oe;return v(this,he),(Oe=_e.call(this,Ae,"RenderingCancelledException")).type=Pe,Oe}return T(he)}(g.BaseException),i.StatTimer=function(){function pe(){v(this,pe),this.started=Object.create(null),this.times=[]}return T(pe,[{key:"time",value:function(he){he in this.started&&(0,g.warn)("Timer is already running for ".concat(he)),this.started[he]=Date.now()}},{key:"timeEnd",value:function(he){he in this.started||(0,g.warn)("Timer has not been started for ".concat(he)),this.times.push({name:he,start:this.started[he],end:Date.now()}),delete this.started[he]}},{key:"toString",value:function(){var Oe,he=[],Ae=0,Pe=L(this.times);try{for(Pe.s();!(Oe=Pe.n()).done;){var Ie=Oe.value.name;Ie.length>Ae&&(Ae=Ie.length)}}catch(A){Pe.e(A)}finally{Pe.f()}var j,Me=L(this.times);try{for(Me.s();!(j=Me.n()).done;){var ae=j.value,E=ae.end-ae.start;he.push("".concat(ae.name.padEnd(Ae)," ").concat(E,"ms\n"))}}catch(A){Me.e(A)}finally{Me.f()}return he.join("")}}]),pe}(),i.PDFDateString=function(){function pe(){v(this,pe)}return T(pe,null,[{key:"toDateObject",value:function(he){if(!he||"string"!=typeof he)return null;ye||(ye=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var Ae=ye.exec(he);if(!Ae)return null;var Pe=parseInt(Ae[1],10),Oe=parseInt(Ae[2],10);Oe=Oe>=1&&Oe<=12?Oe-1:0;var Re=parseInt(Ae[3],10);Re=Re>=1&&Re<=31?Re:1;var Ie=parseInt(Ae[4],10);Ie=Ie>=0&&Ie<=23?Ie:0;var Me=parseInt(Ae[5],10);Me=Me>=0&&Me<=59?Me:0;var j=parseInt(Ae[6],10);j=j>=0&&j<=59?j:0;var ae=Ae[7]||"Z",E=parseInt(Ae[8],10);E=E>=0&&E<=23?E:0;var A=parseInt(Ae[9],10)||0;return A=A>=0&&A<=59?A:0,"-"===ae?(Ie+=E,Me+=A):"+"===ae&&(Ie-=E,Me-=A),new Date(Date.UTC(Pe,Oe,Re,Ie,Me,j))}}]),pe}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var r=function u(I){return I&&I.__esModule?I:{default:I}}(t(156)),o=t(1);function g(I,D,s,a,d,h,T){try{var v=I[h](T),C=v.value}catch(m){return void s(m)}v.done?D(C):Promise.resolve(C).then(a,d)}function w(I){return function(){var D=this,s=arguments;return new Promise(function(a,d){var h=I.apply(D,s);function T(C){g(h,a,d,T,v,"next",C)}function v(C){g(h,a,d,T,v,"throw",C)}T(void 0)})}}function L(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function N(I,D){for(var s=0;s<D.length;s++){var a=D[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(I,a.key,a)}}function X(I,D,s){return D&&N(I.prototype,D),s&&N(I,s),Object.defineProperty(I,"prototype",{writable:!1}),I}i.BaseCanvasFactory=function(){function I(){L(this,I),this.constructor===I&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return X(I,[{key:"create",value:function(s,a){if(s<=0||a<=0)throw new Error("Invalid canvas size");var d=this._createCanvas(s,a);return{canvas:d,context:d.getContext("2d")}}},{key:"reset",value:function(s,a,d){if(!s.canvas)throw new Error("Canvas is not specified");if(a<=0||d<=0)throw new Error("Invalid canvas size");s.canvas.width=a,s.canvas.height=d}},{key:"destroy",value:function(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}},{key:"_createCanvas",value:function(s,a){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}]),I}();var k=function(){function I(D){var s=D.baseUrl,a=void 0===s?null:s,d=D.isCompressed,h=void 0!==d&&d;L(this,I),this.constructor===I&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=h}return X(I,[{key:"fetch",value:(D=w(r.default.mark(function a(d){var T,v,h=this;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(T=d.name,this.baseUrl){l.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(T){l.next=5;break}throw new Error("CMap name must be specified.");case 5:return l.abrupt("return",this._fetchData(v=this.baseUrl+T+(this.isCompressed?".bcmap":""),this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE).catch(function(S){throw new Error("Unable to load ".concat(h.isCompressed?"binary ":"","CMap at: ").concat(v))}));case 8:case"end":return l.stop()}},a,this)})),function s(a){return D.apply(this,arguments)})},{key:"_fetchData",value:function(s,a){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),I;var D}();i.BaseCMapReaderFactory=k;var _=function(){function I(D){var s=D.baseUrl,a=void 0===s?null:s;L(this,I),this.constructor===I&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}return X(I,[{key:"fetch",value:(D=w(r.default.mark(function a(d){var h,T;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(h=d.filename,this.baseUrl){C.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(h){C.next=5;break}throw new Error("Font filename must be specified.");case 5:return T="".concat(this.baseUrl).concat(h),C.abrupt("return",this._fetchData(T).catch(function(m){throw new Error("Unable to load font data at: ".concat(T))}));case 7:case"end":return C.stop()}},a,this)})),function s(a){return D.apply(this,arguments)})},{key:"_fetchData",value:function(s){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),I;var D}();i.BaseStandardFontDataFactory=_,i.BaseSVGFactory=function(){function I(){L(this,I),this.constructor===I&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}return X(I,[{key:"create",value:function(s,a){if(s<=0||a<=0)throw new Error("Invalid SVG dimensions");var d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),d.setAttribute("width","".concat(s,"px")),d.setAttribute("height","".concat(a,"px")),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox","0 0 ".concat(s," ").concat(a)),d}},{key:"createElement",value:function(s){if("string"!=typeof s)throw new Error("Invalid SVG element type");return this._createSVG(s)}},{key:"_createSVG",value:function(s){(0,o.unreachable)("Abstract method `_createSVG` called.")}}]),I}()},(y,i,t)=>{"use strict";function r(l){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(l)}Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=function g(l){return l&&l.__esModule?l:{default:l}}(t(156)),u=t(1);function L(l,S){return(L=Object.setPrototypeOf||function(P,G){return P.__proto__=G,P})(l,S)}function X(l,S){if(S&&("object"===r(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function O(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l)}function _(l){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(l)}function M(l,S,c,P,G,H,te){try{var J=l[H](te),oe=J.value}catch(Y){return void c(Y)}J.done?S(oe):Promise.resolve(oe).then(P,G)}function D(l,S){var c=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!c){if(Array.isArray(l)||(c=function s(l,S){if(l){if("string"==typeof l)return a(l,S);var c=Object.prototype.toString.call(l).slice(8,-1);if("Object"===c&&l.constructor&&(c=l.constructor.name),"Map"===c||"Set"===c)return Array.from(l);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a(l,S)}}(l))||S&&l&&"number"==typeof l.length){c&&(l=c);var P=0,G=function(){};return{s:G,n:function(){return P>=l.length?{done:!0}:{done:!1,value:l[P++]}},e:function(Y){throw Y},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var J,H=!0,te=!1;return{s:function(){c=c.call(l)},n:function(){var Y=c.next();return H=Y.done,Y},e:function(Y){te=!0,J=Y},f:function(){try{!H&&null!=c.return&&c.return()}finally{if(te)throw J}}}}function a(l,S){(null==S||S>l.length)&&(S=l.length);for(var c=0,P=new Array(S);c<S;c++)P[c]=l[c];return P}function d(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")}function h(l,S){for(var c=0;c<S.length;c++){var P=S[c];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(l,P.key,P)}}function T(l,S,c){return S&&h(l.prototype,S),c&&h(l,c),Object.defineProperty(l,"prototype",{writable:!1}),l}var C,v=function(){function l(S){var c=S.docId,P=S.onUnsupportedFeature,G=S.ownerDocument,H=void 0===G?globalThis.document:G;d(this,l),this.constructor===l&&(0,u.unreachable)("Cannot initialize BaseFontLoader."),this.docId=c,this._onUnsupportedFeature=P,this._document=H,this.nativeFontFaces=[],this.styleElement=null}return T(l,[{key:"addNativeFontFace",value:function(c){this.nativeFontFaces.push(c),this._document.fonts.add(c)}},{key:"insertRule",value:function(c){var P=this.styleElement;P||((P=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(P));var G=P.sheet;G.insertRule(c,G.cssRules.length)}},{key:"clear",value:function(){var P,c=D(this.nativeFontFaces);try{for(c.s();!(P=c.n()).done;)this._document.fonts.delete(P.value)}catch(H){c.e(H)}finally{c.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(S=function I(l){return function(){var S=this,c=arguments;return new Promise(function(P,G){var H=l.apply(S,c);function te(oe){M(H,P,G,te,J,"next",oe)}function J(oe){M(H,P,G,te,J,"throw",oe)}te(void 0)})}}(o.default.mark(function P(G){var te,J,H=this;return o.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!G.attached&&!G.missingFile){Y.next=2;break}return Y.abrupt("return");case 2:if(G.attached=!0,!this.isFontLoadingAPISupported){Y.next=19;break}if(!(te=G.createNativeFontFace())){Y.next=18;break}return this.addNativeFontFace(te),Y.prev=7,Y.next=10,te.loaded;case 10:Y.next=18;break;case 12:throw Y.prev=12,Y.t0=Y.catch(7),this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,u.warn)("Failed to load font '".concat(te.family,"': '").concat(Y.t0,"'.")),G.disableFontFace=!0,Y.t0;case 18:return Y.abrupt("return");case 19:if(!(J=G.createFontFaceRule())){Y.next=26;break}if(this.insertRule(J),!this.isSyncFontLoadingSupported){Y.next=24;break}return Y.abrupt("return");case 24:return Y.next=26,new Promise(function(re){var ee=H._queueLoadingCallback(re);H._prepareFontLoadEvent([J],[G],ee)});case 26:case"end":return Y.stop()}},P,this,[[7,12]])})),function c(P){return S.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(c){(0,u.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var c,P=!(null===(c=this._document)||void 0===c||!c.fonts);return(0,u.shadow)(this,"isFontLoadingAPISupported",P)}},{key:"isSyncFontLoadingSupported",get:function(){(0,u.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,u.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(c,P,G){(0,u.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),l;var S}();i.FontLoader=C,i.FontLoader=C=function(l){!function w(l,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(S&&S.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),S&&L(l,S)}(c,l);var S=function N(l){var S=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,P=_(l);if(S){var H=_(this).constructor;G=Reflect.construct(P,arguments,H)}else G=P.apply(this,arguments);return X(this,G)}}(c);function c(P){var G;return d(this,c),(G=S.call(this,P)).loadingContext={requests:[],nextRequestId:0},G.loadTestFontId=0,G}return T(c,[{key:"isSyncFontLoadingSupported",get:function(){var G=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(G=!0),(0,u.shadow)(this,"isSyncFontLoadingSupported",G)}},{key:"_queueLoadingCallback",value:function(G){var te=this.loadingContext,J={id:"pdfjs-font-loading-".concat(te.nextRequestId++),done:!1,complete:function H(){for((0,u.assert)(!J.done,"completeRequest() cannot be called twice."),J.done=!0;te.requests.length>0&&te.requests[0].done;){var oe=te.requests.shift();setTimeout(oe.callback,0)}},callback:G};return te.requests.push(J),J}},{key:"_loadTestFont",get:function(){return(0,u.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(G,H,te){function J(A,$){return A.charCodeAt($)<<24|A.charCodeAt($+1)<<16|A.charCodeAt($+2)<<8|255&A.charCodeAt($+3)}function oe(A,$,q,Z){return A.substring(0,$)+Z+A.substring($+q)}var Y,re,ee=this._document.createElement("canvas");ee.width=1,ee.height=1;var f=ee.getContext("2d"),p=0,U="lt".concat(Date.now()).concat(this.loadTestFontId++),ie=this._loadTestFont,Ee=1482184792,pe=J(ie=oe(ie,976,U.length,U),16);for(Y=0,re=U.length-3;Y<re;Y+=4)pe=pe-Ee+J(U,Y)|0;Y<U.length&&(pe=pe-Ee+J(U+"XXX",Y)|0),ie=oe(ie,16,4,(0,u.string32)(pe));var _e="url(data:font/opentype;base64,".concat(btoa(ie),");"),he='@font-face {font-family:"'.concat(U,'";src:').concat(_e,"}");this.insertRule(he);var Oe,Ae=[],Pe=D(H);try{for(Pe.s();!(Oe=Pe.n()).done;)Ae.push(Oe.value.loadedName)}catch(A){Pe.e(A)}finally{Pe.f()}Ae.push(U);var Ie=this._document.createElement("div");Ie.style.visibility="hidden",Ie.style.width=Ie.style.height="10px",Ie.style.position="absolute",Ie.style.top=Ie.style.left="0px";for(var Me=0,j=Ae;Me<j.length;Me++){var ae=j[Me],E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=ae,Ie.appendChild(E)}this._document.body.appendChild(Ie),function x(A,$){if(++p>30)return(0,u.warn)("Load test font never loaded."),void $();f.font="30px "+A,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0?$():setTimeout(x.bind(null,A,$))}(U,function(){Ie.remove(),te.complete()})}}]),c}(v),i.FontFaceObject=function(){function l(S,c){var P=c.isEvalSupported,G=void 0===P||P,H=c.disableFontFace,te=void 0!==H&&H,J=c.ignoreErrors,oe=void 0!==J&&J,Y=c.onUnsupportedFeature,re=c.fontRegistry,ee=void 0===re?null:re;for(var f in d(this,l),this.compiledGlyphs=Object.create(null),S)this[f]=S[f];this.isEvalSupported=!1!==G,this.disableFontFace=!0===te,this.ignoreErrors=!0===oe,this._onUnsupportedFeature=Y,this.fontRegistry=ee}return T(l,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var c;if(this.cssFontInfo){var P={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(P.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),c=new FontFace(this.cssFontInfo.fontFamily,this.data,P)}else c=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),c}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var G,c=(0,u.bytesToString)(this.data),P="url(data:".concat(this.mimetype,";base64,").concat(btoa(c),");");if(this.cssFontInfo){var H="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(H+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),G='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(H,"src:").concat(P,"}")}else G='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(P,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,P),G}},{key:"getPathGenerator",value:function(c,P){if(void 0!==this.compiledGlyphs[P])return this.compiledGlyphs[P];var G;try{G=c.get(this.loadedName+"_path_"+P)}catch(re){if(!this.ignoreErrors)throw re;return this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,u.warn)('getPathGenerator - ignoring character: "'.concat(re,'".')),this.compiledGlyphs[P]=function(ee,f){}}if(this.isEvalSupported&&u.FeatureTest.isEvalSupported){var J,H=[],te=D(G);try{for(te.s();!(J=te.n()).done;){var oe=J.value,Y=void 0!==oe.args?oe.args.join(","):"";H.push("c.",oe.cmd,"(",Y,");\n")}}catch(re){te.e(re)}finally{te.f()}return this.compiledGlyphs[P]=new Function("c","size",H.join(""))}return this.compiledGlyphs[P]=function(re,ee){var p,f=D(G);try{for(f.s();!(p=f.n()).done;){var x=p.value;"scale"===x.cmd&&(x.args=[ee,-ee]),re[x.cmd].apply(re,x.args)}}catch(U){f.e(U)}finally{f.f()}}}}]),l}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationStorage=void 0;var r=t(162),o=t(1);function g(D,s){return function O(D){if(Array.isArray(D))return D}(D)||function X(D,s){var a=null==D?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(null!=a){var v,C,d=[],h=!0,T=!1;try{for(a=a.call(D);!(h=(v=a.next()).done)&&(d.push(v.value),!s||d.length!==s);h=!0);}catch(m){T=!0,C=m}finally{try{!h&&null!=a.return&&a.return()}finally{if(T)throw C}}return d}}(D,s)||L(D,s)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(D,s){if(D){if("string"==typeof D)return N(D,s);var a=Object.prototype.toString.call(D).slice(8,-1);if("Object"===a&&D.constructor&&(a=D.constructor.name),"Map"===a||"Set"===a)return Array.from(D);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(D,s)}}function N(D,s){(null==s||s>D.length)&&(s=D.length);for(var a=0,d=new Array(s);a<s;a++)d[a]=D[a];return d}function _(D,s){for(var a=0;a<s.length;a++){var d=s[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(D,d.key,d)}}i.AnnotationStorage=function(){function D(){(function k(D,s){if(!(D instanceof s))throw new TypeError("Cannot call a class as a function")})(this,D),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return function M(D,s,a){s&&_(D.prototype,s),a&&_(D,a),Object.defineProperty(D,"prototype",{writable:!1})}(D,[{key:"getValue",value:function(a,d){var h=this._storage.get(a);return void 0===h?d:Object.assign(d,h)}},{key:"getRawValue",value:function(a){return this._storage.get(a)}},{key:"setValue",value:function(a,d){var h=this._storage.get(a),T=!1;if(void 0!==h)for(var v=0,C=Object.entries(d);v<C.length;v++){var m=g(C[v],2),l=m[0],S=m[1];h[l]!==S&&(T=!0,h[l]=S)}else T=!0,this._storage.set(a,d);T&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"hash",get:function(){var h,a=new r.MurmurHash3_64,d=function u(D,s){var a=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!a){if(Array.isArray(D)||(a=L(D))||s&&D&&"number"==typeof D.length){a&&(D=a);var d=0,h=function(){};return{s:h,n:function(){return d>=D.length?{done:!0}:{done:!1,value:D[d++]}},e:function(l){throw l},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,T=!0,v=!1;return{s:function(){a=a.call(D)},n:function(){var l=a.next();return T=l.done,l},e:function(l){v=!0,C=l},f:function(){try{!T&&null!=a.return&&a.return()}finally{if(v)throw C}}}}(this._storage);try{for(d.s();!(h=d.n()).done;){var T=g(h.value,2),C=T[1];a.update("".concat(T[0],":").concat(JSON.stringify(C)))}}catch(m){d.e(m)}finally{d.f()}return a.hexdigest()}}]),D}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var r=t(1);function u(O,k){for(var _=0;_<k.length;_++){var M=k[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}var w=3285377520,L=4294901760,N=65535;i.MurmurHash3_64=function(){function O(k){(function o(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")})(this,O),this.h1=k?4294967295&k:w,this.h2=k?4294967295&k:w}return function g(O,k,_){k&&u(O.prototype,k),_&&u(O,_),Object.defineProperty(O,"prototype",{writable:!1})}(O,[{key:"update",value:function(_){var M,I;if("string"==typeof _){M=new Uint8Array(2*_.length),I=0;for(var D=0,s=_.length;D<s;D++){var a=_.charCodeAt(D);a<=255?M[I++]=a:(M[I++]=a>>>8,M[I++]=255&a)}}else{if(!(0,r.isArrayBuffer)(_))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");I=(M=_.slice()).byteLength}for(var d=I>>2,h=I-4*d,T=new Uint32Array(M.buffer,0,d),v=0,C=0,m=this.h1,l=this.h2,S=3432918353,c=461845907,P=S&N,G=c&N,H=0;H<d;H++)1&H?m=5*(m=(m^=v=(v=(v=(v=T[H])*S&L|v*P&N)<<15|v>>>17)*c&L|v*G&N)<<13|m>>>19)+3864292196:l=5*(l=(l^=C=(C=(C=(C=T[H])*S&L|C*P&N)<<15|C>>>17)*c&L|C*G&N)<<13|l>>>19)+3864292196;switch(v=0,h){case 3:v^=M[4*d+2]<<16;case 2:v^=M[4*d+1]<<8;case 1:v=(v=(v=(v^=M[4*d])*S&L|v*P&N)<<15|v>>>17)*c&L|v*G&N,1&d?m^=v:l^=v}this.h1=m,this.h2=l}},{key:"hexdigest",value:function(){var _=this.h1,M=this.h2;_=3981806797*(_^=M>>>1)&L|36045*_&N,_=444984403*(_^=(M=4283543511*M&L|(2950163797*(M<<16|_>>>16)&L)>>>16)>>>1)&L|60499*_&N;var I=((_^=(M=3301882366*M&L|(3120437893*(M<<16|_>>>16)&L)>>>16)>>>1)>>>0).toString(16),D=(M>>>0).toString(16);return I.padStart(8,"0")+D.padStart(8,"0")}}]),O}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var r=t(1),o=t(164),u=t(165),g=t(3),w=t(158);function k(j){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(j)}function _(j,ae){var E=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!E){if(Array.isArray(j)||(E=d(j))||ae&&j&&"number"==typeof j.length){E&&(j=E);var A=0,$=function(){};return{s:$,n:function(){return A>=j.length?{done:!0}:{done:!1,value:j[A++]}},e:function(se){throw se},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le,q=!0,Z=!1;return{s:function(){E=E.call(j)},n:function(){var se=E.next();return q=se.done,se},e:function(se){Z=!0,le=se},f:function(){try{!q&&null!=E.return&&E.return()}finally{if(Z)throw le}}}}function M(j,ae){if(!(j instanceof ae))throw new TypeError("Cannot call a class as a function")}function I(j,ae){for(var E=0;E<ae.length;E++){var A=ae[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}function D(j,ae,E){return ae&&I(j.prototype,ae),E&&I(j,E),Object.defineProperty(j,"prototype",{writable:!1}),j}function s(j,ae){return function v(j){if(Array.isArray(j))return j}(j)||function T(j,ae){var E=null==j?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(null!=E){var Z,le,A=[],$=!0,q=!1;try{for(E=E.call(j);!($=(Z=E.next()).done)&&(A.push(Z.value),!ae||A.length!==ae);$=!0);}catch(fe){q=!0,le=fe}finally{try{!$&&null!=E.return&&E.return()}finally{if(q)throw le}}return A}}(j,ae)||d(j,ae)||function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(j,ae){if(j){if("string"==typeof j)return h(j,ae);var E=Object.prototype.toString.call(j).slice(8,-1);if("Object"===E&&j.constructor&&(E=j.constructor.name),"Map"===E||"Set"===E)return Array.from(j);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return h(j,ae)}}function h(j,ae){(null==ae||ae>j.length)&&(ae=j.length);for(var E=0,A=new Array(ae);E<ae;E++)A[E]=j[E];return A}var l=4096,H=16;function oe(j){if(j._transformStack&&(j._transformStack=[]),!j.mozCurrentTransform){j._originalSave=j.save,j._originalRestore=j.restore,j._originalRotate=j.rotate,j._originalScale=j.scale,j._originalTranslate=j.translate,j._originalTransform=j.transform,j._originalSetTransform=j.setTransform,j._originalResetTransform=j.resetTransform,j._transformMatrix=j._transformMatrix||[1,0,0,1,0,0],j._transformStack=[];try{var ae=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(j),"lineWidth");j._setLineWidth=ae.set,j._getLineWidth=ae.get,Object.defineProperty(j,"lineWidth",{set:function(A){this._setLineWidth(1.000001*A)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(j,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(j,"mozCurrentTransformInverse",{get:function(){var A=s(this._transformMatrix,6),$=A[0],q=A[1],Z=A[2],le=A[3],fe=A[4],se=A[5],ke=$*le-q*Z,ge=q*Z-$*le;return[le/ke,q/ge,Z/ge,$/ke,(le*fe-Z*se)/ge,(q*fe-$*se)/ke]}}),j.save=function(){var A=this._transformMatrix;this._transformStack.push(A),this._transformMatrix=A.slice(0,6),this._originalSave()},j.restore=function(){0===this._transformStack.length&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");var A=this._transformStack.pop();A&&(this._transformMatrix=A,this._originalRestore())},j.translate=function(A,$){var q=this._transformMatrix;q[4]=q[0]*A+q[2]*$+q[4],q[5]=q[1]*A+q[3]*$+q[5],this._originalTranslate(A,$)},j.scale=function(A,$){var q=this._transformMatrix;q[0]*=A,q[1]*=A,q[2]*=$,q[3]*=$,this._originalScale(A,$)},j.transform=function(A,$,q,Z,le,fe){var se=this._transformMatrix;this._transformMatrix=[se[0]*A+se[2]*$,se[1]*A+se[3]*$,se[0]*q+se[2]*Z,se[1]*q+se[3]*Z,se[0]*le+se[2]*fe+se[4],se[1]*le+se[3]*fe+se[5]],j._originalTransform(A,$,q,Z,le,fe)},j.setTransform=function(A,$,q,Z,le,fe){this._transformMatrix=[A,$,q,Z,le,fe],j._originalSetTransform(A,$,q,Z,le,fe)},j.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],j._originalResetTransform()},j.rotate=function(A){var $=Math.cos(A),q=Math.sin(A),Z=this._transformMatrix;this._transformMatrix=[Z[0]*$+Z[2]*q,Z[1]*$+Z[3]*q,Z[0]*-q+Z[2]*$,Z[1]*-q+Z[3]*$,Z[4],Z[5]],this._originalRotate(A)}}}var Y=function(){function j(ae){M(this,j),this.canvasFactory=ae,this.cache=Object.create(null)}return D(j,[{key:"getCanvas",value:function(E,A,$,q){var Z;return void 0!==this.cache[E]?(this.canvasFactory.reset(Z=this.cache[E],A,$),Z.context.setTransform(1,0,0,1,0,0)):(Z=this.canvasFactory.create(A,$),this.cache[E]=Z),q&&oe(Z.context),Z}},{key:"delete",value:function(E){delete this.cache[E]}},{key:"clear",value:function(){for(var E in this.cache)this.canvasFactory.destroy(this.cache[E]),delete this.cache[E]}}]),j}();function re(j,ae,E,A,$,q,Z,le,fe,se){var ke=s(j.mozCurrentTransform,6),ge=ke[0],R=ke[1],K=ke[2],F=ke[3],W=ke[4],B=ke[5];if(0===R&&0===K){var z=Math.round(Z*ge+W),Se=Math.round(le*F+B),Ce=Math.abs(Math.round((Z+fe)*ge+W)-z)||1,We=Math.abs(Math.round((le+se)*F+B)-Se)||1;return j.setTransform(Math.sign(ge),0,0,Math.sign(F),z,Se),j.drawImage(ae,E,A,$,q,0,0,Ce,We),j.setTransform(ge,R,K,F,W,B),[Ce,We]}if(0===ge&&0===F){var Be=Math.round(le*K+W),Le=Math.round(Z*R+B),Ge=Math.abs(Math.round((le+se)*K+W)-Be)||1,Ne=Math.abs(Math.round((Z+fe)*R+B)-Le)||1;return j.setTransform(0,Math.sign(R),Math.sign(K),0,Be,Le),j.drawImage(ae,E,A,$,q,0,0,Ne,Ge),j.setTransform(ge,R,K,F,W,B),[Ne,Ge]}return j.drawImage(ae,E,A,$,q,Z,le,fe,se),[Math.hypot(ge,R)*fe,Math.hypot(K,F)*se]}var f=function(){function j(ae,E){M(this,j),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ae,E])}return D(j,[{key:"clone",value:function(){var E=Object.create(this);return E.clipBox=this.clipBox.slice(),E}},{key:"setCurrentPoint",value:function(E,A){this.x=E,this.y=A}},{key:"updatePathMinMax",value:function(E,A,$){var Z=s(r.Util.applyTransform([A,$],E),2);A=Z[0],$=Z[1],this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,$),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,$)}},{key:"updateRectMinMax",value:function(E,A){var $=r.Util.applyTransform(A,E),q=r.Util.applyTransform(A.slice(2),E);this.minX=Math.min(this.minX,$[0],q[0]),this.minY=Math.min(this.minY,$[1],q[1]),this.maxX=Math.max(this.maxX,$[0],q[0]),this.maxY=Math.max(this.maxY,$[1],q[1])}},{key:"updateScalingPathMinMax",value:function(E,A){r.Util.scaleMinMax(E,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}},{key:"updateCurvePathMinMax",value:function(E,A,$,q,Z,le,fe,se,ke,ge){var R=r.Util.bezierBoundingBox(A,$,q,Z,le,fe,se,ke);if(ge)return ge[0]=Math.min(ge[0],R[0],R[2]),ge[1]=Math.max(ge[1],R[0],R[2]),ge[2]=Math.min(ge[2],R[1],R[3]),void(ge[3]=Math.max(ge[3],R[1],R[3]));this.updateRectMinMax(E,R)}},{key:"getPathBoundingBox",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,$=[this.minX,this.minY,this.maxX,this.maxY];if(E===o.PathType.STROKE){A||(0,r.unreachable)("Stroke bounding box must include transform.");var q=r.Util.singularValueDecompose2dScale(A),Z=q[0]*this.lineWidth/2,le=q[1]*this.lineWidth/2;$[0]-=Z,$[1]-=le,$[2]+=Z,$[3]+=le}return $}},{key:"updateClipFromPath",value:function(){var E=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(E||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(E){this.clipBox=E,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(E,A))}}]),j}();function p(j,ae){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(typeof ImageData<"u"&&ae instanceof ImageData)j.putImageData(ae,0,0);else{var ke,K,F,W,B,V,z,ce,Se,A=ae.height,$=ae.width,q=A%H,Z=(A-q)/H,le=0===q?Z:Z+1,fe=j.createImageData($,H),se=0,ge=ae.data,R=fe.data;if(E)switch(E.length){case 1:V=E[0],z=E[0],ce=E[0],Se=E[0];break;case 4:V=E[0],z=E[1],ce=E[2],Se=E[3]}if(ae.kind===r.ImageKind.GRAYSCALE_1BPP){var we=ge.byteLength,Ce=new Uint32Array(R.buffer,0,R.byteLength>>2),Fe=Ce.length,We=$+7>>3,De=4294967295,Be=r.FeatureTest.isLittleEndian?4278190080:255;if(Se&&255===Se[0]&&0===Se[255]){var Xe=[Be,De];De=Xe[0],Be=Xe[1]}for(K=0;K<le;K++){for(W=K<Z?H:q,ke=0,F=0;F<W;F++){for(var Le=we-se,je=0,Ge=Le>We?$:8*Le-7,Ve=-8&Ge,Ne=0,Ye=0;je<Ve;je+=8)Ye=ge[se++],Ce[ke++]=128&Ye?De:Be,Ce[ke++]=64&Ye?De:Be,Ce[ke++]=32&Ye?De:Be,Ce[ke++]=16&Ye?De:Be,Ce[ke++]=8&Ye?De:Be,Ce[ke++]=4&Ye?De:Be,Ce[ke++]=2&Ye?De:Be,Ce[ke++]=1&Ye?De:Be;for(;je<Ge;je++)0===Ne&&(Ye=ge[se++],Ne=128),Ce[ke++]=Ye&Ne?De:Be,Ne>>=1}for(;ke<Fe;)Ce[ke++]=0;j.putImageData(fe,0,K*H)}}else if(ae.kind===r.ImageKind.RGBA_32BPP){var Je=!!(V||z||ce);for(F=0,B=$*H*4,K=0;K<Z;K++){if(R.set(ge.subarray(se,se+B)),se+=B,Je)for(var Ze=0;Ze<B;Ze+=4)V&&(R[Ze+0]=V[R[Ze+0]]),z&&(R[Ze+1]=z[R[Ze+1]]),ce&&(R[Ze+2]=ce[R[Ze+2]]);j.putImageData(fe,0,F),F+=H}if(K<le){if(R.set(ge.subarray(se,se+(B=$*q*4))),Je)for(var et=0;et<B;et+=4)V&&(R[et+0]=V[R[et+0]]),z&&(R[et+1]=z[R[et+1]]),ce&&(R[et+2]=ce[R[et+2]]);j.putImageData(fe,0,F)}}else{if(ae.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(ae.kind));var de=!!(V||z||ce);for(B=$*(W=H),K=0;K<le;K++){for(K>=Z&&(B=$*(W=q)),ke=0,F=B;F--;)R[ke++]=ge[se++],R[ke++]=ge[se++],R[ke++]=ge[se++],R[ke++]=255;if(de)for(var Te=0;Te<ke;Te+=4)V&&(R[Te+0]=V[R[Te+0]]),z&&(R[Te+1]=z[R[Te+1]]),ce&&(R[Te+2]=ce[R[Te+2]]);j.putImageData(fe,0,K*H)}}}}function x(j,ae){if(ae.bitmap)j.drawImage(ae.bitmap,0,0);else for(var E=ae.height,A=ae.width,$=E%H,q=(E-$)/H,Z=0===$?q:q+1,le=j.createImageData(A,H),fe=0,se=ae.data,ke=le.data,ge=0;ge<Z;ge++)fe=(0,u.applyMaskImageData)({src:se,srcPos:fe,dest:ke,width:A,height:ge<q?H:$}).srcPos,j.putImageData(le,0,ge*H)}function U(j,ae){for(var E=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],A=0,$=E.length;A<$;A++){var q=E[A];void 0!==j[q]&&(ae[q]=j[q])}void 0!==j.setLineDash&&(ae.setLineDash(j.getLineDash()),ae.lineDashOffset=j.lineDashOffset)}function ie(j,ae){j.strokeStyle=j.fillStyle=ae||"#000000",j.fillRule="nonzero",j.globalAlpha=1,j.lineWidth=1,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=10,j.globalCompositeOperation="source-over",j.font="10px sans-serif",void 0!==j.setLineDash&&(j.setLineDash([]),j.lineDashOffset=0)}function ye(j,ae,E,A){for(var $=j.length,q=3;q<$;q+=4){var Z=j[q];if(0===Z)j[q-3]=ae,j[q-2]=E,j[q-1]=A;else if(Z<255){var le=255-Z;j[q-3]=j[q-3]*Z+ae*le>>8,j[q-2]=j[q-2]*Z+E*le>>8,j[q-1]=j[q-1]*Z+A*le>>8}}}function ne(j,ae,E){for(var A=j.length,q=3;q<A;q+=4)ae[q]=ae[q]*(E?E[j[q]]:j[q])*.00392156862745098|0}function Ee(j,ae,E){for(var A=j.length,$=3;$<A;$+=4){var q=77*j[$-3]+152*j[$-2]+28*j[$-1];ae[$]=E?ae[$]*E[q>>8]>>8:ae[$]*q>>16}}function he(j,ae){var E=r.Util.singularValueDecompose2dScale(j);E[0]=Math.fround(E[0]),E[1]=Math.fround(E[1]);var A=Math.fround((globalThis.devicePixelRatio||1)*w.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==ae?ae:E[0]<=A||E[1]<=A}var Ae=["butt","round","square"],Pe=["miter","round","bevel"],Oe={},Re={},Ie=function(){function j(ae,E,A,$,q,Z,le,fe){M(this,j),this.ctx=ae,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=E,this.objs=A,this.canvasFactory=$,this.imageLayer=q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Z,this.cachedCanvases=new Y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=le,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=fe?.background||null,this.foregroundColor=fe?.foreground||null,ae&&oe(ae),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return D(j,[{key:"getObject",value:function(E){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof E?E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E):A}},{key:"beginDrawing",value:function(E){var A=E.transform,$=E.viewport,q=E.transparency,Z=void 0!==q&&q,le=E.background,se=this.ctx.canvas.width,ke=this.ctx.canvas.height,ge=(void 0===le?null:le)||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;var R=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;var F,K=this.backgroundColor=this.ctx.fillStyle,W=ge;if(this.ctx.fillStyle=ge,F="string"==typeof(W=this.ctx.fillStyle)&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===R&&"#ffffff"===K||R===K||!F)this.foregroundColor=this.backgroundColor=null;else{var B=parseInt(W.slice(1),16),z=(B&&65280)>>8,ce=B&&255,Se=function(We){return(We/=255)<=.03928?We/12.92:Math.pow((We+.055)/1.055,2.4)},we=Math.round(.2126*Se((B&&16711680)>>16)+.7152*Se(z)+.0722*Se(ce));this.selectColor=function(Fe,We,De){var Be=.2126*Se(Fe)+.7152*Se(We)+.0722*Se(De);return Math.round(Be)===we?K:R}}}if(this.ctx.fillStyle=this.backgroundColor||ge,this.ctx.fillRect(0,0,se,ke),this.ctx.restore(),Z){var Ce=this.cachedCanvases.getCanvas("transparent",se,ke,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Ce.canvas,this.ctx=Ce.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ie(this.ctx,this.foregroundColor),A&&(this.ctx.transform.apply(this.ctx,A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform.apply(this.ctx,$.transform),this.viewportScale=$.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(E,A,$,q){var Z=E.argsArray,le=E.fnArray,fe=A||0,se=Z.length;if(se===fe)return fe;for(var W,ke=se-fe>10&&"function"==typeof $,ge=ke?Date.now()+15:0,R=0,K=this.commonObjs,F=this.objs;;){if(void 0!==q&&fe===q.nextBreakPoint)return q.breakIt(fe,$),fe;if((W=le[fe])!==r.OPS.dependency)this[W].apply(this,Z[fe]);else{var V,B=_(Z[fe]);try{for(B.s();!(V=B.n()).done;){var z=V.value,ce=z.startsWith("g_")?K:F;if(!ce.has(z))return ce.get(z,$),fe}}catch(Se){B.e(Se)}finally{B.f()}}if(++fe===se)return fe;if(ke&&++R>10){if(Date.now()>ge)return $(),fe;R=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();var A,E=_(this._cachedBitmapsMap.values());try{for(E.s();!(A=E.n()).done;){var Z,$=A.value,q=_($.values());try{for(q.s();!(Z=q.n()).done;){var le=Z.value;typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement&&(le.width=le.height=0)}}catch(fe){q.e(fe)}finally{q.f()}$.clear()}}catch(fe){E.e(fe)}finally{E.f()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(E,A){for(var ge,R,$=E.width,q=E.height,Z=Math.max(Math.hypot(A[0],A[1]),1),le=Math.max(Math.hypot(A[2],A[3]),1),fe=$,se=q,ke="prescale1";Z>2&&fe>1||le>2&&se>1;){var K=fe,F=se;Z>2&&fe>1&&(Z/=fe/(K=Math.ceil(fe/2))),le>2&&se>1&&(le/=se/(F=Math.ceil(se/2))),(R=(ge=this.cachedCanvases.getCanvas(ke,K,F,!1)).context).clearRect(0,0,K,F),R.drawImage(E,0,0,fe,se,0,0,K,F),E=ge.canvas,fe=K,se=F,ke="prescale1"===ke?"prescale2":"prescale1"}return{img:E,paintWidth:fe,paintHeight:se}}},{key:"_createMaskCanvas",value:function(E){var se,ke,ge,R,A=this.ctx,$=E.width,q=E.height,Z=this.current.fillColor,le=this.current.patternFill,fe=A.mozCurrentTransform;if((E.bitmap||E.data)&&E.count>1){var K=E.bitmap||E.data.buffer,F=fe.slice(0,4);ke=JSON.stringify(le?F:[F,Z]),(se=this._cachedBitmapsMap.get(K))||this._cachedBitmapsMap.set(K,se=new Map);var W=se.get(ke);if(W&&!le)return{canvas:W,offsetX:Math.round(Math.min(fe[0],fe[2])+fe[4]),offsetY:Math.round(Math.min(fe[1],fe[3])+fe[5])};ge=W}ge||x((R=this.cachedCanvases.getCanvas("maskCanvas",$,q,!1)).context,E);var z=r.Util.transform(fe,[1/$,0,0,-1/q,0,0]);z=r.Util.transform(z,[1,0,0,1,0,-q]);var ce=r.Util.applyTransform([0,0],z),Se=r.Util.applyTransform([$,q],z),we=r.Util.normalizeRect([ce[0],ce[1],Se[0],Se[1]]),Ce=Math.round(we[2]-we[0])||1,Fe=Math.round(we[3]-we[1])||1,We=this.cachedCanvases.getCanvas("fillCanvas",Ce,Fe,!0),De=We.context,Be=Math.min(ce[0],Se[0]),Xe=Math.min(ce[1],Se[1]);De.translate(-Be,-Xe),De.transform.apply(De,z),ge||(ge=(ge=this._scaleImage(R.canvas,De.mozCurrentTransformInverse)).img,se&&le&&se.set(ke,ge)),De.imageSmoothingEnabled=he(De.mozCurrentTransform,E.interpolate),re(De,ge,0,0,ge.width,ge.height,0,0,$,q),De.globalCompositeOperation="source-in";var Le=r.Util.transform(De.mozCurrentTransformInverse,[1,0,0,1,-Be,-Xe]);return De.fillStyle=le?Z.getPattern(A,this,Le,o.PathType.FILL):Z,De.fillRect(0,0,$,q),se&&!le&&(this.cachedCanvases.delete("fillCanvas"),se.set(ke,We.canvas)),{canvas:We.canvas,offsetX:Math.round(Be),offsetY:Math.round(Xe)}}},{key:"setLineWidth",value:function(E){E!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=E,this.ctx.lineWidth=E}},{key:"setLineCap",value:function(E){this.ctx.lineCap=Ae[E]}},{key:"setLineJoin",value:function(E){this.ctx.lineJoin=Pe[E]}},{key:"setMiterLimit",value:function(E){this.ctx.miterLimit=E}},{key:"setDash",value:function(E,A){var $=this.ctx;void 0!==$.setLineDash&&($.setLineDash(E),$.lineDashOffset=A)}},{key:"setRenderingIntent",value:function(E){}},{key:"setFlatness",value:function(E){}},{key:"setGState",value:function(E){for(var A=0,$=E.length;A<$;A++){var q=E[A],le=q[1];switch(q[0]){case"LW":this.setLineWidth(le);break;case"LC":this.setLineCap(le);break;case"LJ":this.setLineJoin(le);break;case"ML":this.setMiterLimit(le);break;case"D":this.setDash(le[0],le[1]);break;case"RI":this.setRenderingIntent(le);break;case"FL":this.setFlatness(le);break;case"Font":this.setFont(le[0],le[1]);break;case"CA":this.current.strokeAlpha=q[1];break;case"ca":this.current.fillAlpha=q[1],this.ctx.globalAlpha=q[1];break;case"BM":this.ctx.globalCompositeOperation=le;break;case"SMask":this.current.activeSMask=le?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=le}}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var E=this.inSMaskMode;this.current.activeSMask&&!E?this.beginSMaskMode():!this.current.activeSMask&&E&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var q=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=q.context;var Z=this.ctx;Z.setTransform.apply(Z,this.suspendedCtx.mozCurrentTransform),U(this.suspendedCtx,Z),function J(j,ae){if(j._removeMirroring)throw new Error("Context is already forwarding operations.");j.__originalSave=j.save,j.__originalRestore=j.restore,j.__originalRotate=j.rotate,j.__originalScale=j.scale,j.__originalTranslate=j.translate,j.__originalTransform=j.transform,j.__originalSetTransform=j.setTransform,j.__originalResetTransform=j.resetTransform,j.__originalClip=j.clip,j.__originalMoveTo=j.moveTo,j.__originalLineTo=j.lineTo,j.__originalBezierCurveTo=j.bezierCurveTo,j.__originalRect=j.rect,j.__originalClosePath=j.closePath,j.__originalBeginPath=j.beginPath,j._removeMirroring=function(){j.save=j.__originalSave,j.restore=j.__originalRestore,j.rotate=j.__originalRotate,j.scale=j.__originalScale,j.translate=j.__originalTranslate,j.transform=j.__originalTransform,j.setTransform=j.__originalSetTransform,j.resetTransform=j.__originalResetTransform,j.clip=j.__originalClip,j.moveTo=j.__originalMoveTo,j.lineTo=j.__originalLineTo,j.bezierCurveTo=j.__originalBezierCurveTo,j.rect=j.__originalRect,j.closePath=j.__originalClosePath,j.beginPath=j.__originalBeginPath,delete j._removeMirroring},j.save=function(){ae.save(),this.__originalSave()},j.restore=function(){ae.restore(),this.__originalRestore()},j.translate=function(A,$){ae.translate(A,$),this.__originalTranslate(A,$)},j.scale=function(A,$){ae.scale(A,$),this.__originalScale(A,$)},j.transform=function(A,$,q,Z,le,fe){ae.transform(A,$,q,Z,le,fe),this.__originalTransform(A,$,q,Z,le,fe)},j.setTransform=function(A,$,q,Z,le,fe){ae.setTransform(A,$,q,Z,le,fe),this.__originalSetTransform(A,$,q,Z,le,fe)},j.resetTransform=function(){ae.resetTransform(),this.__originalResetTransform()},j.rotate=function(A){ae.rotate(A),this.__originalRotate(A)},j.clip=function(A){ae.clip(A),this.__originalClip(A)},j.moveTo=function(E,A){ae.moveTo(E,A),this.__originalMoveTo(E,A)},j.lineTo=function(E,A){ae.lineTo(E,A),this.__originalLineTo(E,A)},j.bezierCurveTo=function(E,A,$,q,Z,le){ae.bezierCurveTo(E,A,$,q,Z,le),this.__originalBezierCurveTo(E,A,$,q,Z,le)},j.rect=function(E,A,$,q){ae.rect(E,A,$,q),this.__originalRect(E,A,$,q)},j.closePath=function(){ae.closePath(),this.__originalClosePath()},j.beginPath=function(){ae.beginPath(),this.__originalBeginPath()}}(Z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),U(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(E){this.current.activeSMask&&(E?(E[0]=Math.floor(E[0]),E[1]=Math.floor(E[1]),E[2]=Math.ceil(E[2]),E[3]=Math.ceil(E[3])):E=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function _e(j,ae,E,A){var $=A[0],q=A[1],Z=A[2]-$,le=A[3]-q;0===Z||0===le||(function pe(j,ae,E,A,$,q,Z,le,fe,se,ke){var W,ge=!!q,R=ge?q[0]:0,K=ge?q[1]:0,F=ge?q[2]:0;W="Luminosity"===$?Ee:ne;for(var V=Math.min(A,Math.ceil(1048576/E)),z=0;z<A;z+=V){var ce=Math.min(V,A-z),Se=j.getImageData(le-se,z+(fe-ke),E,ce),we=ae.getImageData(le,z+fe,E,ce);ge&&ye(Se.data,R,K,F),W(Se.data,we.data,Z),ae.putImageData(we,le,z+fe)}}(ae.context,E,Z,le,ae.subtype,ae.backdrop,ae.transferMap,$,q,ae.offsetX,ae.offsetY),j.save(),j.globalAlpha=1,j.globalCompositeOperation="source-over",j.setTransform(1,0,0,1,0,0),j.drawImage(E.canvas,0,0),j.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,E),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}},{key:"save",value:function(){this.inSMaskMode?(U(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var E=this.current;this.stateStack.push(E),this.current=E.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),U(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(E,A,$,q,Z,le){this.ctx.transform(E,A,$,q,Z,le),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(E,A,$){for(var se,ke,q=this.ctx,Z=this.current,le=Z.x,fe=Z.y,ge=q.mozCurrentTransform,R=0===ge[0]&&0===ge[3]||0===ge[1]&&0===ge[2],K=R?$.slice(0):null,F=0,W=0,B=E.length;F<B;F++)switch(0|E[F]){case r.OPS.rectangle:le=A[W++],fe=A[W++];var V=A[W++],z=A[W++],ce=le+V,Se=fe+z;q.moveTo(le,fe),0===V||0===z?q.lineTo(ce,Se):(q.lineTo(ce,fe),q.lineTo(ce,Se),q.lineTo(le,Se)),R||Z.updateRectMinMax(ge,[le,fe,ce,Se]),q.closePath();break;case r.OPS.moveTo:le=A[W++],fe=A[W++],q.moveTo(le,fe),R||Z.updatePathMinMax(ge,le,fe);break;case r.OPS.lineTo:le=A[W++],fe=A[W++],q.lineTo(le,fe),R||Z.updatePathMinMax(ge,le,fe);break;case r.OPS.curveTo:se=le,ke=fe,q.bezierCurveTo(A[W],A[W+1],A[W+2],A[W+3],le=A[W+4],fe=A[W+5]),Z.updateCurvePathMinMax(ge,se,ke,A[W],A[W+1],A[W+2],A[W+3],le,fe,K),W+=6;break;case r.OPS.curveTo2:se=le,ke=fe,q.bezierCurveTo(le,fe,A[W],A[W+1],A[W+2],A[W+3]),Z.updateCurvePathMinMax(ge,se,ke,le,fe,A[W],A[W+1],A[W+2],A[W+3],K),le=A[W+2],fe=A[W+3],W+=4;break;case r.OPS.curveTo3:se=le,ke=fe,q.bezierCurveTo(A[W],A[W+1],le=A[W+2],fe=A[W+3],le,fe),Z.updateCurvePathMinMax(ge,se,ke,A[W],A[W+1],le,fe,le,fe,K),W+=4;break;case r.OPS.closePath:q.closePath()}R&&Z.updateScalingPathMinMax(ge,K),Z.setCurrentPoint(le,fe)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(E){E=!(typeof E<"u")||E;var A=this.ctx,$=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===k($)&&null!=$&&$.getPattern?(A.save(),A.strokeStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),E&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(E){E=!(typeof E<"u")||E;var A=this.ctx,$=this.current.fillColor,Z=!1;this.current.patternFill&&(A.save(),A.fillStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.FILL),Z=!0);var le=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==le&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),Z&&A.restore(),E&&this.consumePath(le)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Oe}},{key:"eoClip",value:function(){this.pendingClip=Re}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var E=this.pendingTextPaths,A=this.ctx;if(void 0!==E){A.save(),A.beginPath();for(var $=0;$<E.length;$++){var q=E[$];A.setTransform.apply(A,q.transform),A.translate(q.x,q.y),q.addToPath(A,q.fontSize)}A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}else A.beginPath()}},{key:"setCharSpacing",value:function(E){this.current.charSpacing=E}},{key:"setWordSpacing",value:function(E){this.current.wordSpacing=E}},{key:"setHScale",value:function(E){this.current.textHScale=E/100}},{key:"setLeading",value:function(E){this.current.leading=-E}},{key:"setFont",value:function(E,A){var $=this.commonObjs.get(E),q=this.current;if(!$)throw new Error("Can't find font for ".concat(E));if(q.fontMatrix=$.fontMatrix||r.FONT_IDENTITY_MATRIX,(0===q.fontMatrix[0]||0===q.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+E),A<0?(A=-A,q.fontDirection=-1):q.fontDirection=1,this.current.font=$,this.current.fontSize=A,!$.isType3Font){var le="normal";$.black?le="900":$.bold&&(le="bold");var fe=$.italic?"italic":"normal",se='"'.concat($.loadedName||"sans-serif",'", ').concat($.fallbackName),ke=A;A<16?ke=16:A>100&&(ke=100),this.current.fontSizeScale=A/ke,this.ctx.font="".concat(fe," ").concat(le," ").concat(ke,"px ").concat(se)}}},{key:"setTextRenderingMode",value:function(E){this.current.textRenderingMode=E}},{key:"setTextRise",value:function(E){this.current.textRise=E}},{key:"moveText",value:function(E,A){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=A}},{key:"setLeadingMoveText",value:function(E,A){this.setLeading(-A),this.moveText(E,A)}},{key:"setTextMatrix",value:function(E,A,$,q,Z,le){this.current.textMatrix=[E,A,$,q,Z,le],this.current.textMatrixScale=Math.hypot(E,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(E,A,$,q){var F,Z=this.ctx,le=this.current,fe=le.font,se=le.textRenderingMode,ke=le.fontSize/le.fontSizeScale,ge=se&r.TextRenderingMode.FILL_STROKE_MASK,R=!!(se&r.TextRenderingMode.ADD_TO_PATH_FLAG),K=le.patternFill&&!fe.missingFile;(fe.disableFontFace||R||K)&&(F=fe.getPathGenerator(this.commonObjs,E)),fe.disableFontFace||K?(Z.save(),Z.translate(A,$),Z.beginPath(),F(Z,ke),q&&Z.setTransform.apply(Z,q),(ge===r.TextRenderingMode.FILL||ge===r.TextRenderingMode.FILL_STROKE)&&Z.fill(),(ge===r.TextRenderingMode.STROKE||ge===r.TextRenderingMode.FILL_STROKE)&&Z.stroke(),Z.restore()):((ge===r.TextRenderingMode.FILL||ge===r.TextRenderingMode.FILL_STROKE)&&Z.fillText(E,A,$),(ge===r.TextRenderingMode.STROKE||ge===r.TextRenderingMode.FILL_STROKE)&&Z.strokeText(E,A,$)),R&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Z.mozCurrentTransform,x:A,y:$,fontSize:ke,addToPath:F})}},{key:"isFontSubpixelAAEnabled",get:function(){var A=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1).context;A.scale(1.5,1),A.fillText("I",0,10);for(var $=A.getImageData(0,0,10,10).data,q=!1,Z=3;Z<$.length;Z+=4)if($[Z]>0&&$[Z]<255){q=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",q)}},{key:"showText",value:function(E){var A=this.current,$=A.font;if($.isType3Font)return this.showType3Text(E);var q=A.fontSize;if(0!==q){var z,Z=this.ctx,le=A.fontSizeScale,fe=A.charSpacing,se=A.wordSpacing,ke=A.fontDirection,ge=A.textHScale*ke,R=E.length,K=$.vertical,F=K?1:-1,W=$.defaultVMetrics,B=q*A.fontMatrix[0],V=A.textRenderingMode===r.TextRenderingMode.FILL&&!$.disableFontFace&&!A.patternFill;if(Z.save(),Z.transform.apply(Z,A.textMatrix),Z.translate(A.x,A.y+A.textRise),Z.scale(ge,ke>0?-1:1),A.patternFill){Z.save();var ce=A.fillColor.getPattern(Z,this,Z.mozCurrentTransformInverse,o.PathType.FILL);z=Z.mozCurrentTransform,Z.restore(),Z.fillStyle=ce}var Se=A.lineWidth,we=A.textMatrixScale;if(0===we||0===Se){var Ce=A.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Ce===r.TextRenderingMode.STROKE||Ce===r.TextRenderingMode.FILL_STROKE)&&(Se=this.getSinglePixelWidth())}else Se/=we;1!==le&&(Z.scale(le,le),Se/=le),Z.lineWidth=Se;var We,Fe=0;for(We=0;We<R;++We){var De=E[We];if("number"!=typeof De){var Be=!1,Xe=(De.isSpace?se:0)+fe,Le=De.fontChar,je=De.accent,Ge=void 0,Ve=void 0,Ne=De.width;if(K){var Ye=De.vmetric||W,Je=-(De.vmetric?Ye[1]:.5*Ne)*B;Ne=Ye?-Ye[0]:Ne,Ge=Je/le,Ve=(Fe+Ye[2]*B)/le}else Ge=Fe/le,Ve=0;if($.remeasure&&Ne>0){var et=1e3*Z.measureText(Le).width/q*le;if(Ne<et&&this.isFontSubpixelAAEnabled){var de=Ne/et;Be=!0,Z.save(),Z.scale(de,1),Ge/=de}else Ne!==et&&(Ge+=(Ne-et)/2e3*q/le)}this.contentVisible&&(De.isInFont||$.missingFile)&&(V&&!je?Z.fillText(Le,Ge,Ve):(this.paintChar(Le,Ge,Ve,z),je&&this.paintChar(je.fontChar,Ge+q*je.offset.x/le,Ve-q*je.offset.y/le,z))),Fe+=K?Ne*B-Xe*ke:Ne*B+Xe*ke,Be&&Z.restore()}else Fe+=F*De*q/1e3}K?A.y-=Fe:A.x+=Fe*ge,Z.restore(),this.compose()}}},{key:"showType3Text",value:function(E){var W,B,V,z,A=this.ctx,$=this.current,q=$.font,Z=$.fontSize,le=$.fontDirection,fe=q.vertical?1:-1,se=$.charSpacing,ke=$.wordSpacing,ge=$.textHScale*le,R=$.fontMatrix||r.FONT_IDENTITY_MATRIX,K=E.length;if($.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==Z){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,A.save(),A.transform.apply(A,$.textMatrix),A.translate($.x,$.y),A.scale(ge,le),W=0;W<K;++W)if("number"!=typeof(B=E[W])){var ce=(B.isSpace?ke:0)+se,Se=q.charProcOperatorList[B.operatorListId];if(Se){this.contentVisible&&(this.processingType3=B,this.save(),A.scale(Z,Z),A.transform.apply(A,R),this.executeOperatorList(Se),this.restore());var we=r.Util.applyTransform([B.width,0],R);A.translate(V=we[0]*Z+ce,0),$.x+=V*ge}else(0,r.warn)('Type3 character "'.concat(B.operatorListId,'" is not available.'))}else this.ctx.translate(z=fe*B*Z/1e3,0),$.x+=z*ge;A.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(E,A){}},{key:"setCharWidthAndBounds",value:function(E,A,$,q,Z,le){this.ctx.rect($,q,Z-$,le-q),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(E){var $,A=this;if("TilingPattern"===E[0]){var q=E[1],Z=this.baseTransform||this.ctx.mozCurrentTransform.slice();$=new o.TilingPattern(E,q,this.ctx,{createCanvasGraphics:function(se){return new j(se,A.commonObjs,A.objs,A.canvasFactory)}},Z)}else $=this._getPattern(E[1],E[2]);return $}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(E,A,$){var q,Z=(null===(q=this.selectColor)||void 0===q?void 0:q.call(this,E,A,$))||r.Util.makeHexColor(E,A,$);this.ctx.strokeStyle=Z,this.current.strokeColor=Z}},{key:"setFillRGBColor",value:function(E,A,$){var q,Z=(null===(q=this.selectColor)||void 0===q?void 0:q.call(this,E,A,$))||r.Util.makeHexColor(E,A,$);this.ctx.fillStyle=Z,this.current.fillColor=Z,this.current.patternFill=!1}},{key:"_getPattern",value:function(E){var $,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(E)?$=this.cachedPatterns.get(E):($=(0,o.getShadingPattern)(this.objs.get(E)),this.cachedPatterns.set(E,$)),A&&($.matrix=A),$}},{key:"shadingFill",value:function(E){if(this.contentVisible){var A=this.ctx;this.save();var $=this._getPattern(E);A.fillStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.SHADING);var q=A.mozCurrentTransformInverse;if(q){var Z=A.canvas,le=Z.width,fe=Z.height,se=r.Util.applyTransform([0,0],q),ke=r.Util.applyTransform([0,fe],q),ge=r.Util.applyTransform([le,0],q),R=r.Util.applyTransform([le,fe],q),K=Math.min(se[0],ke[0],ge[0],R[0]),F=Math.min(se[1],ke[1],ge[1],R[1]),W=Math.max(se[0],ke[0],ge[0],R[0]),B=Math.max(se[1],ke[1],ge[1],R[1]);this.ctx.fillRect(K,F,W-K,B-F)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(E,A){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&6===E.length&&this.transform.apply(this,E),this.baseTransform=this.ctx.mozCurrentTransform,A)&&(this.ctx.rect(A[0],A[1],A[2]-A[0],A[3]-A[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,A),this.clip(),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(E){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var A=this.ctx;E.isolated||(0,r.info)("TODO: Support non-isolated groups."),E.knockout&&(0,r.warn)("Knockout groups not supported.");var $=A.mozCurrentTransform;if(E.matrix&&A.transform.apply(A,E.matrix),!E.bbox)throw new Error("Bounding box is required.");var q=r.Util.getAxialAlignedBoundingBox(E.bbox,A.mozCurrentTransform);q=r.Util.intersect(q,[0,0,A.canvas.width,A.canvas.height])||[0,0,0,0];var le=Math.floor(q[0]),fe=Math.floor(q[1]),se=Math.max(Math.ceil(q[2])-le,1),ke=Math.max(Math.ceil(q[3])-fe,1),ge=1,R=1;se>l&&(ge=se/l,se=l),ke>l&&(R=ke/l,ke=l),this.current.startNewPathAndClipBox([0,0,se,ke]);var K="groupAt"+this.groupLevel;E.smask&&(K+="_smask_"+this.smaskCounter++%2);var F=this.cachedCanvases.getCanvas(K,se,ke,!0),W=F.context;W.scale(1/ge,1/R),W.translate(-le,-fe),W.transform.apply(W,$),E.smask?this.smaskStack.push({canvas:F.canvas,context:W,offsetX:le,offsetY:fe,scaleX:ge,scaleY:R,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(le,fe),A.scale(ge,R),A.save()),U(A,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}}},{key:"endGroup",value:function(E){if(this.contentVisible){this.groupLevel--;var A=this.ctx,$=this.groupStack.pop();if(this.ctx=$,this.ctx.imageSmoothingEnabled=!1,E.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var q=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,q);var Z=r.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],q);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(Z)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(E,A,$,q,Z){if(this.save(),Array.isArray(A)&&4===A.length){var le=A[2]-A[0],fe=A[3]-A[1];if(Z&&this.annotationCanvasMap){($=$.slice())[4]-=A[0],$[5]-=A[1],(A=A.slice())[0]=A[1]=0,A[2]=le,A[3]=fe;var ke=s(r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),ge=ke[0],R=ke[1],K=this.viewportScale,F=Math.ceil(le*this.outputScaleX*K),W=Math.ceil(fe*this.outputScaleY*K);this.annotationCanvas=this.canvasFactory.create(F,W);var B=this.annotationCanvas,V=B.canvas,z=B.context,ce="var(--zoom-factor) * ".concat(w.PixelsPerInch.PDF_TO_CSS_UNITS);V.style.width="calc(".concat(le,"px * ").concat(ce,")"),V.style.height="calc(".concat(fe,"px * ").concat(ce,")"),this.annotationCanvasMap.set(E,V),this.annotationCanvas.savedCtx=this.ctx,this.ctx=z,this.ctx.setTransform(ge,0,0,-R,0,fe*R),oe(this.ctx),ie(this.ctx,this.foregroundColor)}else ie(this.ctx,this.foregroundColor),this.ctx.rect(A[0],A[1],le,fe),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,$),this.transform.apply(this,q)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(E){if(this.contentVisible){var A=E.count;(E=this.getObject(E.data,E)).count=A;var $=this.ctx,q=this.processingType3;if(q&&(void 0===q.compiled&&(q.compiled=function ee(j){var ae=j.width,E=j.height;if(ae>1e3||E>1e3)return null;var le,fe,se,F,$=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),q=ae+1,Z=new Uint8Array(q*(E+1)),ke=ae+7&-8,ge=new Uint8Array(ke*E),R=0,K=_(j.data);try{for(K.s();!(F=K.n()).done;)for(var W=F.value,B=128;B>0;)ge[R++]=W&B?0:255,B>>=1}catch(Ge){K.e(Ge)}finally{K.f()}var V=0;for(0!==ge[R=0]&&(Z[0]=1,++V),fe=1;fe<ae;fe++)ge[R]!==ge[R+1]&&(Z[fe]=ge[R]?2:1,++V),R++;for(0!==ge[R]&&(Z[fe]=2,++V),le=1;le<E;le++){se=le*q,ge[(R=le*ke)-ke]!==ge[R]&&(Z[se]=ge[R]?1:8,++V);var z=(ge[R]?4:0)+(ge[R-ke]?8:0);for(fe=1;fe<ae;fe++)$[z=(z>>2)+(ge[R+1]?4:0)+(ge[R-ke+1]?8:0)]&&(Z[se+fe]=$[z],++V),R++;if(ge[R-ke]!==ge[R]&&(Z[se+fe]=ge[R]?2:4,++V),V>1e3)return null}for(se=le*q,0!==ge[R=ke*(E-1)]&&(Z[se]=8,++V),fe=1;fe<ae;fe++)ge[R]!==ge[R+1]&&(Z[se+fe]=ge[R]?4:8,++V),R++;if(0!==ge[R]&&(Z[se+fe]=4,++V),V>1e3)return null;var Se,we,Ce,ce=new Int32Array([0,q,-1,0,-q,0,0,0,1]);for(g.isNodeJS?we=[]:Se=new Path2D,le=0;V&&le<=E;le++){for(var Fe=le*q,We=Fe+ae;Fe<We&&!Z[Fe];)Fe++;if(Fe!==We){Se?Se.moveTo(Fe%q,le):Ce=[Fe%q,le];var De=Fe,Be=Z[Fe];do{var Xe=ce[Be];do{Fe+=Xe}while(!Z[Fe]);var Le=Z[Fe];5!==Le&&10!==Le?(Be=Le,Z[Fe]=0):Z[Fe]&=(Be=Le&51*Be>>4)>>2|Be<<2,Se?Se.lineTo(Fe%q,Fe/q|0):Ce.push(Fe%q,Fe/q|0),Z[Fe]||--V}while(De!==Fe);Se||we.push(Ce),--le}}return ge=null,Z=null,function(Ve){if(Ve.save(),Ve.scale(1/ae,-1/E),Ve.translate(0,-E),Se)Ve.fill(Se);else{Ve.beginPath();var Ye,Ne=_(we);try{for(Ne.s();!(Ye=Ne.n()).done;){var Je=Ye.value;Ve.moveTo(Je[0],Je[1]);for(var Ze=2,et=Je.length;Ze<et;Ze+=2)Ve.lineTo(Je[Ze],Je[Ze+1])}}catch(de){Ne.e(de)}finally{Ne.f()}Ve.fill()}Ve.beginPath(),Ve.restore()}}(E)),q.compiled))return void q.compiled($);var Z=this._createMaskCanvas(E),le=Z.canvas;$.save(),$.setTransform(1,0,0,1,0,0),$.drawImage(le,Z.offsetX,Z.offsetY),$.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(E,A){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,Z=arguments.length>4?arguments[4]:void 0,le=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){E=this.getObject(E.data,E);var fe=this.ctx;fe.save();var se=fe.mozCurrentTransform;fe.transform(A,$,q,Z,0,0);var ke=this._createMaskCanvas(E);fe.setTransform(1,0,0,1,0,0);for(var ge=0,R=le.length;ge<R;ge+=2){var K=r.Util.transform(se,[A,$,q,Z,le[ge],le[ge+1]]),F=r.Util.applyTransform([0,0],K),W=s(F,2),B=W[0],V=W[1];fe.drawImage(ke.canvas,B,V)}fe.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(E){if(this.contentVisible){for(var A=this.ctx,$=this.current.fillColor,q=this.current.patternFill,Z=0,le=E.length;Z<le;Z++){var fe=E[Z],se=fe.width,ke=fe.height,ge=this.cachedCanvases.getCanvas("maskCanvas",se,ke,!1),R=ge.context;R.save(),x(R,fe),R.globalCompositeOperation="source-in",R.fillStyle=q?$.getPattern(R,this,A.mozCurrentTransformInverse,o.PathType.FILL):$,R.fillRect(0,0,se,ke),R.restore(),A.save(),A.transform.apply(A,fe.transform),A.scale(1,-1),re(A,ge.canvas,0,0,se,ke,0,-1,1,1),A.restore()}this.compose()}}},{key:"paintImageXObject",value:function(E){if(this.contentVisible){var A=this.getObject(E);if(!A)return void(0,r.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(A)}}},{key:"paintImageXObjectRepeat",value:function(E,A,$,q){if(this.contentVisible){var Z=this.getObject(E);if(!Z)return void(0,r.warn)("Dependent image isn't ready yet");for(var le=Z.width,fe=Z.height,se=[],ke=0,ge=q.length;ke<ge;ke+=2)se.push({transform:[A,0,0,$,q[ke],q[ke+1]],x:0,y:0,w:le,h:fe});this.paintInlineImageXObjectGroup(Z,se)}}},{key:"paintInlineImageXObject",value:function(E){if(this.contentVisible){var Z,A=E.width,$=E.height,q=this.ctx;if(this.save(),q.scale(1/A,-1/$),"function"==typeof HTMLElement&&E instanceof HTMLElement||!E.data)Z=E;else{var le=this.cachedCanvases.getCanvas("inlineImage",A,$,!1);p(le.context,E,this.current.transferMaps),Z=le.canvas}var se=this._scaleImage(Z,q.mozCurrentTransformInverse);q.imageSmoothingEnabled=he(q.mozCurrentTransform,E.interpolate);var ge=s(re(q,se.img,0,0,se.paintWidth,se.paintHeight,0,-$,A,$),2),R=ge[0],K=ge[1];if(this.imageLayer){var F=this.getCanvasPosition(0,-$);this.imageLayer.appendImage({imgData:E,left:F[0],top:F[1],width:R,height:K})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(E,A){if(this.contentVisible){var $=this.ctx,q=E.width,Z=E.height,le=this.cachedCanvases.getCanvas("inlineImage",q,Z,!1);p(le.context,E,this.current.transferMaps);for(var se=0,ke=A.length;se<ke;se++){var ge=A[se];if($.save(),$.transform.apply($,ge.transform),$.scale(1,-1),re($,le.canvas,ge.x,ge.y,ge.w,ge.h,0,-1,1,1),this.imageLayer){var R=this.getCanvasPosition(ge.x,ge.y);this.imageLayer.appendImage({imgData:E,left:R[0],top:R[1],width:q,height:Z})}$.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(E){}},{key:"markPointProps",value:function(E,A){}},{key:"beginMarkedContent",value:function(E){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(E,A){this.markedContentStack.push("OC"===E?{visible:this.optionalContentConfig.isVisible(A)}:{visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(E){var A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(E);var $=this.ctx;this.pendingClip&&(A||(this.pendingClip===Re?$.clip("evenodd"):$.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),$.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var E=this.ctx.mozCurrentTransform;if(0===E[1]&&0===E[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(E[0]),Math.abs(E[3]));else{var A=Math.abs(E[0]*E[3]-E[2]*E[1]),$=Math.hypot(E[0],E[2]),q=Math.hypot(E[1],E[3]);this._cachedGetSinglePixelWidth=Math.max($,q)/A}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var $,q,E=this.current.lineWidth,A=this.ctx.mozCurrentTransform;if(0===A[1]&&0===A[2]){var Z=Math.abs(A[0]),le=Math.abs(A[3]);if(0===E)$=1/Z,q=1/le;else{var fe=Z*E,se=le*E;$=fe<1?1/fe:1,q=se<1?1/se:1}}else{var ke=Math.abs(A[0]*A[3]-A[2]*A[1]),ge=Math.hypot(A[0],A[1]),R=Math.hypot(A[2],A[3]);if(0===E)$=R/ke,q=ge/ke;else{var K=E*ke;$=R>K?R/K:1,q=ge>K?ge/K:1}}this._cachedScaleForStroking=[$,q]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(E){var A=this.ctx,$=this.current.lineWidth,Z=s(this.getScaleForStroking(),2),le=Z[0],fe=Z[1];if(A.lineWidth=$||1,1!==le||1!==fe){var se,ke,ge;E&&(se=A.mozCurrentTransform.slice(),ke=A.getLineDash().slice(),ge=A.lineDashOffset),A.scale(le,fe);var R=Math.max(le,fe);A.setLineDash(A.getLineDash().map(function(K){return K/R})),A.lineDashOffset/=R,A.stroke(),E&&(A.setTransform.apply(A,function L(j){return function O(j){if(Array.isArray(j))return h(j)}(j)||function X(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||d(j)||function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(se)),A.setLineDash(ke),A.lineDashOffset=ge)}else A.stroke()}},{key:"getCanvasPosition",value:function(E,A){var $=this.ctx.mozCurrentTransform;return[$[0]*E+$[2]*A+$[4],$[1]*E+$[3]*A+$[5]]}},{key:"isContentVisible",value:function(){for(var E=this.markedContentStack.length-1;E>=0;E--)if(!this.markedContentStack[E].visible)return!1;return!0}}]),j}();for(var Me in i.CanvasGraphics=Ie,r.OPS)void 0!==Ie.prototype[Me]&&(Ie.prototype[r.OPS[Me]]=Ie.prototype[Me])},(y,i,t)=>{"use strict";function r(H){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(H)}Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=function c(H){switch(H[0]){case"RadialAxial":return new v(H);case"Mesh":return new l(H);case"Dummy":return new S}throw new Error("Unknown IR type: ".concat(H[0]))};var o=t(1),u=t(3);function g(H,te){var J=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!J){if(Array.isArray(H)||(J=function w(H,te){if(H){if("string"==typeof H)return L(H,te);var J=Object.prototype.toString.call(H).slice(8,-1);if("Object"===J&&H.constructor&&(J=H.constructor.name),"Map"===J||"Set"===J)return Array.from(H);if("Arguments"===J||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return L(H,te)}}(H))||te&&H&&"number"==typeof H.length){J&&(H=J);var oe=0,Y=function(){};return{s:Y,n:function(){return oe>=H.length?{done:!0}:{done:!1,value:H[oe++]}},e:function(x){throw x},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,re=!0,ee=!1;return{s:function(){J=J.call(H)},n:function(){var x=J.next();return re=x.done,x},e:function(x){ee=!0,f=x},f:function(){try{!re&&null!=J.return&&J.return()}finally{if(ee)throw f}}}}function L(H,te){(null==te||te>H.length)&&(te=H.length);for(var J=0,oe=new Array(te);J<te;J++)oe[J]=H[J];return oe}function N(H,te){if("function"!=typeof te&&null!==te)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(te&&te.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),te&&X(H,te)}function X(H,te){return(X=Object.setPrototypeOf||function(oe,Y){return oe.__proto__=Y,oe})(H,te)}function O(H){var te=function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,oe=I(H);if(te){var re=I(this).constructor;Y=Reflect.construct(oe,arguments,re)}else Y=oe.apply(this,arguments);return k(this,Y)}}function k(H,te){if(te&&("object"===r(te)||"function"==typeof te))return te;if(void 0!==te)throw new TypeError("Derived constructors may only return object or undefined");return function _(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(H)}function I(H){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)})(H)}function D(H,te){if(!(H instanceof te))throw new TypeError("Cannot call a class as a function")}function s(H,te){for(var J=0;J<te.length;J++){var oe=te[J];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(H,oe.key,oe)}}function a(H,te,J){return te&&s(H.prototype,te),J&&s(H,J),Object.defineProperty(H,"prototype",{writable:!1}),H}var d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function h(H,te){if(te&&!u.isNodeJS){var J=te[2]-te[0],oe=te[3]-te[1],Y=new Path2D;Y.rect(te[0],te[1],J,oe),H.clip(Y)}}i.PathType=d;var T=function(){function H(){D(this,H),this.constructor===H&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}return a(H,[{key:"getPattern",value:function(){(0,o.unreachable)("Abstract method `getPattern` called.")}}]),H}(),v=function(H){N(J,H);var te=O(J);function J(oe){var Y;return D(this,J),(Y=te.call(this))._type=oe[1],Y._bbox=oe[2],Y._colorStops=oe[3],Y._p0=oe[4],Y._p1=oe[5],Y._r0=oe[6],Y._r1=oe[7],Y.matrix=null,Y}return a(J,[{key:"_createGradient",value:function(Y){var re;"axial"===this._type?re=Y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(re=Y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var f,ee=g(this._colorStops);try{for(ee.s();!(f=ee.n()).done;){var p=f.value;re.addColorStop(p[0],p[1])}}catch(x){ee.e(x)}finally{ee.f()}return re}},{key:"getPattern",value:function(Y,re,ee,f){var p;if(f===d.STROKE||f===d.FILL){var x=re.current.getClippedPathBoundingBox(f,Y.mozCurrentTransform)||[0,0,0,0],U=Math.ceil(x[2]-x[0])||1,ie=Math.ceil(x[3]-x[1])||1,ye=re.cachedCanvases.getCanvas("pattern",U,ie,!0),ne=ye.context;ne.clearRect(0,0,ne.canvas.width,ne.canvas.height),ne.beginPath(),ne.rect(0,0,ne.canvas.width,ne.canvas.height),ne.translate(-x[0],-x[1]),ee=o.Util.transform(ee,[1,0,0,1,x[0],x[1]]),ne.transform.apply(ne,re.baseTransform),this.matrix&&ne.transform.apply(ne,this.matrix),h(ne,this._bbox),ne.fillStyle=this._createGradient(ne),ne.fill(),p=Y.createPattern(ye.canvas,"no-repeat");var Ee=new DOMMatrix(ee);try{p.setTransform(Ee)}catch(pe){(0,o.warn)('RadialAxialShadingPattern.getPattern: "'.concat(pe?.message,'".'))}}else h(Y,this._bbox),p=this._createGradient(Y);return p}}]),J}(T);function C(H,te,J,oe,Y,re,ee,f){var ye,p=te.coords,x=te.colors,U=H.data,ie=4*H.width;p[J+1]>p[oe+1]&&(ye=J,J=oe,oe=ye,ye=re,re=ee,ee=ye),p[oe+1]>p[Y+1]&&(ye=oe,oe=Y,Y=ye,ye=ee,ee=f,f=ye),p[J+1]>p[oe+1]&&(ye=J,J=oe,oe=ye,ye=re,re=ee,ee=ye);var ne=(p[J]+te.offsetX)*te.scaleX,Ee=(p[J+1]+te.offsetY)*te.scaleY,pe=(p[oe]+te.offsetX)*te.scaleX,_e=(p[oe+1]+te.offsetY)*te.scaleY,he=(p[Y]+te.offsetX)*te.scaleX,Ae=(p[Y+1]+te.offsetY)*te.scaleY;if(!(Ee>=Ae))for(var Z,le,fe,se,ke,ge,R,K,Pe=x[re],Oe=x[re+1],Re=x[re+2],Ie=x[ee],Me=x[ee+1],j=x[ee+2],ae=x[f],E=x[f+1],A=x[f+2],$=Math.round(Ee),q=Math.round(Ae),F=$;F<=q;F++){if(F<_e){var W;Z=ne-(ne-pe)*(W=F<Ee?0:(Ee-F)/(Ee-_e)),le=Pe-(Pe-Ie)*W,fe=Oe-(Oe-Me)*W,se=Re-(Re-j)*W}else{var B;Z=pe-(pe-he)*(B=F>Ae?1:_e===Ae?0:(_e-F)/(_e-Ae)),le=Ie-(Ie-ae)*B,fe=Me-(Me-E)*B,se=j-(j-A)*B}var V=void 0;ke=ne-(ne-he)*(V=F<Ee?0:F>Ae?1:(Ee-F)/(Ee-Ae)),ge=Pe-(Pe-ae)*V,R=Oe-(Oe-E)*V,K=Re-(Re-A)*V;for(var z=Math.round(Math.min(Z,ke)),ce=Math.round(Math.max(Z,ke)),Se=ie*F+4*z,we=z;we<=ce;we++)(V=(Z-we)/(Z-ke))<0?V=0:V>1&&(V=1),U[Se++]=le-(le-ge)*V|0,U[Se++]=fe-(fe-R)*V|0,U[Se++]=se-(se-K)*V|0,U[Se++]=255}}function m(H,te,J){var re,ee,oe=te.coords,Y=te.colors;switch(te.type){case"lattice":var f=te.verticesPerRow,p=Math.floor(oe.length/f)-1,x=f-1;for(re=0;re<p;re++)for(var U=re*f,ie=0;ie<x;ie++,U++)C(H,J,oe[U],oe[U+1],oe[U+f],Y[U],Y[U+1],Y[U+f]),C(H,J,oe[U+f+1],oe[U+1],oe[U+f],Y[U+f+1],Y[U+1],Y[U+f]);break;case"triangles":for(re=0,ee=oe.length;re<ee;re+=3)C(H,J,oe[re],oe[re+1],oe[re+2],Y[re],Y[re+1],Y[re+2]);break;default:throw new Error("illegal figure")}}var l=function(H){N(J,H);var te=O(J);function J(oe){var Y;return D(this,J),(Y=te.call(this))._coords=oe[2],Y._colors=oe[3],Y._figures=oe[4],Y._bounds=oe[5],Y._bbox=oe[7],Y._background=oe[8],Y.matrix=null,Y}return a(J,[{key:"_createMeshCanvas",value:function(Y,re,ee){var U=Math.floor(this._bounds[0]),ie=Math.floor(this._bounds[1]),ye=Math.ceil(this._bounds[2])-U,ne=Math.ceil(this._bounds[3])-ie,Ee=Math.min(Math.ceil(Math.abs(ye*Y[0]*1.1)),3e3),pe=Math.min(Math.ceil(Math.abs(ne*Y[1]*1.1)),3e3),_e=ye/Ee,he=ne/pe,Ae={coords:this._coords,colors:this._colors,offsetX:-U,offsetY:-ie,scaleX:1/_e,scaleY:1/he},Re=ee.getCanvas("mesh",Ee+4,pe+4,!1),Ie=Re.context,Me=Ie.createImageData(Ee,pe);if(re)for(var j=Me.data,ae=0,E=j.length;ae<E;ae+=4)j[ae]=re[0],j[ae+1]=re[1],j[ae+2]=re[2],j[ae+3]=255;var $,A=g(this._figures);try{for(A.s();!($=A.n()).done;)m(Me,$.value,Ae)}catch(le){A.e(le)}finally{A.f()}return Ie.putImageData(Me,2,2),{canvas:Re.canvas,offsetX:U-2*_e,offsetY:ie-2*he,scaleX:_e,scaleY:he}}},{key:"getPattern",value:function(Y,re,ee,f){var p;if(h(Y,this._bbox),f===d.SHADING)p=o.Util.singularValueDecompose2dScale(Y.mozCurrentTransform);else if(p=o.Util.singularValueDecompose2dScale(re.baseTransform),this.matrix){var x=o.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*x[0],p[1]*x[1]]}var U=this._createMeshCanvas(p,f===d.SHADING?null:this._background,re.cachedCanvases);return f!==d.SHADING&&(Y.setTransform.apply(Y,re.baseTransform),this.matrix&&Y.transform.apply(Y,this.matrix)),Y.translate(U.offsetX,U.offsetY),Y.scale(U.scaleX,U.scaleY),Y.createPattern(U.canvas,"no-repeat")}}]),J}(T),S=function(H){N(J,H);var te=O(J);function J(){return D(this,J),te.apply(this,arguments)}return a(J,[{key:"getPattern",value:function(){return"hotpink"}}]),J}(T);i.TilingPattern=function(){function H(te,J,oe,Y,re){D(this,H),this.operatorList=te[2],this.matrix=te[3]||[1,0,0,1,0,0],this.bbox=te[4],this.xstep=te[5],this.ystep=te[6],this.paintType=te[7],this.tilingType=te[8],this.color=J,this.ctx=oe,this.canvasGraphicsFactory=Y,this.baseTransform=re}return a(H,[{key:"createPatternCanvas",value:function(J){var oe=this.operatorList,Y=this.bbox,re=this.xstep,ee=this.ystep,f=this.paintType,x=this.color,U=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+this.tilingType);var ie=Y[0],ye=Y[1],ne=Y[2],Ee=Y[3],pe=o.Util.singularValueDecompose2dScale(this.matrix),_e=o.Util.singularValueDecompose2dScale(this.baseTransform),he=[pe[0]*_e[0],pe[1]*_e[1]],Ae=this.getSizeAndScale(re,this.ctx.canvas.width,he[0]),Pe=this.getSizeAndScale(ee,this.ctx.canvas.height,he[1]),Oe=J.cachedCanvases.getCanvas("pattern",Ae.size,Pe.size,!0),Re=Oe.context,Ie=U.createCanvasGraphics(Re);Ie.groupLevel=J.groupLevel,this.setFillAndStrokeStyleToContext(Ie,f,x);var Me=ie,j=ye,ae=ne,E=Ee;return ie<0&&(Me=0,ae+=Math.abs(ie)),ye<0&&(j=0,E+=Math.abs(ye)),Re.translate(-Ae.scale*Me,-Pe.scale*j),Ie.transform(Ae.scale,0,0,Pe.scale,0,0),Re.save(),this.clipBbox(Ie,Me,j,ae,E),Ie.baseTransform=Ie.ctx.mozCurrentTransform.slice(),Ie.executeOperatorList(oe),Ie.endDrawing(),{canvas:Oe.canvas,scaleX:Ae.scale,scaleY:Pe.scale,offsetX:Me,offsetY:j}}},{key:"getSizeAndScale",value:function(J,oe,Y){J=Math.abs(J);var re=Math.max(H.MAX_PATTERN_SIZE,oe),ee=Math.ceil(J*Y);return ee>=re?ee=re:Y=ee/J,{scale:Y,size:ee}}},{key:"clipBbox",value:function(J,oe,Y,re,ee){J.ctx.rect(oe,Y,re-oe,ee-Y),J.current.updateRectMinMax(J.ctx.mozCurrentTransform,[oe,Y,re,ee]),J.clip(),J.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(J,oe,Y){var re=J.ctx,ee=J.current;switch(oe){case 1:var f=this.ctx;re.fillStyle=f.fillStyle,re.strokeStyle=f.strokeStyle,ee.fillColor=f.fillStyle,ee.strokeColor=f.strokeStyle;break;case 2:var p=o.Util.makeHexColor(Y[0],Y[1],Y[2]);re.fillStyle=p,re.strokeStyle=p,ee.fillColor=p,ee.strokeColor=p;break;default:throw new o.FormatError("Unsupported paint type: ".concat(oe))}}},{key:"getPattern",value:function(J,oe,Y,re){var ee=Y;re!==d.SHADING&&(ee=o.Util.transform(ee,oe.baseTransform),this.matrix&&(ee=o.Util.transform(ee,this.matrix)));var f=this.createPatternCanvas(oe),p=new DOMMatrix(ee);p=(p=p.translate(f.offsetX,f.offsetY)).scale(1/f.scaleX,1/f.scaleY);var x=J.createPattern(f.canvas,"repeat");try{x.setTransform(p)}catch(U){(0,o.warn)('TilingPattern.getPattern: "'.concat(U?.message,'".'))}return x}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),H}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=function X(O){var k=O.src,_=O.srcPos,M=void 0===_?0:_,I=O.dest,D=O.destPos,s=void 0===D?0:D,a=O.width,d=O.height,h=O.inverseDecode,v=r.FeatureTest.isLittleEndian?4278190080:255,m=function o(O,k){return function N(O){if(Array.isArray(O))return O}(O)||function L(O,k){var _=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=_){var s,a,M=[],I=!0,D=!1;try{for(_=_.call(O);!(I=(s=_.next()).done)&&(M.push(s.value),!k||M.length!==k);I=!0);}catch(d){D=!0,a=d}finally{try{!I&&null!=_.return&&_.return()}finally{if(D)throw a}}return M}}(O,k)||function g(O,k){if(O){if("string"==typeof O)return w(O,k);var _=Object.prototype.toString.call(O).slice(8,-1);if("Object"===_&&O.constructor&&(_=O.constructor.name),"Map"===_||"Set"===_)return Array.from(O);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return w(O,k)}}(O,k)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(void 0!==h&&h?[0,v]:[v,0],2),l=m[0],S=m[1],c=a>>3,P=7&a,G=k.length;I=new Uint32Array(I.buffer);for(var H=0;H<d;H++){for(var te=M+c;M<te;M++){var J=M<G?k[M]:255;I[s++]=128&J?S:l,I[s++]=64&J?S:l,I[s++]=32&J?S:l,I[s++]=16&J?S:l,I[s++]=8&J?S:l,I[s++]=4&J?S:l,I[s++]=2&J?S:l,I[s++]=1&J?S:l}if(0!==P)for(var oe=M<G?k[M++]:255,Y=0;Y<P;Y++)I[s++]=oe&1<<7-Y?S:l}return{srcPos:M,destPos:s}};var r=t(1);function w(O,k){(null==k||k>O.length)&&(k=O.length);for(var _=0,M=new Array(k);_<k;_++)M[_]=O[_];return M}},(y,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;var t=Object.create(null);i.GlobalWorkerOptions=t,t.workerPort=void 0===t.workerPort?null:t.workerPort,t.workerSrc=void 0===t.workerSrc?"":t.workerSrc},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var r=function u(D){return D&&D.__esModule?D:{default:D}}(t(156)),o=t(1);function g(D,s,a,d,h,T,v){try{var C=D[T](v),m=C.value}catch(l){return void a(l)}C.done?s(m):Promise.resolve(m).then(d,h)}function N(D,s){for(var a=0;a<s.length;a++){var d=s[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(D,d.key,d)}}function O(D){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(D)}function M(D){switch(D instanceof Error||"object"===O(D)&&null!==D||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new o.AbortException(D.message);case"MissingPDFException":return new o.MissingPDFException(D.message);case"PasswordException":return new o.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new o.UnknownErrorException(D.message,D.details);default:return new o.UnknownErrorException(D.message,D.toString())}}var I=function(){function D(s,a,d){var h=this;(function L(D,s){if(!(D instanceof s))throw new TypeError("Cannot call a class as a function")})(this,D),this.sourceName=s,this.targetName=a,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(T){var v=T.data;if(v.targetName===h.sourceName){if(v.stream)return void h._processStreamMessage(v);if(v.callback){var C=v.callbackId,m=h.callbackCapabilities[C];if(!m)throw new Error("Cannot resolve callback ".concat(C));if(delete h.callbackCapabilities[C],1===v.callback)m.resolve(v.data);else{if(2!==v.callback)throw new Error("Unexpected callback case");m.reject(M(v.reason))}return}var l=h.actionHandler[v.action];if(!l)throw new Error("Unknown action from worker: ".concat(v.action));if(v.callbackId){var S=h.sourceName,c=v.sourceName;return void new Promise(function(P){P(l(v.data))}).then(function(P){d.postMessage({sourceName:S,targetName:c,callback:1,callbackId:v.callbackId,data:P})},function(P){d.postMessage({sourceName:S,targetName:c,callback:2,callbackId:v.callbackId,reason:M(P)})})}if(v.streamId)return void h._createStreamSink(v);l(v.data)}},d.addEventListener("message",this._onComObjOnMessage)}return function X(D,s,a){s&&N(D.prototype,s),a&&N(D,a),Object.defineProperty(D,"prototype",{writable:!1})}(D,[{key:"on",value:function(a,d){var h=this.actionHandler;if(h[a])throw new Error('There is already an actionName called "'.concat(a,'"'));h[a]=d}},{key:"send",value:function(a,d,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:d},h)}},{key:"sendWithPromise",value:function(a,d,h){var T=this.callbackId++,v=(0,o.createPromiseCapability)();this.callbackCapabilities[T]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:T,data:d},h)}catch(C){v.reject(C)}return v.promise}},{key:"sendWithStream",value:function(a,d,h,T){var v=this,C=this.streamId++,m=this.sourceName,l=this.targetName,S=this.comObj;return new ReadableStream({start:function(P){var G=(0,o.createPromiseCapability)();return v.streamControllers[C]={controller:P,startCall:G,pullCall:null,cancelCall:null,isClosed:!1},S.postMessage({sourceName:m,targetName:l,action:a,streamId:C,data:d,desiredSize:P.desiredSize},T),G.promise},pull:function(P){var G=(0,o.createPromiseCapability)();return v.streamControllers[C].pullCall=G,S.postMessage({sourceName:m,targetName:l,stream:6,streamId:C,desiredSize:P.desiredSize}),G.promise},cancel:function(P){(0,o.assert)(P instanceof Error,"cancel must have a valid reason");var G=(0,o.createPromiseCapability)();return v.streamControllers[C].cancelCall=G,v.streamControllers[C].isClosed=!0,S.postMessage({sourceName:m,targetName:l,stream:1,streamId:C,reason:M(P)}),G.promise}},h)}},{key:"_createStreamSink",value:function(a){var d=a.streamId,h=this.sourceName,T=a.sourceName,v=this.comObj,C=this,m=this.actionHandler[a.action],l={enqueue:function(c){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,G=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var H=this.desiredSize;this.desiredSize-=P,H>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),v.postMessage({sourceName:h,targetName:T,stream:4,streamId:d,chunk:c},G)}},close:function(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:T,stream:3,streamId:d}),delete C.streamSinks[d])},error:function(c){(0,o.assert)(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:T,stream:5,streamId:d,reason:M(c)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[d]=l,new Promise(function(S){S(m(a.data,l))}).then(function(){v.postMessage({sourceName:h,targetName:T,stream:8,streamId:d,success:!0})},function(S){v.postMessage({sourceName:h,targetName:T,stream:8,streamId:d,reason:M(S)})})}},{key:"_processStreamMessage",value:function(a){var d=a.streamId,h=this.sourceName,T=a.sourceName,v=this.comObj,C=this.streamControllers[d],m=this.streamSinks[d];switch(a.stream){case 8:a.success?C.startCall.resolve():C.startCall.reject(M(a.reason));break;case 7:a.success?C.pullCall.resolve():C.pullCall.reject(M(a.reason));break;case 6:if(!m){v.postMessage({sourceName:h,targetName:T,stream:7,streamId:d,success:!0});break}m.desiredSize<=0&&a.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=a.desiredSize,new Promise(function(l){l(m.onPull&&m.onPull())}).then(function(){v.postMessage({sourceName:h,targetName:T,stream:7,streamId:d,success:!0})},function(l){v.postMessage({sourceName:h,targetName:T,stream:7,streamId:d,reason:M(l)})});break;case 4:if((0,o.assert)(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(a.chunk);break;case 3:if((0,o.assert)(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),this._deleteStreamController(C,d);break;case 5:(0,o.assert)(C,"error should have stream controller"),C.controller.error(M(a.reason)),this._deleteStreamController(C,d);break;case 2:a.success?C.cancelCall.resolve():C.cancelCall.reject(M(a.reason)),this._deleteStreamController(C,d);break;case 1:if(!m)break;new Promise(function(l){l(m.onCancel&&m.onCancel(M(a.reason)))}).then(function(){v.postMessage({sourceName:h,targetName:T,stream:2,streamId:d,success:!0})},function(l){v.postMessage({sourceName:h,targetName:T,stream:2,streamId:d,reason:M(l)})}),m.sinkCapability.reject(M(a.reason)),m.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(s=function w(D){return function(){var s=this,a=arguments;return new Promise(function(d,h){var T=D.apply(s,a);function v(m){g(T,d,h,v,C,"next",m)}function C(m){g(T,d,h,v,C,"throw",m)}v(void 0)})}}(r.default.mark(function d(h,T){return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]);case 2:delete this.streamControllers[T];case 3:case"end":return C.stop()}},d,this)})),function a(d,h){return s.apply(this,arguments)})},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),D;var s}();i.MessageHandler=I},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var r=t(1);function u(s,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}function w(s,a,d){(function L(s,a){if(a.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")})(s,a),a.set(s,d)}function N(s,a){return function X(s,a){return a.get?a.get.call(s):a.value}(s,k(s,a,"get"))}function O(s,a,d){return function _(s,a,d){if(a.set)a.set.call(s,d);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=d}}(s,k(s,a,"set"),d),d}function k(s,a,d){if(!a.has(s))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(s)}var M=new WeakMap,I=new WeakMap;i.Metadata=function(){function s(a){var d=a.parsedData,h=a.rawData;(function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),w(this,M,{writable:!0,value:void 0}),w(this,I,{writable:!0,value:void 0}),O(this,M,d),O(this,I,h)}return function g(s,a,d){a&&u(s.prototype,a),d&&u(s,d),Object.defineProperty(s,"prototype",{writable:!1})}(s,[{key:"getRaw",value:function(){return N(this,I)}},{key:"get",value:function(d){var h;return null!==(h=N(this,M).get(d))&&void 0!==h?h:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(N(this,M))}},{key:"has",value:function(d){return N(this,M).has(d)}}]),s}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var r=t(1);function o(k,_){var M=typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!M){if(Array.isArray(k)||(M=function u(k,_){if(k){if("string"==typeof k)return g(k,_);var M=Object.prototype.toString.call(k).slice(8,-1);if("Object"===M&&k.constructor&&(M=k.constructor.name),"Map"===M||"Set"===M)return Array.from(k);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return g(k,_)}}(k))||_&&k&&"number"==typeof k.length){M&&(k=M);var I=0,D=function(){};return{s:D,n:function(){return I>=k.length?{done:!0}:{done:!1,value:k[I++]}},e:function(T){throw T},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,s=!0,a=!1;return{s:function(){M=M.call(k)},n:function(){var T=M.next();return s=T.done,T},e:function(T){a=!0,d=T},f:function(){try{!s&&null!=M.return&&M.return()}finally{if(a)throw d}}}}function g(k,_){(null==_||_>k.length)&&(_=k.length);for(var M=0,I=new Array(_);M<_;M++)I[M]=k[M];return I}function w(k,_){for(var M=0;M<_.length;M++){var I=_[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}function L(k,_,M){return _&&w(k.prototype,_),M&&w(k,M),Object.defineProperty(k,"prototype",{writable:!1}),k}function N(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}var X=L(function k(_,M){N(this,k),this.visible=!0,this.name=_,this.intent=M}),O=function(){function k(_){if(N(this,k),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==_){this.name=_.name,this.creator=_.creator,this._order=_.order;var I,M=o(_.groups);try{for(M.s();!(I=M.n()).done;){var D=I.value;this._groups.set(D.id,new X(D.name,D.intent))}}catch(S){M.e(S)}finally{M.f()}if("OFF"===_.baseState){var a,s=o(this._groups);try{for(s.s();!(a=s.n()).done;)a.value.visible=!1}catch(S){s.e(S)}finally{s.f()}}var T,h=o(_.on);try{for(h.s();!(T=h.n()).done;)this._groups.get(T.value).visible=!0}catch(S){h.e(S)}finally{h.f()}var m,C=o(_.off);try{for(C.s();!(m=C.n()).done;)this._groups.get(m.value).visible=!1}catch(S){C.e(S)}finally{C.f()}}}return L(k,[{key:"_evaluateVisibilityExpression",value:function(M){var I=M.length;if(I<2)return!0;for(var D=M[0],s=1;s<I;s++){var a=M[s],d=void 0;if(Array.isArray(a))d=this._evaluateVisibilityExpression(a);else{if(!this._groups.has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;d=this._groups.get(a).visible}switch(D){case"And":if(!d)return!1;break;case"Or":if(d)return!0;break;case"Not":return!d;default:return!0}}return"And"===D}},{key:"isVisible",value:function(M){if(0===this._groups.size)return!0;if(!M)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===M.type)return this._groups.has(M.id)?this._groups.get(M.id).visible:((0,r.warn)("Optional content group not found: ".concat(M.id)),!0);if("OCMD"===M.type){if(M.expression)return this._evaluateVisibilityExpression(M.expression);if(!M.policy||"AnyOn"===M.policy){var D,I=o(M.ids);try{for(I.s();!(D=I.n()).done;){var s=D.value;if(!this._groups.has(s))return(0,r.warn)("Optional content group not found: ".concat(s)),!0;if(this._groups.get(s).visible)return!0}}catch(c){I.e(c)}finally{I.f()}return!1}if("AllOn"===M.policy){var d,a=o(M.ids);try{for(a.s();!(d=a.n()).done;){var h=d.value;if(!this._groups.has(h))return(0,r.warn)("Optional content group not found: ".concat(h)),!0;if(!this._groups.get(h).visible)return!1}}catch(c){a.e(c)}finally{a.f()}return!0}if("AnyOff"===M.policy){var v,T=o(M.ids);try{for(T.s();!(v=T.n()).done;){var C=v.value;if(!this._groups.has(C))return(0,r.warn)("Optional content group not found: ".concat(C)),!0;if(!this._groups.get(C).visible)return!0}}catch(c){T.e(c)}finally{T.f()}return!1}if("AllOff"===M.policy){var l,m=o(M.ids);try{for(m.s();!(l=m.n()).done;){var S=l.value;if(!this._groups.has(S))return(0,r.warn)("Optional content group not found: ".concat(S)),!0;if(this._groups.get(S).visible)return!1}}catch(c){m.e(c)}finally{m.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(M.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(M.type,".")),!0}},{key:"setVisibility",value:function(M){var I=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(M)?this._groups.get(M).visible=!!I:(0,r.warn)("Optional content group not found: ".concat(M))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(M){return this._groups.get(M)||null}}]),k}();i.OptionalContentConfig=O},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var r=function g(a){return a&&a.__esModule?a:{default:a}}(t(156)),o=t(1),u=t(158);function w(a,d,h,T,v,C,m){try{var l=a[C](m),S=l.value}catch(c){return void h(c)}l.done?d(S):Promise.resolve(S).then(T,v)}function L(a){return function(){var d=this,h=arguments;return new Promise(function(T,v){var C=a.apply(d,h);function m(S){w(C,T,v,m,l,"next",S)}function l(S){w(C,T,v,m,l,"throw",S)}m(void 0)})}}function N(a,d){var h=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!h){if(Array.isArray(a)||(h=function X(a,d){if(a){if("string"==typeof a)return O(a,d);var h=Object.prototype.toString.call(a).slice(8,-1);if("Object"===h&&a.constructor&&(h=a.constructor.name),"Map"===h||"Set"===h)return Array.from(a);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return O(a,d)}}(a))||d&&a&&"number"==typeof a.length){h&&(a=h);var T=0,v=function(){};return{s:v,n:function(){return T>=a.length?{done:!0}:{done:!1,value:a[T++]}},e:function(c){throw c},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,C=!0,m=!1;return{s:function(){h=h.call(a)},n:function(){var c=h.next();return C=c.done,c},e:function(c){m=!0,l=c},f:function(){try{!C&&null!=h.return&&h.return()}finally{if(m)throw l}}}}function O(a,d){(null==d||d>a.length)&&(d=a.length);for(var h=0,T=new Array(d);h<d;h++)T[h]=a[h];return T}function k(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}function _(a,d){for(var h=0;h<d.length;h++){var T=d[h];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(a,T.key,T)}}function M(a,d,h){return d&&_(a.prototype,d),h&&_(a,h),Object.defineProperty(a,"prototype",{writable:!1}),a}i.PDFDataTransportStream=function(){function a(d,h){var T=this;k(this,a),(0,o.assert)(h,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;var v=d.initialData;if(v?.length>0){var C=new Uint8Array(v).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=h,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(m,l){T._onReceiveData({begin:m,chunk:l})}),this._pdfDataRangeTransport.addProgressListener(function(m,l){T._onProgress({loaded:m,total:l})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(m){T._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){T._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return M(a,[{key:"_onReceiveData",value:function(h){var T=new Uint8Array(h.chunk).buffer;if(void 0===h.begin)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{var v=this._rangeReaders.some(function(C){return C._begin===h.begin&&(C._enqueue(T),!0)});(0,o.assert)(v,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var h,T;return null!==(h=null===(T=this._fullRequestReader)||void 0===T?void 0:T._loaded)&&void 0!==h?h:0}},{key:"_onProgress",value:function(h){if(void 0===h.total){var T=this._rangeReaders[0];null!=T&&T.onProgress&&T.onProgress({loaded:h.loaded})}else{var v=this._fullRequestReader;null!=v&&v.onProgress&&v.onProgress({loaded:h.loaded,total:h.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(h){var T=this._rangeReaders.indexOf(h);T>=0&&this._rangeReaders.splice(T,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var h=this._queuedChunks;return this._queuedChunks=null,new D(this,h,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(h,T){if(T<=this._progressiveDataLength)return null;var v=new s(this,h,T);return this._pdfDataRangeTransport.requestDataRange(h,T),this._rangeReaders.push(v),v}},{key:"cancelAllRequests",value:function(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);var v,T=N(this._rangeReaders.slice(0));try{for(T.s();!(v=T.n()).done;)v.value.cancel(h)}catch(m){T.e(m)}finally{T.f()}this._pdfDataRangeTransport.abort()}}]),a}();var D=function(){function a(d,h){var T=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;k(this,a),this._stream=d,this._done=T||!1,this._filename=(0,u.isPdfFile)(v)?v:null,this._queuedChunks=h||[],this._loaded=0;var m,C=N(this._queuedChunks);try{for(C.s();!(m=C.n()).done;){var l=m.value;this._loaded+=l.byteLength}}catch(S){C.e(S)}finally{C.f()}this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}return M(a,[{key:"_enqueue",value:function(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(d=L(r.default.mark(function T(){var v,C;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(this._queuedChunks.length>0)){l.next=3;break}return v=this._queuedChunks.shift(),l.abrupt("return",{value:v,done:!1});case 3:if(!this._done){l.next=5;break}return l.abrupt("return",{value:void 0,done:!0});case 5:return C=(0,o.createPromiseCapability)(),this._requests.push(C),l.abrupt("return",C.promise);case 8:case"end":return l.stop()}},T,this)})),function h(){return d.apply(this,arguments)})},{key:"cancel",value:function(h){this._done=!0;var v,T=N(this._requests);try{for(T.s();!(v=T.n()).done;)v.value.resolve({value:void 0,done:!0})}catch(m){T.e(m)}finally{T.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),a;var d}(),s=function(){function a(d,h,T){k(this,a),this._stream=d,this._begin=h,this._end=T,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return M(a,[{key:"_enqueue",value:function(h){if(!this._done){if(0===this._requests.length)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});var C,v=N(this._requests);try{for(v.s();!(C=v.n()).done;)C.value.resolve({value:void 0,done:!0})}catch(l){v.e(l)}finally{v.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(d=L(r.default.mark(function T(){var v,C;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this._queuedChunk){l.next=4;break}return v=this._queuedChunk,this._queuedChunk=null,l.abrupt("return",{value:v,done:!1});case 4:if(!this._done){l.next=6;break}return l.abrupt("return",{value:void 0,done:!0});case 6:return C=(0,o.createPromiseCapability)(),this._requests.push(C),l.abrupt("return",C.promise);case 9:case"end":return l.stop()}},T,this)})),function h(){return d.apply(this,arguments)})},{key:"cancel",value:function(h){this._done=!0;var v,T=N(this._requests);try{for(T.s();!(v=T.n()).done;)v.value.resolve({value:void 0,done:!0})}catch(m){T.e(m)}finally{T.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),a;var d}()},(y,i)=>{"use strict";function o(N,X){(null==X||X>N.length)&&(X=N.length);for(var O=0,k=new Array(X);O<X;O++)k[O]=N[O];return k}function g(N,X){for(var O=0;O<X.length;O++){var k=X[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0,i.XfaText=function(){function N(){!function u(N,X){if(!(N instanceof X))throw new TypeError("Cannot call a class as a function")}(this,N)}return function w(N,X,O){X&&g(N.prototype,X),O&&g(N,O),Object.defineProperty(N,"prototype",{writable:!1})}(N,null,[{key:"textContent",value:function(O){var k=[],_={items:k,styles:Object.create(null)};return function M(I){var D;if(I){var s=null,a=I.name;if("#text"===a)s=I.value;else{if(!N.shouldBuildText(a))return;null!=I&&null!==(D=I.attributes)&&void 0!==D&&D.textContent?s=I.attributes.textContent:I.value&&(s=I.value)}if(null!==s&&k.push({str:s}),I.children){var h,d=function t(N,X){var O=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!O){if(Array.isArray(N)||(O=function r(N,X){if(N){if("string"==typeof N)return o(N,X);var O=Object.prototype.toString.call(N).slice(8,-1);if("Object"===O&&N.constructor&&(O=N.constructor.name),"Map"===O||"Set"===O)return Array.from(N);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return o(N,X)}}(N))||X&&N&&"number"==typeof N.length){O&&(N=O);var k=0,_=function(){};return{s:_,n:function(){return k>=N.length?{done:!0}:{done:!1,value:N[k++]}},e:function(a){throw a},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var D,M=!0,I=!1;return{s:function(){O=O.call(N)},n:function(){var a=O.next();return M=a.done,a},e:function(a){I=!0,D=a},f:function(){try{!M&&null!=O.return&&O.return()}finally{if(I)throw D}}}}(I.children);try{for(d.s();!(h=d.n()).done;)M(h.value)}catch(v){d.e(v)}finally{d.f()}}}}(O),_}},{key:"shouldBuildText",value:function(O){return!("textarea"===O||"input"===O||"option"===O||"select"===O)}}]),N}()},(y,i,t)=>{"use strict";function r(d){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=t(159);function u(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function g(d,h){for(var T=0;T<h.length;T++){var v=h[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function w(d,h,T){return h&&g(d.prototype,h),T&&g(d,T),Object.defineProperty(d,"prototype",{writable:!1}),d}function L(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),h&&N(d,h)}function N(d,h){return(N=Object.setPrototypeOf||function(v,C){return v.__proto__=C,v})(d,h)}function X(d){var h=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,v=M(d);if(h){var m=M(this).constructor;C=Reflect.construct(v,arguments,m)}else C=v.apply(this,arguments);return O(this,C)}}function O(d,h){if(h&&("object"===r(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function k(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d)}function M(d){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(d)}var I=function(h){return new Promise(function(T,v){__webpack_require__(2767).readFile(h,function(m,l){!m&&l?T(new Uint8Array(l)):v(new Error(m))})})},D=function(d){L(T,d);var h=X(T);function T(){return u(this,T),h.apply(this,arguments)}return w(T,[{key:"_createCanvas",value:function(C,m){return __webpack_require__(6798).createCanvas(C,m)}}]),T}(o.BaseCanvasFactory);i.NodeCanvasFactory=D;var s=function(d){L(T,d);var h=X(T);function T(){return u(this,T),h.apply(this,arguments)}return w(T,[{key:"_fetchData",value:function(C,m){return I(C).then(function(l){return{cMapData:l,compressionType:m}})}}]),T}(o.BaseCMapReaderFactory);i.NodeCMapReaderFactory=s;var a=function(d){L(T,d);var h=X(T);function T(){return u(this,T),h.apply(this,arguments)}return w(T,[{key:"_fetchData",value:function(C){return I(C)}}]),T}(o.BaseStandardFontDataFactory);i.NodeStandardFontDataFactory=a},(y,i,t)=>{"use strict";function r(R){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(R)}Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var o=t(1),u=t(158),g=t(161),w=t(174),L=t(175);function N(R,K,F){return function X(R,K){if(R!==K)throw new TypeError("Private static access of wrong provenance")}(R,K),F}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(K,F,W){var B=k(K,F);if(B){var V=Object.getOwnPropertyDescriptor(B,F);return V.get?V.get.call(arguments.length<3?K:W):V.value}},O.apply(this,arguments)}function k(R,K){for(;!Object.prototype.hasOwnProperty.call(R,K)&&null!==(R=m(R)););return R}function _(R,K,F){return K in R?Object.defineProperty(R,K,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[K]=F,R}function M(R){return function s(R){if(Array.isArray(R))return G(R)}(R)||function D(R){if(typeof Symbol<"u"&&null!=R[Symbol.iterator]||null!=R["@@iterator"])return Array.from(R)}(R)||P(R)||function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(R,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(K&&K.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),K&&d(R,K)}function d(R,K){return(d=Object.setPrototypeOf||function(W,B){return W.__proto__=B,W})(R,K)}function h(R){var K=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var B,W=m(R);if(K){var V=m(this).constructor;B=Reflect.construct(W,arguments,V)}else B=W.apply(this,arguments);return T(this,B)}}function T(R,K){if(K&&("object"===r(K)||"function"==typeof K))return K;if(void 0!==K)throw new TypeError("Derived constructors may only return object or undefined");return v(R)}function v(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function m(R){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(R)}function l(R,K){var F=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!F){if(Array.isArray(R)||(F=P(R))||K&&R&&"number"==typeof R.length){F&&(R=F);var W=0,B=function(){};return{s:B,n:function(){return W>=R.length?{done:!0}:{done:!1,value:R[W++]}},e:function(we){throw we},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ce,V=!0,z=!1;return{s:function(){F=F.call(R)},n:function(){var we=F.next();return V=we.done,we},e:function(we){z=!0,ce=we},f:function(){try{!V&&null!=F.return&&F.return()}finally{if(z)throw ce}}}}function S(R,K){return function te(R){if(Array.isArray(R))return R}(R)||function H(R,K){var F=null==R?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(null!=F){var z,ce,W=[],B=!0,V=!1;try{for(F=F.call(R);!(B=(z=F.next()).done)&&(W.push(z.value),!K||W.length!==K);B=!0);}catch(Se){V=!0,ce=Se}finally{try{!B&&null!=F.return&&F.return()}finally{if(V)throw ce}}return W}}(R,K)||P(R,K)||function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(R,K){if(R){if("string"==typeof R)return G(R,K);var F=Object.prototype.toString.call(R).slice(8,-1);if("Object"===F&&R.constructor&&(F=R.constructor.name),"Map"===F||"Set"===F)return Array.from(R);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return G(R,K)}}function G(R,K){(null==K||K>R.length)&&(K=R.length);for(var F=0,W=new Array(K);F<K;F++)W[F]=R[F];return W}function J(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")}function oe(R,K){for(var F=0;F<K.length;F++){var W=K[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(R,W.key,W)}}function Y(R,K,F){return K&&oe(R.prototype,K),F&&oe(R,F),Object.defineProperty(R,"prototype",{writable:!1}),R}var ee=new WeakSet;function f(R){return{width:R[2]-R[0],height:R[3]-R[1]}}var p=function(){function R(){J(this,R)}return Y(R,null,[{key:"create",value:function(F){switch(F.data.annotationType){case o.AnnotationType.LINK:return new U(F);case o.AnnotationType.TEXT:return new ie(F);case o.AnnotationType.WIDGET:switch(F.data.fieldType){case"Tx":return new ne(F);case"Btn":return F.data.radioButton?new pe(F):F.data.checkBox?new Ee(F):new _e(F);case"Ch":return new he(F)}return new ye(F);case o.AnnotationType.POPUP:return new Ae(F);case o.AnnotationType.FREETEXT:return new Oe(F);case o.AnnotationType.LINE:return new Re(F);case o.AnnotationType.SQUARE:return new Ie(F);case o.AnnotationType.CIRCLE:return new Me(F);case o.AnnotationType.POLYLINE:return new j(F);case o.AnnotationType.CARET:return new E(F);case o.AnnotationType.INK:return new A(F);case o.AnnotationType.POLYGON:return new ae(F);case o.AnnotationType.HIGHLIGHT:return new $(F);case o.AnnotationType.UNDERLINE:return new q(F);case o.AnnotationType.SQUIGGLY:return new Z(F);case o.AnnotationType.STRIKEOUT:return new le(F);case o.AnnotationType.STAMP:return new fe(F);case o.AnnotationType.FILEATTACHMENT:return new se(F);default:return new x(F)}}}]),R}(),x=function(){function R(K){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=F.isRenderable,B=void 0!==W&&W,V=F.ignoreBorder,z=void 0!==V&&V,ce=F.createQuadrilaterals,Se=void 0!==ce&&ce;J(this,R),this.isRenderable=B,this.data=K.data,this.layer=K.layer,this.page=K.page,this.viewport=K.viewport,this.linkService=K.linkService,this.downloadManager=K.downloadManager,this.imageResourcesPath=K.imageResourcesPath,this.renderForms=K.renderForms,this.svgFactory=K.svgFactory,this.annotationStorage=K.annotationStorage,this.enableScripting=K.enableScripting,this.hasJSActions=K.hasJSActions,this._fieldObjects=K.fieldObjects,this._mouseState=K.mouseState,B&&(this.container=this._createContainer(z)),Se&&(this.quadrilaterals=this._createQuadrilaterals(z))}return Y(R,[{key:"_createContainer",value:function(){var F=arguments.length>0&&void 0!==arguments[0]&&arguments[0],W=this.data,B=this.page,V=this.viewport,z=document.createElement("section"),ce=f(W.rect),Se=ce.width,we=ce.height;z.setAttribute("data-annotation-id",W.id);var Ce=o.Util.normalizeRect([W.rect[0],B.view[3]-W.rect[1]+B.view[1],W.rect[2],B.view[3]-W.rect[3]+B.view[1]]);if(W.hasOwnCanvas){var Fe=V.transform.slice(),We=o.Util.singularValueDecompose2dScale(Fe),De=S(We,2),Be=De[0],Xe=De[1];Se=Math.ceil(Se*Be),we=Math.ceil(we*Xe),Ce[0]*=Be,Ce[1]*=Xe;for(var Le=0;Le<4;Le++)Fe[Le]=Math.sign(Fe[Le]);z.style.transform="matrix(".concat(Fe.join(","),")")}else z.style.transform="matrix(".concat(V.transform.join(","),")");if(z.style.transformOrigin="".concat(-Ce[0],"px ").concat(-Ce[1],"px"),!F&&W.borderStyle.width>0){z.style.borderWidth="".concat(W.borderStyle.width,"px"),W.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(Se-=2*W.borderStyle.width,we-=2*W.borderStyle.width);var je=W.borderStyle.horizontalCornerRadius,Ge=W.borderStyle.verticalCornerRadius;if(je>0||Ge>0){var Ve="".concat(je,"px / ").concat(Ge,"px");z.style.borderRadius=Ve}switch(W.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:z.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:z.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:z.style.borderBottomStyle="solid"}var Ne=W.borderColor||W.color||null;Ne?z.style.borderColor=o.Util.makeHexColor(0|W.color[0],0|W.color[1],0|W.color[2]):z.style.borderWidth=0}return z.style.left="".concat(Ce[0],"px"),z.style.top="".concat(Ce[1],"px"),W.hasOwnCanvas?z.style.width=z.style.height="auto":(z.style.width="".concat(Se,"px"),z.style.height="".concat(we,"px")),z}},{key:"_commonActions",get:function(){var F=this,W=function(V,z,ce){var Se=ce.detail[V];ce.target.style[z]=w.ColorConverters["".concat(Se[0],"_HTML")](Se.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:function(V){var z=V.detail.display%2==1;V.target.style.visibility=z?"hidden":"visible",F.annotationStorage.setValue(F.data.id,{hidden:z,print:0===V.detail.display||3===V.detail.display})},print:function(V){F.annotationStorage.setValue(F.data.id,{print:V.detail.print})},hidden:function(V){V.target.style.visibility=V.detail.hidden?"hidden":"visible",F.annotationStorage.setValue(F.data.id,{hidden:V.detail.hidden})},focus:function(V){setTimeout(function(){return V.target.focus({preventScroll:!1})},0)},userName:function(V){V.target.title=V.detail.userName},readonly:function(V){V.detail.readonly?V.target.setAttribute("readonly",""):V.target.removeAttribute("readonly")},required:function(V){V.detail.required?V.target.setAttribute("required",""):V.target.removeAttribute("required")},bgColor:function(V){W("bgColor","backgroundColor",V)},fillColor:function(V){W("fillColor","backgroundColor",V)},fgColor:function(V){W("fgColor","color",V)},textColor:function(V){W("textColor","color",V)},borderColor:function(V){W("borderColor","borderColor",V)},strokeColor:function(V){W("strokeColor","borderColor",V)}})}},{key:"_dispatchEventFromSandbox",value:function(F,W){for(var B=this._commonActions,V=0,z=Object.keys(W.detail);V<z.length;V++){var ce=z[V],Se=F[ce]||B[ce];Se&&Se(W)}}},{key:"_setDefaultPropertiesFromJS",value:function(F){if(this.enableScripting){var W=this.annotationStorage.getRawValue(this.data.id);if(W)for(var B=this._commonActions,V=0,z=Object.entries(W);V<z.length;V++){var ce=S(z[V],2),Se=ce[0],Ce=B[Se];Ce&&(Ce({detail:ce[1],target:F}),delete W[Se])}}}},{key:"_createQuadrilaterals",value:function(){var F=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var z,W=[],B=this.data.rect,V=l(this.data.quadPoints);try{for(V.s();!(z=V.n()).done;){var ce=z.value;this.data.rect=[ce[2].x,ce[2].y,ce[1].x,ce[1].y],W.push(this._createContainer(F))}}catch(Se){V.e(Se)}finally{V.f()}return this.data.rect=B,W}},{key:"_createPopup",value:function(F,W){var B=this.container;this.quadrilaterals&&(F=F||this.quadrilaterals,B=this.quadrilaterals[0]),F||((F=document.createElement("div")).style.height=B.style.height,F.style.width=B.style.width,B.appendChild(F));var z=new Pe({container:B,trigger:F,color:W.color,titleObj:W.titleObj,modificationDate:W.modificationDate,contentsObj:W.contentsObj,richText:W.richText,hideWrapper:!0}).render();z.style.left=B.style.width,B.appendChild(z)}},{key:"_renderQuadrilaterals",value:function(F){var B,W=l(this.quadrilaterals);try{for(W.s();!(B=W.n()).done;)B.value.className=F}catch(z){W.e(z)}finally{W.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(F){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,B=[];if(this._fieldObjects){var V=this._fieldObjects[F];if(V){var ce,z=l(V);try{for(z.s();!(ce=z.n()).done;){var Se=ce.value,we=Se.page,Ce=Se.id,Fe=Se.exportValues;if(-1!==we&&Ce!==W){var We="string"==typeof Fe?Fe:null,De=document.getElementById(Ce);if(De&&!ee.has(De)){(0,o.warn)("_getElementsByName - element not allowed: ".concat(Ce));continue}B.push({id:Ce,exportValue:We,domElement:De})}}}catch(Ve){z.e(Ve)}finally{z.f()}}return B}var Xe,Be=l(document.getElementsByName(F));try{for(Be.s();!(Xe=Be.n()).done;){var Le=Xe.value,je=Le.id,Ge=Le.exportValue;je!==W&&(!ee.has(Le)||B.push({id:je,exportValue:Ge,domElement:Le}))}}catch(Ve){Be.e(Ve)}finally{Be.f()}return B}}],[{key:"platform",get:function(){var F=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:F.includes("Win"),isMac:F.includes("Mac")})}}]),R}(),U=function(R){a(F,R);var K=h(F);function F(W){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;J(this,F);var V=!!(W.data.url||W.data.dest||W.data.action||W.data.isTooltipOnly||W.data.resetForm||W.data.actions&&(W.data.actions.Action||W.data.actions["Mouse Up"]||W.data.actions["Mouse Down"]));return K.call(this,W,{isRenderable:V,ignoreBorder:!(null==B||!B.ignoreBorder),createQuadrilaterals:!0})}return Y(F,[{key:"render",value:function(){var B=this.data,V=this.linkService,z=document.createElement("a");if(B.url)V.addLinkAttributes(z,B.url,B.newWindow);else if(B.action)this._bindNamedAction(z,B.action);else if(B.dest)this._bindLink(z,B.dest);else{var ce=!1;B.actions&&(B.actions.Action||B.actions["Mouse Up"]||B.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(ce=!0,this._bindJSAction(z,B)),B.resetForm?this._bindResetFormAction(z,B.resetForm):ce||this._bindLink(z,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(Se,we){var Ce=0===we?z:z.cloneNode();return Se.appendChild(Ce),Se}):(this.container.className="linkAnnotation",this.container.appendChild(z),this.container)}},{key:"_bindLink",value:function(B,V){var z=this;B.href=this.linkService.getDestinationHash(V),B.onclick=function(){return V&&z.linkService.goToDestination(V),!1},(V||""===V)&&(B.className="internalLink")}},{key:"_bindNamedAction",value:function(B,V){var z=this;B.href=this.linkService.getAnchorUrl(""),B.onclick=function(){return z.linkService.executeNamedAction(V),!1},B.className="internalLink"}},{key:"_bindJSAction",value:function(B,V){var z=this;B.href=this.linkService.getAnchorUrl("");for(var ce=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),Se=function(){var De=Ce[we],Be=ce.get(De);if(!Be)return"continue";B[Be]=function(){var Xe;return null===(Xe=z.linkService.eventBus)||void 0===Xe||Xe.dispatch("dispatcheventinsandbox",{source:z,detail:{id:V.id,name:De}}),!1}},we=0,Ce=Object.keys(V.actions);we<Ce.length;we++)Se();B.onclick||(B.onclick=function(){return!1}),B.className="internalLink"}},{key:"_bindResetFormAction",value:function(B,V){var z=this,ce=B.onclick;if(ce||(B.href=this.linkService.getAnchorUrl("")),B.className="internalLink",!this._fieldObjects)return(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(ce||(B.onclick=function(){return!1}));B.onclick=function(){ce&&ce();var yt,Se=V.fields,we=V.refs,Ce=V.include,Fe=[];if(0!==Se.length||0!==we.length){var Be,We=new Set(we),De=l(Se);try{for(De.s();!(Be=De.n()).done;){var Ge,je=l(z._fieldObjects[Be.value]||[]);try{for(je.s();!(Ge=je.n()).done;)We.add(Ge.value.id)}catch(st){je.e(st)}finally{je.f()}}}catch(st){De.e(st)}finally{De.f()}for(var Ne=0,Ye=Object.values(z._fieldObjects);Ne<Ye.length;Ne++){var et,Ze=l(Ye[Ne]);try{for(Ze.s();!(et=Ze.n()).done;){var de=et.value;We.has(de.id)===Ce&&Fe.push(de)}}catch(st){Ze.e(st)}finally{Ze.f()}}}else for(var Te=0,ue=Object.values(z._fieldObjects);Te<ue.length;Te++)Fe.push.apply(Fe,M(ue[Te]));for(var ze=z.annotationStorage,Ke=[],nt=0,rt=Fe;nt<rt.length;nt++){var it=rt[nt],ct=it.id;switch(Ke.push(ct),it.type){case"text":case"combobox":case"listbox":ze.setValue(ct,{value:it.defaultValue||""});break;case"checkbox":case"radiobutton":ze.setValue(ct,{value:it.defaultValue===it.exportValues});break;default:continue}var ft=document.getElementById(ct);!ft||!ee.has(ft)||ft.dispatchEvent(new Event("resetform"))}return z.enableScripting&&(null===(yt=z.linkService.eventBus)||void 0===yt||yt.dispatch("dispatcheventinsandbox",{source:z,detail:{id:"app",ids:Ke,name:"ResetForm"}})),!1}}}]),F}(x),ie=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce})}return Y(F,[{key:"render",value:function(){this.container.className="textAnnotation";var B=document.createElement("img");return B.style.height=this.container.style.height,B.style.width=this.container.style.width,B.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",B.alt="[{{type}} Annotation]",B.dataset.l10nId="text_annotation_type",B.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(B,this.data),this.container.appendChild(B),this.container}}]),F}(x),ye=function(R){a(F,R);var K=h(F);function F(){return J(this,F),K.apply(this,arguments)}return Y(F,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(B){var V=x.platform;return V.isWin&&B.ctrlKey||V.isMac&&B.metaKey}},{key:"_setEventListener",value:function(B,V,z,ce){var Se=this;V.includes("mouse")?B.addEventListener(V,function(we){var Ce;null===(Ce=Se.linkService.eventBus)||void 0===Ce||Ce.dispatch("dispatcheventinsandbox",{source:Se,detail:{id:Se.data.id,name:z,value:ce(we),shift:we.shiftKey,modifier:Se._getKeyModifier(we)}})}):B.addEventListener(V,function(we){var Ce;null===(Ce=Se.linkService.eventBus)||void 0===Ce||Ce.dispatch("dispatcheventinsandbox",{source:Se,detail:{id:Se.data.id,name:z,value:ce(we)}})})}},{key:"_setEventListeners",value:function(B,V,z){var Se,ce=l(V);try{for(ce.s();!(Se=ce.n()).done;){var we,Ce=S(Se.value,2),We=Ce[1];("Action"===We||null!==(we=this.data.actions)&&void 0!==we&&we[We])&&this._setEventListener(B,Ce[0],We,z)}}catch(De){ce.e(De)}finally{ce.f()}}},{key:"_setBackgroundColor",value:function(B){var V=this.data.backgroundColor||null;B.style.backgroundColor=null===V?"transparent":o.Util.makeHexColor(V[0],V[1],V[2])}}]),F}(x),ne=function(R){a(F,R);var K=h(F);function F(W){return J(this,F),K.call(this,W,{isRenderable:W.renderForms||!W.data.hasAppearance&&!!W.data.fieldValue})}return Y(F,[{key:"setPropertyOnSiblings",value:function(B,V,z,ce){var Ce,Se=this.annotationStorage,we=l(this._getElementsByName(B.name,B.id));try{for(we.s();!(Ce=we.n()).done;){var Fe=Ce.value;Fe.domElement&&(Fe.domElement[V]=z),Se.setValue(Fe.id,_({},ce,z))}}catch(We){we.e(We)}finally{we.f()}}},{key:"render",value:function(){var B=this,V=this.annotationStorage,z=this.data.id;this.container.className="textWidgetAnnotation";var ce=null;if(this.renderForms){var Se=V.getValue(z,{value:this.data.fieldValue}),we=Se.formattedValue||Se.value||"",Ce={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ce=document.createElement("textarea")).textContent=we:((ce=document.createElement("input")).type="text",ce.setAttribute("value",we)),ee.add(ce),ce.disabled=this.data.readOnly,ce.name=this.data.fieldName,ce.tabIndex=1e3,Ce.userValue=we,ce.setAttribute("id",z),ce.addEventListener("input",function(Le){V.setValue(z,{value:Le.target.value}),B.setPropertyOnSiblings(ce,"value",Le.target.value,"value")}),ce.addEventListener("resetform",function(Le){var je,Ge=null!==(je=B.data.defaultFieldValue)&&void 0!==je?je:"";ce.value=Ce.userValue=Ge,Ce.formattedValue=null});var Fe=function(je){var Ge=Ce.formattedValue;null!=Ge&&(je.target.value=Ge),je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var We;ce.addEventListener("focus",function(Le){Ce.userValue&&(Le.target.value=Ce.userValue),Ce.valueOnFocus=Le.target.value}),ce.addEventListener("updatefromsandbox",function(Le){B._dispatchEventFromSandbox({value:function(Ve){var Ne;Ce.userValue=null!==(Ne=Ve.detail.value)&&void 0!==Ne?Ne:"",V.setValue(z,{value:Ce.userValue.toString()}),Ve.target.value=Ce.userValue},formattedValue:function(Ve){var Ne=Ve.detail.formattedValue;Ce.formattedValue=Ne,null!=Ne&&Ve.target!==document.activeElement&&(Ve.target.value=Ne),V.setValue(z,{formattedValue:Ne})},selRange:function(Ve){var Ne;(Ne=Ve.target).setSelectionRange.apply(Ne,M(Ve.detail.selRange))}},Le)}),ce.addEventListener("keydown",function(Le){var je,Ge=-1;if("Escape"===Le.key?Ge=0:"Enter"===Le.key?Ge=2:"Tab"===Le.key&&(Ge=3),-1!==Ge){var Ve=Le.target.value;Ce.valueOnFocus!==Ve&&(Ce.userValue=Ve,null===(je=B.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:B,detail:{id:z,name:"Keystroke",value:Ve,willCommit:!0,commitKey:Ge,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}}))}});var De=Fe;Fe=null,ce.addEventListener("blur",function(Le){var Ge,je=Le.target.value;Ce.userValue=je,B._mouseState.isDown&&Ce.valueOnFocus!==je&&(null===(Ge=B.linkService.eventBus)||void 0===Ge||Ge.dispatch("dispatcheventinsandbox",{source:B,detail:{id:z,name:"Keystroke",value:je,willCommit:!0,commitKey:1,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}})),De(Le)}),null!==(We=this.data.actions)&&void 0!==We&&We.Keystroke&&ce.addEventListener("beforeinput",function(Le){var je,Ge=Le.data,Ve=Le.target,Ne=Ve.value,Ye=Ve.selectionStart,Je=Ve.selectionEnd,Ze=Ye,et=Je;switch(Le.inputType){case"deleteWordBackward":var de=Ne.substring(0,Ye).match(/\w*[^\w]*$/);de&&(Ze-=de[0].length);break;case"deleteWordForward":var Te=Ne.substring(Ye).match(/^[^\w]*\w*/);Te&&(et+=Te[0].length);break;case"deleteContentBackward":Ye===Je&&(Ze-=1);break;case"deleteContentForward":Ye===Je&&(et+=1)}Le.preventDefault(),null===(je=B.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:B,detail:{id:z,name:"Keystroke",value:Ne,change:Ge||"",willCommit:!1,selStart:Ze,selEnd:et}})}),this._setEventListeners(ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Le){return Le.target.value})}if(Fe&&ce.addEventListener("blur",Fe),null!==this.data.maxLen&&(ce.maxLength=this.data.maxLen),this.data.comb){var Xe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;ce.classList.add("comb"),ce.style.letterSpacing="calc(".concat(Xe,"px - 1ch)")}}else(ce=document.createElement("div")).textContent=this.data.fieldValue,ce.style.verticalAlign="middle",ce.style.display="table-cell";return this._setTextStyle(ce),this._setBackgroundColor(ce),this._setDefaultPropertiesFromJS(ce),this.container.appendChild(ce),this.container}},{key:"_setTextStyle",value:function(B){var z=this.data.defaultAppearanceData,ce=z.fontSize,Se=z.fontColor,we=B.style;ce&&(we.fontSize="".concat(ce,"px")),we.color=o.Util.makeHexColor(Se[0],Se[1],Se[2]),null!==this.data.textAlignment&&(we.textAlign=["left","center","right"][this.data.textAlignment])}}]),F}(ye),Ee=function(R){a(F,R);var K=h(F);function F(W){return J(this,F),K.call(this,W,{isRenderable:W.renderForms})}return Y(F,[{key:"render",value:function(){var B=this,V=this.annotationStorage,z=this.data,ce=z.id,Se=V.getValue(ce,{value:z.exportValue===z.fieldValue}).value;"string"==typeof Se&&V.setValue(ce,{value:Se="Off"!==Se}),this.container.className="buttonWidgetAnnotation checkBox";var we=document.createElement("input");return ee.add(we),we.disabled=z.readOnly,we.type="checkbox",we.name=z.fieldName,Se&&we.setAttribute("checked",!0),we.setAttribute("id",ce),we.setAttribute("exportValue",z.exportValue),we.tabIndex=1e3,we.addEventListener("change",function(Ce){var Xe,Fe=Ce.target,De=Fe.checked,Be=l(B._getElementsByName(Fe.name,ce));try{for(Be.s();!(Xe=Be.n()).done;){var Le=Xe.value,je=De&&Le.exportValue===z.exportValue;Le.domElement&&(Le.domElement.checked=je),V.setValue(Le.id,{value:je})}}catch(Ge){Be.e(Ge)}finally{Be.f()}V.setValue(ce,{value:De})}),we.addEventListener("resetform",function(Ce){Ce.target.checked=(z.defaultFieldValue||"Off")===z.exportValue}),this.enableScripting&&this.hasJSActions&&(we.addEventListener("updatefromsandbox",function(Ce){B._dispatchEventFromSandbox({value:function(De){De.target.checked="Off"!==De.detail.value,V.setValue(ce,{value:De.target.checked})}},Ce)}),this._setEventListeners(we,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Ce){return Ce.target.checked})),this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.appendChild(we),this.container}}]),F}(ye),pe=function(R){a(F,R);var K=h(F);function F(W){return J(this,F),K.call(this,W,{isRenderable:W.renderForms})}return Y(F,[{key:"render",value:function(){var B=this;this.container.className="buttonWidgetAnnotation radioButton";var V=this.annotationStorage,z=this.data,ce=z.id,Se=V.getValue(ce,{value:z.fieldValue===z.buttonValue}).value;"string"==typeof Se&&V.setValue(ce,{value:Se=Se!==z.buttonValue});var we=document.createElement("input");if(ee.add(we),we.disabled=z.readOnly,we.type="radio",we.name=z.fieldName,Se&&we.setAttribute("checked",!0),we.setAttribute("id",ce),we.tabIndex=1e3,we.addEventListener("change",function(Fe){var Le,We=Fe.target,Be=We.checked,Xe=l(B._getElementsByName(We.name,ce));try{for(Xe.s();!(Le=Xe.n()).done;)V.setValue(Le.value.id,{value:!1})}catch(Ge){Xe.e(Ge)}finally{Xe.f()}V.setValue(ce,{value:Be})}),we.addEventListener("resetform",function(Fe){var We=z.defaultFieldValue;Fe.target.checked=null!=We&&We===z.buttonValue}),this.enableScripting&&this.hasJSActions){var Ce=z.buttonValue;we.addEventListener("updatefromsandbox",function(Fe){var We={value:function(Be){var je,Xe=Ce===Be.detail.value,Le=l(B._getElementsByName(Be.target.name));try{for(Le.s();!(je=Le.n()).done;){var Ge=je.value,Ve=Xe&&Ge.id===ce;Ge.domElement&&(Ge.domElement.checked=Ve),V.setValue(Ge.id,{value:Ve})}}catch(Ne){Le.e(Ne)}finally{Le.f()}}};B._dispatchEventFromSandbox(We,Fe)}),this._setEventListeners(we,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Fe){return Fe.target.checked})}return this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.appendChild(we),this.container}}]),F}(ye),_e=function(R){a(F,R);var K=h(F);function F(W){return J(this,F),K.call(this,W,{ignoreBorder:W.data.hasAppearance})}return Y(F,[{key:"render",value:function(){var B=O(m(F.prototype),"render",this).call(this);return B.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(B.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(B),B}}]),F}(U),he=function(R){a(F,R);var K=h(F);function F(W){return J(this,F),K.call(this,W,{isRenderable:W.renderForms})}return Y(F,[{key:"render",value:function(){var B=this;this.container.className="choiceWidgetAnnotation";var V=this.annotationStorage,z=this.data.id,ce=V.getValue(z,{value:this.data.fieldValue}),Se=this.data.defaultAppearanceData.fontSize;Se||(Se=9);var we="calc(".concat(Se,"px * var(--zoom-factor))"),Ce=document.createElement("select");ee.add(Ce),Ce.disabled=this.data.readOnly,Ce.name=this.data.fieldName,Ce.setAttribute("id",z),Ce.tabIndex=1e3,Ce.style.fontSize="".concat(Se,"px"),this.data.combo||(Ce.size=this.data.options.length,this.data.multiSelect&&(Ce.multiple=!0)),Ce.addEventListener("resetform",function(je){var Ne,Ge=B.data.defaultFieldValue,Ve=l(Ce.options);try{for(Ve.s();!(Ne=Ve.n()).done;){var Ye=Ne.value;Ye.selected=Ye.value===Ge}}catch(Je){Ve.e(Je)}finally{Ve.f()}});var We,Fe=l(this.data.options);try{for(Fe.s();!(We=Fe.n()).done;){var De=We.value,Be=document.createElement("option");Be.textContent=De.displayValue,Be.value=De.exportValue,this.data.combo&&(Be.style.fontSize=we),ce.value.includes(De.exportValue)&&Be.setAttribute("selected",!0),Ce.appendChild(Be)}}catch(je){Fe.e(je)}finally{Fe.f()}var Xe=function(Ge,Ve){var Ne=Ve?"value":"textContent",Ye=Ge.target.options;return Ge.target.multiple?Array.prototype.filter.call(Ye,function(Je){return Je.selected}).map(function(Je){return Je[Ne]}):-1===Ye.selectedIndex?null:Ye[Ye.selectedIndex][Ne]},Le=function(Ge){return Array.prototype.map.call(Ge.target.options,function(Ne){return{displayValue:Ne.textContent,exportValue:Ne.value}})};return this.enableScripting&&this.hasJSActions?(Ce.addEventListener("updatefromsandbox",function(je){B._dispatchEventFromSandbox({value:function(Ne){var et,Ye=Ne.detail.value,Je=new Set(Array.isArray(Ye)?Ye:[Ye]),Ze=l(Ce.options);try{for(Ze.s();!(et=Ze.n()).done;){var de=et.value;de.selected=Je.has(de.value)}}catch(Te){Ze.e(Te)}finally{Ze.f()}V.setValue(z,{value:Xe(Ne,!0)})},multipleSelection:function(Ne){Ce.multiple=!0},remove:function(Ne){var Ye=Ce.options,Je=Ne.detail.remove;Ye[Je].selected=!1,Ce.remove(Je),Ye.length>0&&-1===Array.prototype.findIndex.call(Ye,function(et){return et.selected})&&(Ye[0].selected=!0),V.setValue(z,{value:Xe(Ne,!0),items:Le(Ne)})},clear:function(Ne){for(;0!==Ce.length;)Ce.remove(0);V.setValue(z,{value:null,items:[]})},insert:function(Ne){var Ye=Ne.detail.insert,Je=Ye.index,Ze=Ye.displayValue,et=Ye.exportValue,de=document.createElement("option");de.textContent=Ze,de.value=et,Ce.insertBefore(de,Ce.children[Je]),V.setValue(z,{value:Xe(Ne,!0),items:Le(Ne)})},items:function(Ne){for(var Ye=Ne.detail.items;0!==Ce.length;)Ce.remove(0);var Ze,Je=l(Ye);try{for(Je.s();!(Ze=Je.n()).done;){var et=Ze.value,de=et.displayValue,Te=et.exportValue,ue=document.createElement("option");ue.textContent=de,ue.value=Te,Ce.appendChild(ue)}}catch(be){Je.e(be)}finally{Je.f()}Ce.options.length>0&&(Ce.options[0].selected=!0),V.setValue(z,{value:Xe(Ne,!0),items:Le(Ne)})},indices:function(Ne){var Ze,Ye=new Set(Ne.detail.indices),Je=l(Ne.target.options);try{for(Je.s();!(Ze=Je.n()).done;){var et=Ze.value;et.selected=Ye.has(et.index)}}catch(de){Je.e(de)}finally{Je.f()}V.setValue(z,{value:Xe(Ne,!0)})},editable:function(Ne){Ne.target.disabled=!Ne.detail.editable}},je)}),Ce.addEventListener("input",function(je){var Ge,Ve=Xe(je,!0),Ne=Xe(je,!1);V.setValue(z,{value:Ve}),null===(Ge=B.linkService.eventBus)||void 0===Ge||Ge.dispatch("dispatcheventinsandbox",{source:B,detail:{id:z,name:"Keystroke",value:Ne,changeEx:Ve,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(je){return je.target.checked})):Ce.addEventListener("input",function(je){V.setValue(z,{value:Xe(je,!0)})}),this._setBackgroundColor(Ce),this._setDefaultPropertiesFromJS(Ce),this.container.appendChild(Ce),this.container}}]),F}(ye),Ae=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce})}return Y(F,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var V='[data-annotation-id="'.concat(this.data.parentId,'"]'),z=this.layer.querySelectorAll(V);if(0===z.length)return this.container;var ce=new Pe({container:this.container,trigger:Array.from(z),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Se=this.page,we=o.Util.normalizeRect([this.data.parentRect[0],Se.view[3]-this.data.parentRect[1]+Se.view[1],this.data.parentRect[2],Se.view[3]-this.data.parentRect[3]+Se.view[1]]),Ce=we[0]+this.data.parentRect[2]-this.data.parentRect[0],Fe=we[1];return this.container.style.transformOrigin="".concat(-Ce,"px ").concat(-Fe,"px"),this.container.style.left="".concat(Ce,"px"),this.container.style.top="".concat(Fe,"px"),this.container.appendChild(ce.render()),this.container}}]),F}(x),Pe=function(){function R(K){J(this,R),this.container=K.container,this.trigger=K.trigger,this.color=K.color,this.titleObj=K.titleObj,this.modificationDate=K.modificationDate,this.contentsObj=K.contentsObj,this.richText=K.richText,this.hideWrapper=K.hideWrapper||!1,this.pinned=!1}return Y(R,[{key:"render",value:function(){var F,W,V=document.createElement("div");V.className="popupWrapper",this.hideElement=this.hideWrapper?V:this.container,this.hideElement.hidden=!0;var z=document.createElement("div");z.className="popup";var ce=this.color;ce&&(z.style.backgroundColor=o.Util.makeHexColor(0|.7*(255-ce[0])+ce[0],0|.7*(255-ce[1])+ce[1],0|.7*(255-ce[2])+ce[2]));var Fe=document.createElement("h1");Fe.dir=this.titleObj.dir,Fe.textContent=this.titleObj.str,z.appendChild(Fe);var We=u.PDFDateString.toDateObject(this.modificationDate);if(We){var De=document.createElement("span");De.className="popupDate",De.textContent="{{date}}, {{time}}",De.dataset.l10nId="annotation_date_string",De.dataset.l10nArgs=JSON.stringify({date:We.toLocaleDateString(),time:We.toLocaleTimeString()}),z.appendChild(De)}if(null===(F=this.richText)||void 0===F||!F.str||null!==(W=this.contentsObj)&&void 0!==W&&W.str&&this.contentsObj.str!==this.richText.str){var Be=this._formatContents(this.contentsObj);z.appendChild(Be)}else L.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:z}),z.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var Le,Xe=l(this.trigger);try{for(Xe.s();!(Le=Xe.n()).done;){var je=Le.value;je.addEventListener("click",this._toggle.bind(this)),je.addEventListener("mouseover",this._show.bind(this,!1)),je.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Ge){Xe.e(Ge)}finally{Xe.f()}return z.addEventListener("click",this._hide.bind(this,!0)),V.appendChild(z),V}},{key:"_formatContents",value:function(F){var W=F.str,B=F.dir,V=document.createElement("p");V.className="popupContent",V.dir=B;for(var z=W.split(/(?:\r\n?|\n)/),ce=0,Se=z.length;ce<Se;++ce)V.appendChild(document.createTextNode(z[ce])),ce<Se-1&&V.appendChild(document.createElement("br"));return V}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var F=arguments.length>0&&void 0!==arguments[0]&&arguments[0];F&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var F=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];F&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),R}(),Oe=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),F}(x),Re=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){this.container.className="lineAnnotation";var B=this.data,V=f(B.rect),Se=this.svgFactory.create(V.width,V.height),we=this.svgFactory.createElement("svg:line");return we.setAttribute("x1",B.rect[2]-B.lineCoordinates[0]),we.setAttribute("y1",B.rect[3]-B.lineCoordinates[1]),we.setAttribute("x2",B.rect[2]-B.lineCoordinates[2]),we.setAttribute("y2",B.rect[3]-B.lineCoordinates[3]),we.setAttribute("stroke-width",B.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),Se.appendChild(we),this.container.append(Se),this._createPopup(we,B),this.container}}]),F}(x),Ie=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){this.container.className="squareAnnotation";var B=this.data,V=f(B.rect),z=V.width,ce=V.height,Se=this.svgFactory.create(z,ce),we=B.borderStyle.width,Ce=this.svgFactory.createElement("svg:rect");return Ce.setAttribute("x",we/2),Ce.setAttribute("y",we/2),Ce.setAttribute("width",z-we),Ce.setAttribute("height",ce-we),Ce.setAttribute("stroke-width",we||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),Se.appendChild(Ce),this.container.append(Se),this._createPopup(Ce,B),this.container}}]),F}(x),Me=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){this.container.className="circleAnnotation";var B=this.data,V=f(B.rect),z=V.width,ce=V.height,Se=this.svgFactory.create(z,ce),we=B.borderStyle.width,Ce=this.svgFactory.createElement("svg:ellipse");return Ce.setAttribute("cx",z/2),Ce.setAttribute("cy",ce/2),Ce.setAttribute("rx",z/2-we/2),Ce.setAttribute("ry",ce/2-we/2),Ce.setAttribute("stroke-width",we||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),Se.appendChild(Ce),this.container.append(Se),this._createPopup(Ce,B),this.container}}]),F}(x),j=function(R){a(F,R);var K=h(F);function F(W){var B,V,z,ce;J(this,F);var Se=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return(ce=K.call(this,W,{isRenderable:Se,ignoreBorder:!0})).containerClassName="polylineAnnotation",ce.svgElementName="svg:polyline",ce}return Y(F,[{key:"render",value:function(){this.container.className=this.containerClassName;var Fe,B=this.data,V=f(B.rect),Se=this.svgFactory.create(V.width,V.height),we=[],Ce=l(B.vertices);try{for(Ce.s();!(Fe=Ce.n()).done;){var We=Fe.value;we.push(We.x-B.rect[0]+","+(B.rect[3]-We.y))}}catch(Le){Ce.e(Le)}finally{Ce.f()}we=we.join(" ");var Xe=this.svgFactory.createElement(this.svgElementName);return Xe.setAttribute("points",we),Xe.setAttribute("stroke-width",B.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),Se.appendChild(Xe),this.container.append(Se),this._createPopup(Xe,B),this.container}}]),F}(x),ae=function(R){a(F,R);var K=h(F);function F(W){var B;return J(this,F),(B=K.call(this,W)).containerClassName="polygonAnnotation",B.svgElementName="svg:polygon",B}return Y(F)}(j),E=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),F}(x),A=function(R){a(F,R);var K=h(F);function F(W){var B,V,z,ce;J(this,F);var Se=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return(ce=K.call(this,W,{isRenderable:Se,ignoreBorder:!0})).containerClassName="inkAnnotation",ce.svgElementName="svg:polyline",ce}return Y(F,[{key:"render",value:function(){this.container.className=this.containerClassName;var Ce,B=this.data,V=f(B.rect),Se=this.svgFactory.create(V.width,V.height),we=l(B.inkLists);try{for(we.s();!(Ce=we.n()).done;){var Be,We=[],De=l(Ce.value);try{for(De.s();!(Be=De.n()).done;){var Xe=Be.value,je=B.rect[3]-Xe.y;We.push("".concat(Xe.x-B.rect[0],",").concat(je))}}catch(Ve){De.e(Ve)}finally{De.f()}We=We.join(" ");var Ge=this.svgFactory.createElement(this.svgElementName);Ge.setAttribute("points",We),Ge.setAttribute("stroke-width",B.borderStyle.width||1),Ge.setAttribute("stroke","transparent"),Ge.setAttribute("fill","transparent"),this._createPopup(Ge,B),Se.appendChild(Ge)}}catch(Ve){we.e(Ve)}finally{we.f()}return this.container.append(Se),this.container}}]),F}(x),$=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return Y(F,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),F}(x),q=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return Y(F,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),F}(x),Z=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return Y(F,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),F}(x),le=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return Y(F,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),F}(x),fe=function(R){a(F,R);var K=h(F);function F(W){var B,V,z;J(this,F);var ce=!!(W.data.hasPopup||null!==(B=W.data.titleObj)&&void 0!==B&&B.str||null!==(V=W.data.contentsObj)&&void 0!==V&&V.str||null!==(z=W.data.richText)&&void 0!==z&&z.str);return K.call(this,W,{isRenderable:ce,ignoreBorder:!0})}return Y(F,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),F}(x),se=function(R){a(F,R);var K=h(F);function F(W){var B,V;J(this,F);var z=(V=K.call(this,W,{isRenderable:!0})).data.file,ce=z.filename,Se=z.content;return V.filename=(0,u.getFilenameFromUrl)(ce),V.content=Se,null===(B=V.linkService.eventBus)||void 0===B||B.dispatch("fileattachmentannotation",{source:v(V),filename:ce,content:Se}),V}return Y(F,[{key:"render",value:function(){var B,V;this.container.className="fileAttachmentAnnotation";var z=document.createElement("div");return z.style.height=this.container.style.height,z.style.width=this.container.style.width,z.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(B=this.data.titleObj)&&void 0!==B&&B.str||null!==(V=this.data.contentsObj)&&void 0!==V&&V.str||this.data.richText)&&this._createPopup(z,this.data),this.container.appendChild(z),this.container}},{key:"_download",value:function(){var B;null===(B=this.downloadManager)||void 0===B||B.openOrDownloadData(this.container,this.content,this.filename)}}]),F}(x);function ge(R,K){if(K){var W,F=l(K);try{for(F.s();!(W=F.n()).done;){var B=S(W.value,2),z=B[1],ce=R.querySelector('[data-annotation-id="'.concat(B[0],'"]'));if(ce){var Se=ce.firstChild;"CANVAS"===Se.nodeName?ce.replaceChild(z,Se):ce.insertBefore(z,Se)}}}catch(we){F.e(we)}finally{F.f()}K.clear()}}i.AnnotationLayer=function(){function R(){J(this,R)}return Y(R,null,[{key:"render",value:function(F){var z,W=[],B=[],V=l(F.annotations);try{for(V.s();!(z=V.n()).done;){var ce=z.value;if(ce){var Se=f(ce.rect);if(!(Se.width<=0||Se.height<=0)){if(ce.annotationType===o.AnnotationType.POPUP){B.push(ce);continue}W.push(ce)}}}}catch(Ne){V.e(Ne)}finally{V.f()}B.length&&W.push.apply(W,B);for(var Fe=F.div,We=0,De=W;We<De.length;We++){var Be=De[We],Xe=p.create({data:Be,layer:Fe,page:F.page,viewport:F.viewport,linkService:F.linkService,downloadManager:F.downloadManager,imageResourcesPath:F.imageResourcesPath||"",renderForms:!1!==F.renderForms,svgFactory:new u.DOMSVGFactory,annotationStorage:F.annotationStorage||new g.AnnotationStorage,enableScripting:F.enableScripting,hasJSActions:F.hasJSActions,fieldObjects:F.fieldObjects,mouseState:F.mouseState||{isDown:!1}});if(Xe.isRenderable){var Le=Xe.render();if(Be.hidden&&(Le.style.visibility="hidden"),Array.isArray(Le)){var Ge,je=l(Le);try{for(je.s();!(Ge=je.n()).done;)Fe.appendChild(Ge.value)}catch(Ne){je.e(Ne)}finally{je.f()}}else Xe instanceof Ae?Fe.prepend(Le):Fe.appendChild(Le)}}N(this,R,ge).call(this,Fe,F.annotationCanvasMap)}},{key:"update",value:function(F){var Ce,Fe,De,W=F.page,V=F.annotations,z=F.annotationCanvasMap,ce=F.div,Se=F.viewport.transform,we="matrix(".concat(Se.join(","),")"),We=l(V);try{for(We.s();!(De=We.n()).done;){var Be=De.value,Xe=ce.querySelectorAll('[data-annotation-id="'.concat(Be.id,'"]'));if(Xe){var je,Le=l(Xe);try{for(Le.s();!(je=Le.n()).done;){var Ge=je.value;if(Be.hasOwnCanvas){var Ve=o.Util.normalizeRect([Be.rect[0],W.view[3]-Be.rect[1]+W.view[1],Be.rect[2],W.view[3]-Be.rect[3]+W.view[1]]);if(!Fe){Ce=Math.abs(Se[0]||Se[1]);for(var Ne=Se.slice(),Ye=0;Ye<4;Ye++)Ne[Ye]=Math.sign(Ne[Ye]);Fe="matrix(".concat(Ne.join(","),")")}var Je=Ve[0]*Ce,Ze=Ve[1]*Ce;Ge.style.left="".concat(Je,"px"),Ge.style.top="".concat(Ze,"px"),Ge.style.transformOrigin="".concat(-Je,"px ").concat(-Ze,"px"),Ge.style.transform=Fe}else Ge.style.transform=we}}catch(et){Le.e(et)}finally{Le.f()}}}}catch(et){We.e(et)}finally{We.f()}N(this,R,ge).call(this,ce,z),ce.hidden=!1}}]),R}()},(y,i)=>{"use strict";function t(_,M){return function w(_){if(Array.isArray(_))return _}(_)||function g(_,M){var I=null==_?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(null!=I){var d,h,D=[],s=!0,a=!1;try{for(I=I.call(_);!(s=(d=I.next()).done)&&(D.push(d.value),!M||D.length!==M);s=!0);}catch(T){a=!0,h=T}finally{try{!s&&null!=I.return&&I.return()}finally{if(a)throw h}}return D}}(_,M)||function o(_,M){if(_){if("string"==typeof _)return u(_,M);var I=Object.prototype.toString.call(_).slice(8,-1);if("Object"===I&&_.constructor&&(I=_.constructor.name),"Map"===I||"Set"===I)return Array.from(_);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return u(_,M)}}(_,M)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(_,M){(null==M||M>_.length)&&(M=_.length);for(var I=0,D=new Array(M);I<M;I++)D[I]=_[I];return D}function N(_,M){for(var I=0;I<M.length;I++){var D=M[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}function O(_){return Math.floor(255*Math.max(0,Math.min(1,_))).toString(16).padStart(2,"0")}Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0,i.ColorConverters=function(){function _(){!function L(_,M){if(!(_ instanceof M))throw new TypeError("Cannot call a class as a function")}(this,_)}return function X(_,M,I){M&&N(_.prototype,M),I&&N(_,I),Object.defineProperty(_,"prototype",{writable:!1})}(_,null,[{key:"CMYK_G",value:function(I){var D=t(I,4);return["G",1-Math.min(1,.3*D[0]+.59*D[2]+.11*D[1]+D[3])]}},{key:"G_CMYK",value:function(I){return["CMYK",0,0,0,1-t(I,1)[0]]}},{key:"G_RGB",value:function(I){var s=t(I,1)[0];return["RGB",s,s,s]}},{key:"G_HTML",value:function(I){var a=O(t(I,1)[0]);return"#".concat(a).concat(a).concat(a)}},{key:"RGB_G",value:function(I){var D=t(I,3);return["G",.3*D[0]+.59*D[1]+.11*D[2]]}},{key:"RGB_HTML",value:function(I){var D=t(I,3),a=D[1],d=D[2],h=O(D[0]),T=O(a),v=O(d);return"#".concat(h).concat(T).concat(v)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(I){var D=t(I,4),a=D[1],d=D[2],h=D[3];return["RGB",1-Math.min(1,D[0]+h),1-Math.min(1,d+h),1-Math.min(1,a+h)]}},{key:"CMYK_HTML",value:function(I){return this.RGB_HTML(this.CMYK_RGB(I))}},{key:"RGB_CMYK",value:function(I){var D=t(I,3),h=1-D[0],T=1-D[1],v=1-D[2];return["CMYK",h,T,v,Math.min(h,T,v)]}}]),_}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var r=t(171);function o(I,D){return function w(I){if(Array.isArray(I))return I}(I)||function g(I,D){var s=null==I?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(null!=s){var T,v,a=[],d=!0,h=!1;try{for(s=s.call(I);!(d=(T=s.next()).done)&&(a.push(T.value),!D||a.length!==D);d=!0);}catch(C){h=!0,v=C}finally{try{!d&&null!=s.return&&s.return()}finally{if(h)throw v}}return a}}(I,D)||N(I,D)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(I,D){var s=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!s){if(Array.isArray(I)||(s=N(I))||D&&I&&"number"==typeof I.length){s&&(I=s);var a=0,d=function(){};return{s:d,n:function(){return a>=I.length?{done:!0}:{done:!1,value:I[a++]}},e:function(m){throw m},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,h=!0,T=!1;return{s:function(){s=s.call(I)},n:function(){var m=s.next();return h=m.done,m},e:function(m){T=!0,v=m},f:function(){try{!h&&null!=s.return&&s.return()}finally{if(T)throw v}}}}function N(I,D){if(I){if("string"==typeof I)return X(I,D);var s=Object.prototype.toString.call(I).slice(8,-1);if("Object"===s&&I.constructor&&(s=I.constructor.name),"Map"===s||"Set"===s)return Array.from(I);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return X(I,D)}}function X(I,D){(null==D||D>I.length)&&(D=I.length);for(var s=0,a=new Array(D);s<D;s++)a[s]=I[s];return a}function k(I,D){for(var s=0;s<D.length;s++){var a=D[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(I,a.key,a)}}i.XfaLayer=function(){function I(){!function O(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I)}return function _(I,D,s){D&&k(I.prototype,D),s&&k(I,s),Object.defineProperty(I,"prototype",{writable:!1})}(I,null,[{key:"setupStorage",value:function(s,a,d,h,T){var v=h.getValue(a,{value:null});switch(d.name){case"textarea":if(null!==v.value&&(s.textContent=v.value),"print"===T)break;s.addEventListener("input",function(S){h.setValue(a,{value:S.target.value})});break;case"input":if("radio"===d.attributes.type||"checkbox"===d.attributes.type){if(v.value===d.attributes.xfaOn?s.setAttribute("checked",!0):v.value===d.attributes.xfaOff&&s.removeAttribute("checked"),"print"===T)break;s.addEventListener("change",function(S){h.setValue(a,{value:S.target.getAttribute(S.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==v.value&&s.setAttribute("value",v.value),"print"===T)break;s.addEventListener("input",function(S){h.setValue(a,{value:S.target.value})})}break;case"select":if(null!==v.value){var m,C=L(d.children);try{for(C.s();!(m=C.n()).done;){var l=m.value;l.attributes.value===v.value&&(l.attributes.selected=!0)}}catch(S){C.e(S)}finally{C.f()}}s.addEventListener("input",function(S){var c=S.target.options;h.setValue(a,{value:-1===c.selectedIndex?"":c[c.selectedIndex].value})})}}},{key:"setAttributes",value:function(s){var a=s.html,d=s.element,h=s.storage,T=void 0===h?null:h,v=s.intent,C=s.linkService,m=d.attributes,l=a instanceof HTMLAnchorElement;"radio"===m.type&&(m.name="".concat(m.name,"-").concat(v));for(var S=0,c=Object.entries(m);S<c.length;S++){var P=o(c[S],2),G=P[0],H=P[1];if(null!=H&&"dataId"!==G)if("style"!==G)if("textContent"===G)a.textContent=H;else if("class"===G)H.length&&a.setAttribute(G,H.join(" "));else{if(l&&("href"===G||"newWindow"===G))continue;a.setAttribute(G,H)}else Object.assign(a.style,H)}l&&C.addLinkAttributes(a,m.href,m.newWindow),T&&m.dataId&&this.setupStorage(a,m.dataId,d,T)}},{key:"render",value:function(s){var a=s.annotationStorage,d=s.linkService,h=s.xfaHtml,T=s.intent||"display",v=document.createElement(h.name);h.attributes&&this.setAttributes({html:v,element:h,intent:T,linkService:d});var C=[[h,-1,v]],m=s.div;if(m.appendChild(v),s.viewport){var l="matrix(".concat(s.viewport.transform.join(","),")");m.style.transform=l}"richText"!==T&&m.setAttribute("class","xfaLayer xfaFont");for(var S=[];C.length>0;){var c,P=o(C[C.length-1],3),G=P[0],te=P[2];if(P[1]+1!==G.children.length){var J=G.children[++C[C.length-1][1]];if(null!==J){var oe=J.name;if("#text"===oe){var Y=document.createTextNode(J.value);S.push(Y),te.appendChild(Y);continue}var re=void 0;if(re=null!=J&&null!==(c=J.attributes)&&void 0!==c&&c.xmlns?document.createElementNS(J.attributes.xmlns,oe):document.createElement(oe),te.appendChild(re),J.attributes&&this.setAttributes({html:re,element:J,storage:a,intent:T,linkService:d}),J.children&&J.children.length>0)C.push([J,-1,re]);else if(J.value){var ee=document.createTextNode(J.value);r.XfaText.shouldBuildText(oe)&&S.push(ee),re.appendChild(ee)}}}else C.pop()}var p,f=L(m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(f.s();!(p=f.n()).done;)p.value.setAttribute("readOnly",!0)}catch(U){f.e(U)}finally{f.f()}return{textDivs:S}}},{key:"update",value:function(s){var a="matrix(".concat(s.viewport.transform.join(","),")");s.div.style.transform=a,s.div.hidden=!1}}]),I}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.renderTextLayer=function C(m){var l=new v({textContent:m.textContent,textContentStream:m.textContentStream,container:m.container,viewport:m.viewport,textDivs:m.textDivs,textContentItemsStr:m.textContentItemsStr,enhanceTextSelection:m.enhanceTextSelection});return l._render(m.timeout),l};var r=t(1);function u(m,l){for(var S=0;S<l.length;S++){var c=l[S];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function w(m,l){var S=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!S){if(Array.isArray(m)||(S=function L(m,l){if(m){if("string"==typeof m)return N(m,l);var S=Object.prototype.toString.call(m).slice(8,-1);if("Object"===S&&m.constructor&&(S=m.constructor.name),"Map"===S||"Set"===S)return Array.from(m);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return N(m,l)}}(m))||l&&m&&"number"==typeof m.length){S&&(m=S);var c=0,P=function(){};return{s:P,n:function(){return c>=m.length?{done:!0}:{done:!1,value:m[c++]}},e:function(oe){throw oe},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var te,G=!0,H=!1;return{s:function(){S=S.call(m)},n:function(){var oe=S.next();return G=oe.done,oe},e:function(oe){H=!0,te=oe},f:function(){try{!G&&null!=S.return&&S.return()}finally{if(H)throw te}}}}function N(m,l){(null==l||l>m.length)&&(l=m.length);for(var S=0,c=new Array(l);S<l;S++)c[S]=m[S];return c}var O=30,_=new Map,M=/^\s+$/g;function D(m,l,S,c){var P=document.createElement("span"),G=m._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==l.str,hasEOL:l.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==l.str,hasEOL:l.hasEOL};m._textDivs.push(P);var H=r.Util.transform(m._viewport.transform,l.transform),te=Math.atan2(H[1],H[0]),J=S[l.fontName];J.vertical&&(te+=Math.PI/2);var re,ee,oe=Math.hypot(H[2],H[3]),Y=oe*function I(m,l){var S=_.get(m);if(S)return S;l.save(),l.font="".concat(O,"px ").concat(m);var c=l.measureText(""),P=c.fontBoundingBoxAscent,G=Math.abs(c.fontBoundingBoxDescent);if(P){l.restore();var H=P/(P+G);return _.set(m,H),H}l.strokeStyle="red",l.clearRect(0,0,O,O),l.strokeText("g",0,0);var te=l.getImageData(0,0,O,O).data;G=0;for(var J=te.length-1-3;J>=0;J-=4)if(te[J]>0){G=Math.ceil(J/4/O);break}l.clearRect(0,0,O,O),l.strokeText("A",0,O),P=0;for(var oe=0,Y=(te=l.getImageData(0,0,O,O).data).length;oe<Y;oe+=4)if(te[oe]>0){P=O-Math.floor(oe/4/O);break}if(l.restore(),P){var re=P/(P+G);return _.set(m,re),re}return _.set(m,.8),.8}(J.fontFamily,c);0===te?(re=H[4],ee=H[5]-Y):(re=H[4]+Y*Math.sin(te),ee=H[5]-Y*Math.cos(te)),P.style.left="".concat(re,"px"),P.style.top="".concat(ee,"px"),P.style.fontSize="".concat(oe,"px"),P.style.fontFamily=J.fontFamily,P.setAttribute("role","presentation"),P.textContent=l.str,P.dir=l.dir,m._fontInspectorEnabled&&(P.dataset.fontName=l.fontName),0!==te&&(G.angle=te*(180/Math.PI));var f=!1;if(l.str.length>1||m._enhanceTextSelection&&M.test(l.str))f=!0;else if(" "!==l.str&&l.transform[0]!==l.transform[3]){var p=Math.abs(l.transform[0]),x=Math.abs(l.transform[3]);p!==x&&Math.max(p,x)/Math.min(p,x)>1.5&&(f=!0)}if(f&&(G.canvasWidth=J.vertical?l.height*m._viewport.scale:l.width*m._viewport.scale),m._textDivProperties.set(P,G),m._textContentStream&&m._layoutText(P),m._enhanceTextSelection&&G.hasText){var U=1,ie=0;0!==te&&(U=Math.cos(te),ie=Math.sin(te));var Ee,pe,ye=(J.vertical?l.height:l.width)*m._viewport.scale,ne=oe;pe=0!==te?r.Util.getAxialAlignedBoundingBox([0,0,ye,ne],Ee=[U,ie,-ie,U,re,ee]):[re,ee,re+ye,ee+ne],m._bounds.push({left:pe[0],top:pe[1],right:pe[2],bottom:pe[3],div:P,size:[ye,ne],m:Ee})}}function s(m){if(!m._canceled){var l=m._textDivs,S=m._capability,c=l.length;if(c>1e5)return m._renderingDone=!0,void S.resolve();if(!m._textContentStream)for(var P=0;P<c;P++)m._layoutText(l[P]);m._renderingDone=!0,S.resolve()}}function a(m,l,S){for(var c=0,P=0;P<S;P++){var G=m[l++];G>0&&(c=c?Math.min(G,c):G)}return c}function d(m){for(var l=m._bounds,S=m._viewport,c=function h(m,l,S){var c=S.map(function(f,p){return{x1:f.left,y1:f.top,x2:f.right,y2:f.bottom,index:p,x1New:void 0,x2New:void 0}});T(m,c);var H,P=new Array(S.length),G=w(c);try{for(G.s();!(H=G.n()).done;){var te=H.value;P[te.index]={left:te.x1New,top:0,right:te.x2New,bottom:0}}}catch(f){G.e(f)}finally{G.f()}S.map(function(f,p){var x=P[p],U=c[p];U.x1=f.top,U.y1=m-x.right,U.x2=f.bottom,U.y2=m-x.left,U.index=p,U.x1New=void 0,U.x2New=void 0}),T(l,c);var Y,oe=w(c);try{for(oe.s();!(Y=oe.n()).done;){var re=Y.value,ee=re.index;P[ee].top=re.x1New,P[ee].bottom=re.x2New}}catch(f){oe.e(f)}finally{oe.f()}return P}(S.width,S.height,l),P=0;P<c.length;P++){var G=l[P].div,H=m._textDivProperties.get(G);if(0!==H.angle){for(var te=c[P],J=l[P],oe=J.m,Y=oe[0],re=oe[1],ee=[[0,0],[0,J.size[1]],[J.size[0],0],J.size],f=new Float64Array(64),p=0,x=ee.length;p<x;p++){var U=r.Util.applyTransform(ee[p],oe);f[p+0]=Y&&(te.left-U[0])/Y,f[p+4]=re&&(te.top-U[1])/re,f[p+8]=Y&&(te.right-U[0])/Y,f[p+12]=re&&(te.bottom-U[1])/re,f[p+16]=re&&(te.left-U[0])/-re,f[p+20]=Y&&(te.top-U[1])/Y,f[p+24]=re&&(te.right-U[0])/-re,f[p+28]=Y&&(te.bottom-U[1])/Y,f[p+32]=Y&&(te.left-U[0])/-Y,f[p+36]=re&&(te.top-U[1])/-re,f[p+40]=Y&&(te.right-U[0])/-Y,f[p+44]=re&&(te.bottom-U[1])/-re,f[p+48]=re&&(te.left-U[0])/re,f[p+52]=Y&&(te.top-U[1])/-Y,f[p+56]=re&&(te.right-U[0])/re,f[p+60]=Y&&(te.bottom-U[1])/-Y}var ie=1+Math.min(Math.abs(Y),Math.abs(re));H.paddingLeft=a(f,32,16)/ie,H.paddingTop=a(f,48,16)/ie,H.paddingRight=a(f,0,16)/ie,H.paddingBottom=a(f,16,16)/ie,m._textDivProperties.set(G,H)}else H.paddingLeft=l[P].left-c[P].left,H.paddingTop=l[P].top-c[P].top,H.paddingRight=c[P].right-l[P].right,H.paddingBottom=c[P].bottom-l[P].bottom,m._textDivProperties.set(G,H)}}function T(m,l){l.sort(function(he,Ae){return he.x1-Ae.x1||he.index-Ae.index});var G,c=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],P=w(l);try{for(P.s();!(G=P.n()).done;){for(var H=G.value,te=0;te<c.length&&c[te].end<=H.y1;)te++;for(var J=c.length-1;J>=0&&c[J].start>=H.y2;)J--;var oe=void 0,Y=void 0,re=void 0,ee=void 0,f=-1/0;for(re=te;re<=J;re++){var p;(p=(Y=(oe=c[re]).boundary).x2>H.x1?Y.index>H.index?Y.x1New:H.x1:void 0===Y.x2New?(Y.x2+H.x1)/2:Y.x2New)>f&&(f=p)}for(H.x1New=f,re=te;re<=J;re++)void 0===(Y=(oe=c[re]).boundary).x2New?Y.x2>H.x1?Y.index>H.index&&(Y.x2New=Y.x2):Y.x2New=f:Y.x2New>f&&(Y.x2New=Math.max(f,Y.x2));var x=[],U=null;for(re=te;re<=J;re++){var ie=(Y=(oe=c[re]).boundary).x2>H.x2?Y:H;U===ie?x[x.length-1].end=oe.end:(x.push({start:oe.start,end:oe.end,boundary:ie}),U=ie)}for(c[te].start<H.y1&&(x[0].start=H.y1,x.unshift({start:c[te].start,end:H.y1,boundary:c[te].boundary})),H.y2<c[J].end&&(x[x.length-1].end=H.y2,x.push({start:H.y2,end:c[J].end,boundary:c[J].boundary})),re=te;re<=J;re++)if(void 0===(Y=(oe=c[re]).boundary).x2New){var ye=!1;for(ee=te-1;!ye&&ee>=0&&c[ee].start>=Y.y1;ee--)ye=c[ee].boundary===Y;for(ee=J+1;!ye&&ee<c.length&&c[ee].end<=Y.y2;ee++)ye=c[ee].boundary===Y;for(ee=0;!ye&&ee<x.length;ee++)ye=x[ee].boundary===Y;ye||(Y.x2New=f)}Array.prototype.splice.apply(c,[te,J-te+1].concat(x))}}catch(he){P.e(he)}finally{P.f()}for(var ne=0,Ee=c;ne<Ee.length;ne++){var _e=Ee[ne].boundary;void 0===_e.x2New&&(_e.x2New=Math.max(m,_e.x2))}}var v=function(){function m(l){var S,c=this,P=l.textContent,G=l.textContentStream,H=l.container,te=l.viewport,J=l.textDivs,oe=l.textContentItemsStr,Y=l.enhanceTextSelection;(function o(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")})(this,m),this._textContent=P,this._textContentStream=G,this._container=H,this._document=H.ownerDocument,this._viewport=te,this._textDivs=J||[],this._textContentItemsStr=oe||[],this._enhanceTextSelection=!!Y,this._fontInspectorEnabled=!(null===(S=globalThis.FontInspector)||void 0===S||!S.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){c._enhanceTextSelection||(c._textDivProperties=null),c._layoutTextCtx&&(c._layoutTextCtx.canvas.width=0,c._layoutTextCtx.canvas.height=0,c._layoutTextCtx=null)}).catch(function(){})}return function g(m,l,S){l&&u(m.prototype,l),S&&u(m,S),Object.defineProperty(m,"prototype",{writable:!1})}(m,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(S,c){for(var P=0,G=S.length;P<G;P++)if(void 0!==S[P].str)this._textContentItemsStr.push(S[P].str),D(this,S[P],c,this._layoutTextCtx);else if("beginMarkedContentProps"===S[P].type||"beginMarkedContent"===S[P].type){var H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==S[P].id&&this._container.setAttribute("id","".concat(S[P].id)),H.appendChild(this._container)}else"endMarkedContent"===S[P].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(S){var c=this._textDivProperties.get(S),P="";if(0!==c.canvasWidth&&c.hasText){var G=S.style,H=G.fontSize,te=G.fontFamily;(H!==this._layoutTextLastFontSize||te!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(H," ").concat(te),this._layoutTextLastFontSize=H,this._layoutTextLastFontFamily=te);var oe=this._layoutTextCtx.measureText(S.textContent).width;if(oe>0){var Y=c.canvasWidth/oe;this._enhanceTextSelection&&(c.scale=Y),P="scaleX(".concat(Y,")")}}if(0!==c.angle&&(P="rotate(".concat(c.angle,"deg) ").concat(P)),P.length>0&&(this._enhanceTextSelection&&(c.originalTransform=P),S.style.transform=P),c.hasText&&this._container.appendChild(S),c.hasEOL){var re=document.createElement("br");re.setAttribute("role","presentation"),this._container.appendChild(re)}}},{key:"_render",value:function(){var S=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=(0,r.createPromiseCapability)(),G=Object.create(null),H=this._document.createElement("canvas");if(H.height=H.width=O,this._layoutTextCtx=H.getContext("2d",{alpha:!1}),this._textContent){var te=this._textContent.items,J=this._textContent.styles;this._processItems(te,J),P.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var oe=function Y(){S._reader.read().then(function(re){var ee=re.value;re.done?P.resolve():(Object.assign(G,ee.styles),S._processItems(ee.items,G),Y())},P.reject)};this._reader=this._textContentStream.getReader(),oe()}P.promise.then(function(){G=null,c?S._renderTimer=setTimeout(function(){s(S),S._renderTimer=null},c):s(S)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var S=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var c=[],P=[],G=0,H=this._textDivs.length;G<H;G++){var te=this._textDivs[G],J=this._textDivProperties.get(te);!J.hasText||(S?(c.length=0,P.length=0,J.originalTransform&&c.push(J.originalTransform),J.paddingTop>0?(P.push("".concat(J.paddingTop,"px")),c.push("translateY(".concat(-J.paddingTop,"px)"))):P.push(0),P.push(J.paddingRight>0?"".concat(J.paddingRight/J.scale,"px"):0),P.push(J.paddingBottom>0?"".concat(J.paddingBottom,"px"):0),J.paddingLeft>0?(P.push("".concat(J.paddingLeft/J.scale,"px")),c.push("translateX(".concat(-J.paddingLeft/J.scale,"px)"))):P.push(0),te.style.padding=P.join(" "),c.length&&(te.style.transform=c.join(" "))):(te.style.padding=null,te.style.transform=J.originalTransform))}}}}]),m}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var r=t(1),o=t(158),u=t(3);function g(re){return function N(re){if(Array.isArray(re))return D(re)}(re)||function L(re){if(typeof Symbol<"u"&&null!=re[Symbol.iterator]||null!=re["@@iterator"])return Array.from(re)}(re)||I(re)||function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(re,ee){return function _(re){if(Array.isArray(re))return re}(re)||function k(re,ee){var f=null==re?null:typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(null!=f){var ie,ye,p=[],x=!0,U=!1;try{for(f=f.call(re);!(x=(ie=f.next()).done)&&(p.push(ie.value),!ee||p.length!==ee);x=!0);}catch(ne){U=!0,ye=ne}finally{try{!x&&null!=f.return&&f.return()}finally{if(U)throw ye}}return p}}(re,ee)||I(re,ee)||function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(re,ee){var f=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!f){if(Array.isArray(re)||(f=I(re))||ee&&re&&"number"==typeof re.length){f&&(re=f);var p=0,x=function(){};return{s:x,n:function(){return p>=re.length?{done:!0}:{done:!1,value:re[p++]}},e:function(Ee){throw Ee},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,U=!0,ie=!1;return{s:function(){f=f.call(re)},n:function(){var Ee=f.next();return U=Ee.done,Ee},e:function(Ee){ie=!0,ye=Ee},f:function(){try{!U&&null!=f.return&&f.return()}finally{if(ie)throw ye}}}}function I(re,ee){if(re){if("string"==typeof re)return D(re,ee);var f=Object.prototype.toString.call(re).slice(8,-1);if("Object"===f&&re.constructor&&(f=re.constructor.name),"Map"===f||"Set"===f)return Array.from(re);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return D(re,ee)}}function D(re,ee){(null==ee||ee>re.length)&&(ee=re.length);for(var f=0,p=new Array(ee);f<ee;f++)p[f]=re[f];return p}function s(re,ee){for(var f=0;f<ee.length;f++){var p=ee[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(re,p.key,p)}}function a(re,ee,f){return ee&&s(re.prototype,ee),f&&s(re,f),Object.defineProperty(re,"prototype",{writable:!1}),re}function d(re,ee){if(!(re instanceof ee))throw new TypeError("Cannot call a class as a function")}var h=a(function re(){d(this,re),(0,r.unreachable)("Not implemented: SVGGraphics")});i.SVGGraphics=h;var v=function(ee){if(Number.isInteger(ee))return ee.toString();var f=ee.toFixed(10),p=f.length-1;if("0"!==f[p])return f;do{p--}while("0"===f[p]);return f.substring(0,"."===f[p]?p:p+1)},C=function(ee){if(0===ee[4]&&0===ee[5]){if(0===ee[1]&&0===ee[2])return 1===ee[0]&&1===ee[3]?"":"scale(".concat(v(ee[0])," ").concat(v(ee[3]),")");if(ee[0]===ee[3]&&ee[1]===-ee[2]){var f=180*Math.acos(ee[0])/Math.PI;return"rotate(".concat(v(f),")")}}else if(1===ee[0]&&0===ee[1]&&0===ee[2]&&1===ee[3])return"translate(".concat(v(ee[4])," ").concat(v(ee[5]),")");return"matrix(".concat(v(ee[0])," ").concat(v(ee[1])," ").concat(v(ee[2])," ").concat(v(ee[3])," ").concat(v(ee[4])," ")+"".concat(v(ee[5]),")")},m_fontStyle="normal",m_fontWeight="normal",m_fillColor="#000000",c=["butt","round","square"],P=["miter","round","bevel"],G=function(ee){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&typeof Blob<"u"&&!p)return URL.createObjectURL(new Blob([ee],{type:f}));for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",U="data:".concat(f,";base64,"),ie=0,ye=ee.length;ie<ye;ie+=3){var ne=255&ee[ie],Ee=255&ee[ie+1],pe=255&ee[ie+2],_e=ne>>2,he=(3&ne)<<4|Ee>>4,Ae=ie+1<ye?(15&Ee)<<2|pe>>6:64,Pe=ie+2<ye?63&pe:64;U+=x[_e]+x[he]+x[Ae]+x[Pe]}return U},H=function(){for(var re=new Uint8Array([137,80,78,71,13,10,26,10]),f=new Int32Array(256),p=0;p<256;p++){for(var x=p,U=0;U<8;U++)x=1&x?3988292384^x>>1&2147483647:x>>1&2147483647;f[p]=x}function ye(he,Ae,Pe,Oe){var Re=Oe,Ie=Ae.length;Pe[Re]=Ie>>24&255,Pe[Re+1]=Ie>>16&255,Pe[Re+2]=Ie>>8&255,Pe[Re+3]=255&Ie,Pe[Re+=4]=255&he.charCodeAt(0),Pe[Re+1]=255&he.charCodeAt(1),Pe[Re+2]=255&he.charCodeAt(2),Pe[Re+3]=255&he.charCodeAt(3),Pe.set(Ae,Re+=4);var Me=function ie(he,Ae,Pe){for(var Oe=-1,Re=Ae;Re<Pe;Re++)Oe=Oe>>>8^f[255&(Oe^he[Re])];return-1^Oe}(Pe,Oe+4,Re+=Ae.length);Pe[Re]=Me>>24&255,Pe[Re+1]=Me>>16&255,Pe[Re+2]=Me>>8&255,Pe[Re+3]=255&Me}function pe(he){var Ae=he.length,Pe=65535,Oe=Math.ceil(Ae/Pe),Re=new Uint8Array(2+Ae+5*Oe+4),Ie=0;Re[Ie++]=120,Re[Ie++]=156;for(var Me=0;Ae>Pe;)Re[Ie++]=0,Re[Ie++]=255,Re[Ie++]=255,Re[Ie++]=0,Re[Ie++]=0,Re.set(he.subarray(Me,Me+Pe),Ie),Ie+=Pe,Me+=Pe,Ae-=Pe;Re[Ie++]=1,Re[Ie++]=255&Ae,Re[Ie++]=Ae>>8&255,Re[Ie++]=255&~Ae,Re[Ie++]=(65535&~Ae)>>8&255,Re.set(he.subarray(Me),Ie),Ie+=he.length-Me;var j=function ne(he,Ae,Pe){for(var Oe=1,Re=0,Ie=Ae;Ie<Pe;++Ie)Re=(Re+(Oe=(Oe+(255&he[Ie]))%65521))%65521;return Re<<16|Oe}(he,0,he.length);return Re[Ie++]=j>>24&255,Re[Ie++]=j>>16&255,Re[Ie++]=j>>8&255,Re[Ie++]=255&j,Re}return function(Ae,Pe,Oe){return function _e(he,Ae,Pe,Oe){var Me,j,ae,Re=he.width,Ie=he.height,E=he.data;switch(Ae){case r.ImageKind.GRAYSCALE_1BPP:j=0,Me=1,ae=Re+7>>3;break;case r.ImageKind.RGB_24BPP:j=2,Me=8,ae=3*Re;break;case r.ImageKind.RGBA_32BPP:j=6,Me=8,ae=4*Re;break;default:throw new Error("invalid format")}for(var A=new Uint8Array((1+ae)*Ie),$=0,q=0,Z=0;Z<Ie;++Z)A[$++]=0,A.set(E.subarray(q,q+ae),$),q+=ae,$+=ae;if(Ae===r.ImageKind.GRAYSCALE_1BPP&&Oe){$=0;for(var le=0;le<Ie;le++){$++;for(var fe=0;fe<ae;fe++)A[$++]^=255}}var se=new Uint8Array([Re>>24&255,Re>>16&255,Re>>8&255,255&Re,Ie>>24&255,Ie>>16&255,Ie>>8&255,255&Ie,Me,j,0,0,0]),ke=function Ee(he){if(!u.isNodeJS)return pe(he);try{var Ae;Ae=parseInt(process.versions.node)>=8?he:Buffer.from(he);var Pe=__webpack_require__(7324).deflateSync(Ae,{level:9});return Pe instanceof Uint8Array?Pe:new Uint8Array(Pe)}catch(Oe){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return pe(he)}(A),R=new Uint8Array(re.length+36+se.length+ke.length),K=0;return R.set(re,K),ye("IHDR",se,R,K+=re.length),ye("IDATA",ke,R,K+=12+se.length),K+=12+ke.length,ye("IEND",new Uint8Array(0),R,K),G(R,"image/png",Pe)}(Ae,void 0===Ae.kind?r.ImageKind.GRAYSCALE_1BPP:Ae.kind,Pe,Oe)}}(),te=function(){function re(){d(this,re),this.fontSizeScale=1,this.fontWeight=m_fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return a(re,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(f,p){this.x=f,this.y=p}}]),re}(),J=0,oe=0,Y=0;i.SVGGraphics=h=function(){function re(ee,f){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var x in d(this,re),this.svgFactory=new o.DOMSVGFactory,this.current=new te,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ee,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[x]]=x}return a(re,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var f=this.current;this.extraStack.push(f),this.current=f.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(f){this.save(),this.executeOpTree(f),this.restore()}},{key:"loadDependencies",value:function(f){for(var p=this,x=f.fnArray,U=f.argsArray,ie=0,ye=x.length;ie<ye;ie++)if(x[ie]===r.OPS.dependency){var Ee,ne=M(U[ie]);try{var pe=function(){var he=Ee.value,Ae=he.startsWith("g_")?p.commonObjs:p.objs,Pe=new Promise(function(Oe){Ae.get(he,Oe)});p.current.dependencies.push(Pe)};for(ne.s();!(Ee=ne.n()).done;)pe()}catch(_e){ne.e(_e)}finally{ne.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(f,p,x,U,ie,ye){this.transformMatrix=r.Util.transform(this.transformMatrix,[f,p,x,U,ie,ye]),this.tgrp=null}},{key:"getSVG",value:function(f,p){var x=this;this.viewport=p;var U=this._initialize(p);return this.loadDependencies(f).then(function(){return x.transformMatrix=r.IDENTITY_MATRIX,x.executeOpTree(x.convertOpList(f)),U})}},{key:"convertOpList",value:function(f){for(var p=this._operatorIdMapping,x=f.argsArray,U=f.fnArray,ie=[],ye=0,ne=U.length;ye<ne;ye++){var Ee=U[ye];ie.push({fnId:Ee,fn:p[Ee],args:x[ye]})}return function(ee){var U,f=[],p=[],x=M(ee);try{for(x.s();!(U=x.n()).done;){var ie=U.value;"save"!==ie.fn?"restore"===ie.fn?f=p.pop():f.push(ie):(f.push({fnId:92,fn:"group",items:[]}),p.push(f),f=f[f.length-1].items)}}catch(ye){x.e(ye)}finally{x.f()}return f}(ie)}},{key:"executeOpTree",value:function(f){var x,p=M(f);try{for(p.s();!(x=p.n()).done;){var U=x.value,ie=U.fn,ne=U.args;switch(0|U.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(ne);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(ne[0],ne[1]);break;case r.OPS.setFont:this.setFont(ne);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(ne[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(ne[0],ne[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(ne[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(ne[0]);break;case r.OPS.setHScale:this.setHScale(ne[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]);break;case r.OPS.setTextRise:this.setTextRise(ne[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(ne[0]);break;case r.OPS.setLineWidth:this.setLineWidth(ne[0]);break;case r.OPS.setLineJoin:this.setLineJoin(ne[0]);break;case r.OPS.setLineCap:this.setLineCap(ne[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(ne[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(ne[0],ne[1],ne[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ne[0],ne[1],ne[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(ne);break;case r.OPS.setFillColorN:this.setFillColorN(ne);break;case r.OPS.shadingFill:this.shadingFill(ne[0]);break;case r.OPS.setDash:this.setDash(ne[0],ne[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(ne[0]);break;case r.OPS.setFlatness:this.setFlatness(ne[0]);break;case r.OPS.setGState:this.setGState(ne[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(ne[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ne[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ne[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ne[0],ne[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]);break;case r.OPS.constructPath:this.constructPath(ne[0],ne[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(U.items);break;default:(0,r.warn)("Unimplemented operator ".concat(ie))}}}catch(Ee){p.e(Ee)}finally{p.f()}}},{key:"setWordSpacing",value:function(f){this.current.wordSpacing=f}},{key:"setCharSpacing",value:function(f){this.current.charSpacing=f}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(f,p,x,U,ie,ye){var ne=this.current;ne.textMatrix=ne.lineMatrix=[f,p,x,U,ie,ye],ne.textMatrixScale=Math.hypot(f,p),ne.x=ne.lineX=0,ne.y=ne.lineY=0,ne.xcoords=[],ne.ycoords=[],ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.tspan.setAttributeNS(null,"font-family",ne.fontFamily),ne.tspan.setAttributeNS(null,"font-size","".concat(v(ne.fontSize),"px")),ne.tspan.setAttributeNS(null,"y",v(-ne.y)),ne.txtElement=this.svgFactory.createElement("svg:text"),ne.txtElement.appendChild(ne.tspan)}},{key:"beginText",value:function(){var f=this.current;f.x=f.lineX=0,f.y=f.lineY=0,f.textMatrix=r.IDENTITY_MATRIX,f.lineMatrix=r.IDENTITY_MATRIX,f.textMatrixScale=1,f.tspan=this.svgFactory.createElement("svg:tspan"),f.txtElement=this.svgFactory.createElement("svg:text"),f.txtgrp=this.svgFactory.createElement("svg:g"),f.xcoords=[],f.ycoords=[]}},{key:"moveText",value:function(f,p){var x=this.current;x.x=x.lineX+=f,x.y=x.lineY+=p,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size","".concat(v(x.fontSize),"px")),x.tspan.setAttributeNS(null,"y",v(-x.y))}},{key:"showText",value:function(f){var p=this.current,x=p.font,U=p.fontSize;if(0!==U){var Ie,ie=p.fontSizeScale,ye=p.charSpacing,ne=p.wordSpacing,Ee=p.fontDirection,pe=p.textHScale*Ee,_e=x.vertical,he=_e?1:-1,Ae=x.defaultVMetrics,Pe=U*p.fontMatrix[0],Oe=0,Re=M(f);try{for(Re.s();!(Ie=Re.n()).done;){var Me=Ie.value;if(null!==Me)if("number"!=typeof Me){var j=(Me.isSpace?ne:0)+ye,ae=Me.fontChar,E=void 0,A=void 0,$=Me.width;if(_e){var q=void 0,Z=Me.vmetric||Ae;q=Me.vmetric?Z[1]:.5*$,$=Z?-Z[0]:$,E=(q=-q*Pe)/ie,A=(Oe+Z[2]*Pe)/ie}else E=Oe/ie,A=0;(Me.isInFont||x.missingFile)&&(p.xcoords.push(p.x+E),_e&&p.ycoords.push(-p.y+A),p.tspan.textContent+=ae),Oe+=_e?$*Pe-j*Ee:$*Pe+j*Ee}else Oe+=he*Me*U/1e3;else Oe+=Ee*ne}}catch(R){Re.e(R)}finally{Re.f()}p.tspan.setAttributeNS(null,"x",p.xcoords.map(v).join(" ")),p.tspan.setAttributeNS(null,"y",_e?p.ycoords.map(v).join(" "):v(-p.y)),_e?p.y-=Oe:p.x+=Oe*pe,p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size","".concat(v(p.fontSize),"px")),p.fontStyle!==m_fontStyle&&p.tspan.setAttributeNS(null,"font-style",p.fontStyle),p.fontWeight!==m_fontWeight&&p.tspan.setAttributeNS(null,"font-weight",p.fontWeight);var se=p.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;se===r.TextRenderingMode.FILL||se===r.TextRenderingMode.FILL_STROKE?(p.fillColor!==m_fillColor&&p.tspan.setAttributeNS(null,"fill",p.fillColor),p.fillAlpha<1&&p.tspan.setAttributeNS(null,"fill-opacity",p.fillAlpha)):p.tspan.setAttributeNS(null,"fill",p.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(se===r.TextRenderingMode.STROKE||se===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(p.tspan,1/(p.textMatrixScale||1));var ge=p.textMatrix;0!==p.textRise&&((ge=ge.slice())[5]+=p.textRise),p.txtElement.setAttributeNS(null,"transform","".concat(C(ge)," scale(").concat(v(pe),", -1)")),p.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),p.txtElement.appendChild(p.tspan),p.txtgrp.appendChild(p.txtElement),this._ensureTransformGroup().appendChild(p.txtElement)}}},{key:"setLeadingMoveText",value:function(f,p){this.setLeading(-p),this.moveText(f,p)}},{key:"addFontStyle",value:function(f){if(!f.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var p=G(f.data,f.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(f.loadedName,'";')+" src: url(".concat(p,"); }\n")}},{key:"setFont",value:function(f){var p=this.current,x=this.commonObjs.get(f[0]),U=f[1];p.font=x,this.embedFonts&&!x.missingFile&&!this.embeddedFonts[x.loadedName]&&(this.addFontStyle(x),this.embeddedFonts[x.loadedName]=x),p.fontMatrix=x.fontMatrix||r.FONT_IDENTITY_MATRIX;var ie="normal";x.black?ie="900":x.bold&&(ie="bold");var ye=x.italic?"italic":"normal";U<0?(U=-U,p.fontDirection=-1):p.fontDirection=1,p.fontSize=U,p.fontFamily=x.loadedName,p.fontWeight=ie,p.fontStyle=ye,p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"y",v(-p.y)),p.xcoords=[],p.ycoords=[]}},{key:"endText",value:function(){var f,p=this.current;p.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(f=p.txtElement)&&void 0!==f&&f.hasChildNodes()&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(f){f>0&&(this.current.lineWidth=f)}},{key:"setLineCap",value:function(f){this.current.lineCap=c[f]}},{key:"setLineJoin",value:function(f){this.current.lineJoin=P[f]}},{key:"setMiterLimit",value:function(f){this.current.miterLimit=f}},{key:"setStrokeAlpha",value:function(f){this.current.strokeAlpha=f}},{key:"setStrokeRGBColor",value:function(f,p,x){this.current.strokeColor=r.Util.makeHexColor(f,p,x)}},{key:"setFillAlpha",value:function(f){this.current.fillAlpha=f}},{key:"setFillRGBColor",value:function(f,p,x){this.current.fillColor=r.Util.makeHexColor(f,p,x),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(f){this.current.strokeColor=this._makeColorN_Pattern(f)}},{key:"setFillColorN",value:function(f){this.current.fillColor=this._makeColorN_Pattern(f)}},{key:"shadingFill",value:function(f){var p=this.viewport.width,x=this.viewport.height,U=r.Util.inverseTransform(this.transformMatrix),ie=r.Util.applyTransform([0,0],U),ye=r.Util.applyTransform([0,x],U),ne=r.Util.applyTransform([p,0],U),Ee=r.Util.applyTransform([p,x],U),pe=Math.min(ie[0],ye[0],ne[0],Ee[0]),_e=Math.min(ie[1],ye[1],ne[1],Ee[1]),he=Math.max(ie[0],ye[0],ne[0],Ee[0]),Ae=Math.max(ie[1],ye[1],ne[1],Ee[1]),Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x",pe),Pe.setAttributeNS(null,"y",_e),Pe.setAttributeNS(null,"width",he-pe),Pe.setAttributeNS(null,"height",Ae-_e),Pe.setAttributeNS(null,"fill",this._makeShadingPattern(f)),this.current.fillAlpha<1&&Pe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Pe)}},{key:"_makeColorN_Pattern",value:function(f){return"TilingPattern"===f[0]?this._makeTilingPattern(f):this._makeShadingPattern(f)}},{key:"_makeTilingPattern",value:function(f){var p=f[1],x=f[2],U=f[3]||r.IDENTITY_MATRIX,ie=X(f[4],4),ye=ie[0],ne=ie[1],Ee=ie[2],pe=ie[3],_e=f[5],he=f[6],Ae=f[7],Pe="shading".concat(Y++),Re=X(r.Util.normalizeRect([].concat(g(r.Util.applyTransform([ye,ne],U)),g(r.Util.applyTransform([Ee,pe],U)))),4),Ie=Re[0],Me=Re[1],j=Re[2],ae=Re[3],A=X(r.Util.singularValueDecompose2dScale(U),2),Z=_e*A[0],le=he*A[1],fe=this.svgFactory.createElement("svg:pattern");fe.setAttributeNS(null,"id",Pe),fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),fe.setAttributeNS(null,"width",Z),fe.setAttributeNS(null,"height",le),fe.setAttributeNS(null,"x","".concat(Ie)),fe.setAttributeNS(null,"y","".concat(Me));var se=this.svg,ke=this.transformMatrix,ge=this.current.fillColor,R=this.current.strokeColor,K=this.svgFactory.create(j-Ie,ae-Me);if(this.svg=K,this.transformMatrix=U,2===Ae){var F=r.Util.makeHexColor.apply(r.Util,g(p));this.current.fillColor=F,this.current.strokeColor=F}return this.executeOpTree(this.convertOpList(x)),this.svg=se,this.transformMatrix=ke,this.current.fillColor=ge,this.current.strokeColor=R,fe.appendChild(K.childNodes[0]),this.defs.appendChild(fe),"url(#".concat(Pe,")")}},{key:"_makeShadingPattern",value:function(f){switch("string"==typeof f&&(f=this.objs.get(f)),f[0]){case"RadialAxial":var U,p="shading".concat(Y++),x=f[3];switch(f[1]){case"axial":var ie=f[4],ye=f[5];(U=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",p),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"x1",ie[0]),U.setAttributeNS(null,"y1",ie[1]),U.setAttributeNS(null,"x2",ye[0]),U.setAttributeNS(null,"y2",ye[1]);break;case"radial":var ne=f[4],Ee=f[5],pe=f[6],_e=f[7];(U=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",p),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"cx",Ee[0]),U.setAttributeNS(null,"cy",Ee[1]),U.setAttributeNS(null,"r",_e),U.setAttributeNS(null,"fx",ne[0]),U.setAttributeNS(null,"fy",ne[1]),U.setAttributeNS(null,"fr",pe);break;default:throw new Error("Unknown RadialAxial type: ".concat(f[1]))}var Ae,he=M(x);try{for(he.s();!(Ae=he.n()).done;){var Pe=Ae.value,Oe=this.svgFactory.createElement("svg:stop");Oe.setAttributeNS(null,"offset",Pe[0]),Oe.setAttributeNS(null,"stop-color",Pe[1]),U.appendChild(Oe)}}catch(Re){he.e(Re)}finally{he.f()}return this.defs.appendChild(U),"url(#".concat(p,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(f[0]))}}},{key:"setDash",value:function(f,p){this.current.dashArray=f,this.current.dashPhase=p}},{key:"constructPath",value:function(f,p){var pe,x=this.current,U=x.x,ie=x.y,ye=[],ne=0,Ee=M(f);try{for(Ee.s();!(pe=Ee.n()).done;)switch(0|pe.value){case r.OPS.rectangle:U=p[ne++],ie=p[ne++];var Pe=U+p[ne++],Oe=ie+p[ne++];ye.push("M",v(U),v(ie),"L",v(Pe),v(ie),"L",v(Pe),v(Oe),"L",v(U),v(Oe),"Z");break;case r.OPS.moveTo:U=p[ne++],ie=p[ne++],ye.push("M",v(U),v(ie));break;case r.OPS.lineTo:U=p[ne++],ie=p[ne++],ye.push("L",v(U),v(ie));break;case r.OPS.curveTo:U=p[ne+4],ie=p[ne+5],ye.push("C",v(p[ne]),v(p[ne+1]),v(p[ne+2]),v(p[ne+3]),v(U),v(ie)),ne+=6;break;case r.OPS.curveTo2:ye.push("C",v(U),v(ie),v(p[ne]),v(p[ne+1]),v(p[ne+2]),v(p[ne+3])),U=p[ne+2],ie=p[ne+3],ne+=4;break;case r.OPS.curveTo3:U=p[ne+2],ie=p[ne+3],ye.push("C",v(p[ne]),v(p[ne+1]),v(U),v(ie),v(U),v(ie)),ne+=4;break;case r.OPS.closePath:ye.push("Z")}}catch(Re){Ee.e(Re)}finally{Ee.f()}ye=ye.join(" "),x.path&&f.length>0&&f[0]!==r.OPS.rectangle&&f[0]!==r.OPS.moveTo?ye=x.path.getAttributeNS(null,"d")+ye:(x.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(x.path)),x.path.setAttributeNS(null,"d",ye),x.path.setAttributeNS(null,"fill","none"),x.element=x.path,x.setCurrentPoint(U,ie)}},{key:"endPath",value:function(){var f=this.current;if(f.path=null,this.pendingClip){if(!f.element)return void(this.pendingClip=null);var p="clippath".concat(J++),x=this.svgFactory.createElement("svg:clipPath");x.setAttributeNS(null,"id",p),x.setAttributeNS(null,"transform",C(this.transformMatrix));var U=f.element.cloneNode(!0);if(U.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,x.appendChild(U),this.defs.appendChild(x),f.activeClipUrl){f.clipGroup=null;var ye,ie=M(this.extraStack);try{for(ie.s();!(ye=ie.n()).done;)ye.value.clipGroup=null}catch(Ee){ie.e(Ee)}finally{ie.f()}x.setAttributeNS(null,"clip-path",f.activeClipUrl)}f.activeClipUrl="url(#".concat(p,")"),this.tgrp=null}}},{key:"clip",value:function(f){this.pendingClip=f}},{key:"closePath",value:function(){var f=this.current;if(f.path){var p="".concat(f.path.getAttributeNS(null,"d"),"Z");f.path.setAttributeNS(null,"d",p)}}},{key:"setLeading",value:function(f){this.current.leading=-f}},{key:"setTextRise",value:function(f){this.current.textRise=f}},{key:"setTextRenderingMode",value:function(f){this.current.textRenderingMode=f}},{key:"setHScale",value:function(f){this.current.textHScale=f/100}},{key:"setRenderingIntent",value:function(f){}},{key:"setFlatness",value:function(f){}},{key:"setGState",value:function(f){var x,p=M(f);try{for(p.s();!(x=p.n()).done;){var U=X(x.value,2),ie=U[0],ye=U[1];switch(ie){case"LW":this.setLineWidth(ye);break;case"LC":this.setLineCap(ye);break;case"LJ":this.setLineJoin(ye);break;case"ML":this.setMiterLimit(ye);break;case"D":this.setDash(ye[0],ye[1]);break;case"RI":this.setRenderingIntent(ye);break;case"FL":this.setFlatness(ye);break;case"Font":this.setFont(ye);break;case"CA":this.setStrokeAlpha(ye);break;case"ca":this.setFillAlpha(ye);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(ie))}}}catch(ne){p.e(ne)}finally{p.f()}}},{key:"fill",value:function(){var f=this.current;f.element&&(f.element.setAttributeNS(null,"fill",f.fillColor),f.element.setAttributeNS(null,"fill-opacity",f.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var f=this.current;f.element&&(this._setStrokeAttributes(f.element),f.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(f){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,x=this.current,U=x.dashArray;1!==p&&U.length>0&&(U=U.map(function(ie){return p*ie})),f.setAttributeNS(null,"stroke",x.strokeColor),f.setAttributeNS(null,"stroke-opacity",x.strokeAlpha),f.setAttributeNS(null,"stroke-miterlimit",v(x.miterLimit)),f.setAttributeNS(null,"stroke-linecap",x.lineCap),f.setAttributeNS(null,"stroke-linejoin",x.lineJoin),f.setAttributeNS(null,"stroke-width",v(p*x.lineWidth)+"px"),f.setAttributeNS(null,"stroke-dasharray",U.map(v).join(" ")),f.setAttributeNS(null,"stroke-dashoffset",v(p*x.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width","1px"),f.setAttributeNS(null,"height","1px"),f.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(f)}},{key:"paintImageXObject",value:function(f){var p=f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f);p?this.paintInlineImageXObject(p):(0,r.warn)("Dependent image with object ID ".concat(f," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(f,p){var x=f.width,U=f.height,ie=H(f,this.forceDataSchema,!!p),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width",v(x)),ye.setAttributeNS(null,"height",v(U)),this.current.element=ye,this.clip("nonzero");var ne=this.svgFactory.createElement("svg:image");ne.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ie),ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y",v(-U)),ne.setAttributeNS(null,"width",v(x)+"px"),ne.setAttributeNS(null,"height",v(U)+"px"),ne.setAttributeNS(null,"transform","scale(".concat(v(1/x)," ").concat(v(-1/U),")")),p?p.appendChild(ne):this._ensureTransformGroup().appendChild(ne)}},{key:"paintImageMaskXObject",value:function(f){var p=this.current,x=f.width,U=f.height,ie=p.fillColor;p.maskId="mask".concat(oe++);var ye=this.svgFactory.createElement("svg:mask");ye.setAttributeNS(null,"id",p.maskId);var ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",v(x)),ne.setAttributeNS(null,"height",v(U)),ne.setAttributeNS(null,"fill",ie),ne.setAttributeNS(null,"mask","url(#".concat(p.maskId,")")),this.defs.appendChild(ye),this._ensureTransformGroup().appendChild(ne),this.paintInlineImageXObject(f,ye)}},{key:"paintFormXObjectBegin",value:function(f,p){if(Array.isArray(f)&&6===f.length&&this.transform(f[0],f[1],f[2],f[3],f[4],f[5]),p){var x=p[2]-p[0],U=p[3]-p[1],ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",p[0]),ie.setAttributeNS(null,"y",p[1]),ie.setAttributeNS(null,"width",v(x)),ie.setAttributeNS(null,"height",v(U)),this.current.element=ie,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(f){var p=this.svgFactory.create(f.width,f.height),x=this.svgFactory.createElement("svg:defs");p.appendChild(x),this.defs=x;var U=this.svgFactory.createElement("svg:g");return U.setAttributeNS(null,"transform",C(f.transform)),p.appendChild(U),this.svg=U,p}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var f=this.svgFactory.createElement("svg:g");f.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(f),this.current.clipGroup=f}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",C(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),re}()},(y,i,t)=>{"use strict";function r(f){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=function w(f){return f&&f.__esModule?f:{default:f}}(t(156)),u=t(1),g=t(179);function L(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),p&&N(f,p)}function N(f,p){return(N=Object.setPrototypeOf||function(U,ie){return U.__proto__=ie,U})(f,p)}function X(f){var p=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ie,U=M(f);if(p){var ye=M(this).constructor;ie=Reflect.construct(U,arguments,ye)}else ie=U.apply(this,arguments);return O(this,ie)}}function O(f,p){if(p&&("object"===r(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function k(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f)}function M(f){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(f)}function I(f,p,x,U,ie,ye,ne){try{var Ee=f[ye](ne),pe=Ee.value}catch(_e){return void x(_e)}Ee.done?p(pe):Promise.resolve(pe).then(U,ie)}function D(f){return function(){var p=this,x=arguments;return new Promise(function(U,ie){var ye=f.apply(p,x);function ne(pe){I(ye,U,ie,ne,Ee,"next",pe)}function Ee(pe){I(ye,U,ie,ne,Ee,"throw",pe)}ne(void 0)})}}function d(f,p){(null==p||p>f.length)&&(p=f.length);for(var x=0,U=new Array(p);x<p;x++)U[x]=f[x];return U}function h(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function T(f,p){for(var x=0;x<p.length;x++){var U=p[x];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(f,U.key,U)}}function v(f,p,x){return p&&T(f.prototype,p),x&&T(f,x),Object.defineProperty(f,"prototype",{writable:!1}),f}var C=__webpack_require__(2767),m=__webpack_require__(8251),l=__webpack_require__(7677),S=__webpack_require__(1543),c=/^file:\/\/\/[a-zA-Z]:\//;i.PDFNodeStream=function(){function f(p){h(this,f),this.source=p,this.url=function P(f){var p=S.parse(f);return"file:"===p.protocol||p.host?p:/^[a-z]:[/\\]/i.test(f)?S.parse("file:///".concat(f)):(p.host||(p.protocol="file:"),p)}(p.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&p.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return v(f,[{key:"_progressiveDataLength",get:function(){var x,U;return null!==(x=null===(U=this._fullRequestReader)||void 0===U?void 0:U._loaded)&&void 0!==x?x:0}},{key:"getFullReader",value:function(){return(0,u.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new re(this):new oe(this),this._fullRequestReader}},{key:"getRangeReader",value:function(x,U){if(U<=this._progressiveDataLength)return null;var ie=this.isFsUrl?new ee(this,x,U):new Y(this,x,U);return this._rangeRequestReaders.push(ie),ie}},{key:"cancelAllRequests",value:function(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);var ie,U=function s(f,p){var x=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!x){if(Array.isArray(f)||(x=function a(f,p){if(f){if("string"==typeof f)return d(f,p);var x=Object.prototype.toString.call(f).slice(8,-1);if("Object"===x&&f.constructor&&(x=f.constructor.name),"Map"===x||"Set"===x)return Array.from(f);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return d(f,p)}}(f))||p&&f&&"number"==typeof f.length){x&&(f=x);var U=0,ie=function(){};return{s:ie,n:function(){return U>=f.length?{done:!0}:{done:!1,value:f[U++]}},e:function(_e){throw _e},f:ie}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ee,ye=!0,ne=!1;return{s:function(){x=x.call(f)},n:function(){var _e=x.next();return ye=_e.done,_e},e:function(_e){ne=!0,Ee=_e},f:function(){try{!ye&&null!=x.return&&x.return()}finally{if(ne)throw Ee}}}}(this._rangeRequestReaders.slice(0));try{for(U.s();!(ie=U.n()).done;)ie.value.cancel(x)}catch(ne){U.e(ne)}finally{U.f()}}}]),f}();var H=function(){function f(p){h(this,f),this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null;var x=p.source;this._contentLength=x.length,this._loaded=0,this._filename=null,this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._headersCapability=(0,u.createPromiseCapability)()}return v(f,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(p=D(o.default.mark(function U(){var ie,ye;return o.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._readCapability.promise;case 2:if(!this._done){Ee.next=4;break}return Ee.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Ee.next=6;break}throw this._storedError;case 6:if(null!==(ie=this._readableStream.read())){Ee.next=10;break}return this._readCapability=(0,u.createPromiseCapability)(),Ee.abrupt("return",this.read());case 10:return this._loaded+=ie.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),ye=new Uint8Array(ie).buffer,Ee.abrupt("return",{value:ye,done:!1});case 14:case"end":return Ee.stop()}},U,this)})),function x(){return p.apply(this,arguments)})},{key:"cancel",value:function(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}},{key:"_error",value:function(x){this._storedError=x,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(x){var U=this;this._readableStream=x,x.on("readable",function(){U._readCapability.resolve()}),x.on("end",function(){x.destroy(),U._done=!0,U._readCapability.resolve()}),x.on("error",function(ie){U._error(ie)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new u.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),f;var p}(),te=function(){function f(p){h(this,f),this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._isStreamingSupported=!p.source.disableStream}return v(f,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(p=D(o.default.mark(function U(){var ie,ye;return o.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._readCapability.promise;case 2:if(!this._done){Ee.next=4;break}return Ee.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Ee.next=6;break}throw this._storedError;case 6:if(null!==(ie=this._readableStream.read())){Ee.next=10;break}return this._readCapability=(0,u.createPromiseCapability)(),Ee.abrupt("return",this.read());case 10:return this._loaded+=ie.length,this.onProgress&&this.onProgress({loaded:this._loaded}),ye=new Uint8Array(ie).buffer,Ee.abrupt("return",{value:ye,done:!1});case 14:case"end":return Ee.stop()}},U,this)})),function x(){return p.apply(this,arguments)})},{key:"cancel",value:function(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}},{key:"_error",value:function(x){this._storedError=x,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(x){var U=this;this._readableStream=x,x.on("readable",function(){U._readCapability.resolve()}),x.on("end",function(){x.destroy(),U._done=!0,U._readCapability.resolve()}),x.on("error",function(ie){U._error(ie)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),f;var p}();function J(f,p){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:p}}var oe=function(f){L(x,f);var p=X(x);function x(U){var ie;h(this,x);var ye=function(Ee){if(404===Ee.statusCode){var pe=new u.MissingPDFException('Missing PDF "'.concat(ie._url,'".'));return ie._storedError=pe,void ie._headersCapability.reject(pe)}ie._headersCapability.resolve(),ie._setReadableStream(Ee);var _e=function(Re){return ie._readableStream.headers[Re.toLowerCase()]},he=(0,g.validateRangeRequestCapabilities)({getResponseHeader:_e,isHttp:U.isHttp,rangeChunkSize:ie._rangeChunkSize,disableRange:ie._disableRange}),Pe=he.suggestedLength;ie._isRangeSupported=he.allowRangeRequests,ie._contentLength=Pe||ie._contentLength,ie._filename=(0,g.extractFilenameFromHeader)(_e)};return(ie=p.call(this,U))._request=null,ie._request="http:"===ie._url.protocol?m.request(J(ie._url,U.httpHeaders),ye):l.request(J(ie._url,U.httpHeaders),ye),ie._request.on("error",function(ne){ie._storedError=ne,ie._headersCapability.reject(ne)}),ie._request.end(),ie}return v(x)}(H),Y=function(f){L(x,f);var p=X(x);function x(U,ie,ye){var ne;for(var Ee in h(this,x),(ne=p.call(this,U))._httpHeaders={},U.httpHeaders){var pe=U.httpHeaders[Ee];typeof pe>"u"||(ne._httpHeaders[Ee]=pe)}ne._httpHeaders.Range="bytes=".concat(ie,"-").concat(ye-1);var _e=function(Ae){if(404!==Ae.statusCode)ne._setReadableStream(Ae);else{var Pe=new u.MissingPDFException('Missing PDF "'.concat(ne._url,'".'));ne._storedError=Pe}};return ne._request=null,ne._request="http:"===ne._url.protocol?m.request(J(ne._url,ne._httpHeaders),_e):l.request(J(ne._url,ne._httpHeaders),_e),ne._request.on("error",function(he){ne._storedError=he}),ne._request.end(),ne}return v(x)}(te),re=function(f){L(x,f);var p=X(x);function x(U){var ie;h(this,x),ie=p.call(this,U);var ye=decodeURIComponent(ie._url.path);return c.test(ie._url.href)&&(ye=ye.replace(/^\//,"")),C.lstat(ye,function(ne,Ee){if(ne)return"ENOENT"===ne.code&&(ne=new u.MissingPDFException('Missing PDF "'.concat(ye,'".'))),ie._storedError=ne,void ie._headersCapability.reject(ne);ie._contentLength=Ee.size,ie._setReadableStream(C.createReadStream(ye)),ie._headersCapability.resolve()}),ie}return v(x)}(H),ee=function(f){L(x,f);var p=X(x);function x(U,ie,ye){var ne;h(this,x),ne=p.call(this,U);var Ee=decodeURIComponent(ne._url.path);return c.test(ne._url.href)&&(Ee=Ee.replace(/^\//,"")),ne._setReadableStream(C.createReadStream(Ee,{start:ie,end:ye-1})),ne}return v(x)}(te)},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=function L(X,O){return 404===X||0===X&&O.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+O+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(X,') while retrieving PDF "').concat(O,'".'),X)},i.extractFilenameFromHeader=function w(X){var O=X("Content-Disposition");if(O){var k=(0,o.getFilenameFromContentDispositionHeader)(O);if(k.includes("%"))try{k=decodeURIComponent(k)}catch{}if((0,u.isPdfFile)(k))return k}return null},i.validateRangeRequestCapabilities=function g(X){var O=X.getResponseHeader,k=X.isHttp,_=X.rangeChunkSize,M=X.disableRange,I={allowRangeRequests:!1,suggestedLength:void 0},D=parseInt(O("Content-Length"),10);return!Number.isInteger(D)||(I.suggestedLength=D,D<=2*_)||M||!k||"bytes"!==O("Accept-Ranges")||"identity"!==(O("Content-Encoding")||"identity")||(I.allowRangeRequests=!0),I},i.validateResponseStatus=function N(X){return 200===X||206===X};var r=t(1),o=t(180),u=t(158)},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=function X(O){var k=!0,_=s("filename\\*","i").exec(O);if(_){var M=T(_=_[1]);return d(M=C(M=v(M=unescape(M))))}if(_=function h(m){for(var S,l=[],c=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(S=c.exec(m));){var G=o(S,4),H=G[1],te=G[2],J=G[3];if((H=parseInt(H,10))in l){if(0===H)break}else l[H]=[te,J]}for(var oe=[],Y=0;Y<l.length&&Y in l;++Y){var re=o(l[Y],2),ee=re[0],f=re[1];f=T(f),ee&&(f=unescape(f),0===Y&&(f=v(f))),oe.push(f)}return oe.join("")}(O))return d(C(_));if(_=s("filename","i").exec(O)){var D=T(_=_[1]);return d(D=C(D))}function s(m,l){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function a(m,l){if(m){if(!/^[\x00-\xFF]+$/.test(l))return l;try{var S=new TextDecoder(m,{fatal:!0}),c=(0,r.stringToBytes)(l);l=S.decode(c),k=!1}catch{}}return l}function d(m){return k&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),k&&(m=a("iso-8859-1",m))),m}function T(m){if(m.startsWith('"')){for(var l=m.slice(1).split('\\"'),S=0;S<l.length;++S){var c=l[S].indexOf('"');-1!==c&&(l[S]=l[S].slice(0,c),l.length=S+1),l[S]=l[S].replace(/\\(.)/g,"$1")}m=l.join('"')}return m}function v(m){var l=m.indexOf("'");return-1===l?m:a(m.slice(0,l),m.slice(l+1).replace(/^[^']*'/,""))}function C(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,S,c,P){if("q"===c||"Q"===c)return a(S,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(G,H){return String.fromCharCode(parseInt(H,16))}));try{P=atob(P)}catch{}return a(S,P)})}return""};var r=t(1);function o(O,k){return function N(O){if(Array.isArray(O))return O}(O)||function L(O,k){var _=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=_){var s,a,M=[],I=!0,D=!1;try{for(_=_.call(O);!(I=(s=_.next()).done)&&(M.push(s.value),!k||M.length!==k);I=!0);}catch(d){D=!0,a=d}finally{try{!I&&null!=_.return&&_.return()}finally{if(D)throw a}}return M}}(O,k)||function g(O,k){if(O){if("string"==typeof O)return w(O,k);var _=Object.prototype.toString.call(O).slice(8,-1);if("Object"===_&&O.constructor&&(_=O.constructor.name),"Map"===_||"Set"===_)return Array.from(O);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return w(O,k)}}(O,k)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(O,k){(null==k||k>O.length)&&(k=O.length);for(var _=0,M=new Array(k);_<k;_++)M[_]=O[_];return M}},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var r=function g(v){return v&&v.__esModule?v:{default:v}}(t(156)),o=t(1),u=t(179);function w(v,C,m,l,S,c,P){try{var G=v[c](P),H=G.value}catch(te){return void m(te)}G.done?C(H):Promise.resolve(H).then(l,S)}function L(v){return function(){var C=this,m=arguments;return new Promise(function(l,S){var c=v.apply(C,m);function P(H){w(c,l,S,P,G,"next",H)}function G(H){w(c,l,S,P,G,"throw",H)}P(void 0)})}}function N(v,C){var m=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!m){if(Array.isArray(v)||(m=function X(v,C){if(v){if("string"==typeof v)return O(v,C);var m=Object.prototype.toString.call(v).slice(8,-1);if("Object"===m&&v.constructor&&(m=v.constructor.name),"Map"===m||"Set"===m)return Array.from(v);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return O(v,C)}}(v))||C&&v&&"number"==typeof v.length){m&&(v=m);var l=0,S=function(){};return{s:S,n:function(){return l>=v.length?{done:!0}:{done:!1,value:v[l++]}},e:function(te){throw te},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G,c=!0,P=!1;return{s:function(){m=m.call(v)},n:function(){var te=m.next();return c=te.done,te},e:function(te){P=!0,G=te},f:function(){try{!c&&null!=m.return&&m.return()}finally{if(P)throw G}}}}function O(v,C){(null==C||C>v.length)&&(C=v.length);for(var m=0,l=new Array(C);m<C;m++)l[m]=v[m];return l}function k(v,C){if(!(v instanceof C))throw new TypeError("Cannot call a class as a function")}function _(v,C){for(var m=0;m<C.length;m++){var l=C[m];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(v,l.key,l)}}function M(v,C,m){return C&&_(v.prototype,C),m&&_(v,m),Object.defineProperty(v,"prototype",{writable:!1}),v}var a=function(){function v(C){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,v),this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return M(v,[{key:"requestRange",value:function(m,l,S){var c={begin:m,end:l};for(var P in S)c[P]=S[P];return this.request(c)}},{key:"requestFull",value:function(m){return this.request(m)}},{key:"request",value:function(m){var l=this.getXhr(),S=this.currXhrId++,c=this.pendingRequests[S]={xhr:l};for(var P in l.open("GET",this.url),l.withCredentials=this.withCredentials,this.httpHeaders){var G=this.httpHeaders[P];typeof G>"u"||l.setRequestHeader(P,G)}return this.isHttp&&"begin"in m&&"end"in m?(l.setRequestHeader("Range","bytes=".concat(m.begin,"-").concat(m.end-1)),c.expectedStatus=206):c.expectedStatus=200,l.responseType="arraybuffer",m.onError&&(l.onerror=function(H){m.onError(l.status)}),l.onreadystatechange=this.onStateChange.bind(this,S),l.onprogress=this.onProgress.bind(this,S),c.onHeadersReceived=m.onHeadersReceived,c.onDone=m.onDone,c.onError=m.onError,c.onProgress=m.onProgress,l.send(null),S}},{key:"onProgress",value:function(m,l){var S,c=this.pendingRequests[m];!c||null===(S=c.onProgress)||void 0===S||S.call(c,l)}},{key:"onStateChange",value:function(m,l){var S=this.pendingRequests[m];if(S){var c=S.xhr;if(c.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),4===c.readyState&&m in this.pendingRequests){var P;if(delete this.pendingRequests[m],0===c.status&&this.isHttp)return void(null===(P=S.onError)||void 0===P||P.call(S,c.status));var te,G=c.status||200;if((200!==G||206!==S.expectedStatus)&&G!==S.expectedStatus)return void(null===(te=S.onError)||void 0===te||te.call(S,c.status));var J=function s(v){var C=v.response;return"string"!=typeof C?C:(0,o.stringToBytes)(C).buffer}(c);if(206===G){var oe=c.getResponseHeader("Content-Range"),Y=/bytes (\d+)-(\d+)\/(\d+)/.exec(oe);S.onDone({begin:parseInt(Y[1],10),chunk:J})}else if(J)S.onDone({begin:0,chunk:J});else{var re;null===(re=S.onError)||void 0===re||re.call(S,c.status)}}}}},{key:"getRequestXhr",value:function(m){return this.pendingRequests[m].xhr}},{key:"isPendingRequest",value:function(m){return m in this.pendingRequests}},{key:"abortRequest",value:function(m){var l=this.pendingRequests[m].xhr;delete this.pendingRequests[m],l.abort()}}]),v}();i.PDFNetworkStream=function(){function v(C){k(this,v),this._source=C,this._manager=new a(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return M(v,[{key:"_onRangeRequestReaderClosed",value:function(m){var l=this._rangeRequestReaders.indexOf(m);l>=0&&this._rangeRequestReaders.splice(l,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(m,l){var S=new T(this._manager,m,l);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}},{key:"cancelAllRequests",value:function(m){var l;null===(l=this._fullRequestReader)||void 0===l||l.cancel(m);var c,S=N(this._rangeRequestReaders.slice(0));try{for(S.s();!(c=S.n()).done;)c.value.cancel(m)}catch(G){S.e(G)}finally{S.f()}}}]),v}();var h=function(){function v(C,m){k(this,v),this._manager=C;var l={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=C.requestFull(l),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return M(v,[{key:"_onHeadersReceived",value:function(){var m=this._fullRequestId,l=this._manager.getRequestXhr(m),S=function(te){return l.getResponseHeader(te)},c=(0,u.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),G=c.suggestedLength;c.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=G||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var c,S=N(this._requests);try{for(S.s();!(c=S.n()).done;)c.value.resolve({value:void 0,done:!0})}catch(G){S.e(G)}finally{S.f()}this._requests.length=0}}},{key:"_onError",value:function(m){this._storedError=(0,u.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);var S,l=N(this._requests);try{for(l.s();!(S=l.n()).done;)S.value.reject(this._storedError)}catch(P){l.e(P)}finally{l.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(m){var l;null===(l=this.onProgress)||void 0===l||l.call(this,{loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(C=L(r.default.mark(function l(){var S,c;return r.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!this._storedError){G.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){G.next=5;break}return S=this._cachedChunks.shift(),G.abrupt("return",{value:S,done:!1});case 5:if(!this._done){G.next=7;break}return G.abrupt("return",{value:void 0,done:!0});case 7:return c=(0,o.createPromiseCapability)(),this._requests.push(c),G.abrupt("return",c.promise);case 10:case"end":return G.stop()}},l,this)})),function m(){return C.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0,this._headersReceivedCapability.reject(m);var S,l=N(this._requests);try{for(l.s();!(S=l.n()).done;)S.value.resolve({value:void 0,done:!0})}catch(P){l.e(P)}finally{l.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),v;var C}(),T=function(){function v(C,m,l){k(this,v),this._manager=C;var S={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(m,l,S),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return M(v,[{key:"_close",value:function(){var m;null===(m=this.onClosed)||void 0===m||m.call(this,this)}},{key:"_onDone",value:function(m){var l=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunk=l,this._done=!0;var P,c=N(this._requests);try{for(c.s();!(P=c.n()).done;)P.value.resolve({value:void 0,done:!0})}catch(H){c.e(H)}finally{c.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(m){this._storedError=(0,u.createResponseStatusError)(m,this._url);var S,l=N(this._requests);try{for(l.s();!(S=l.n()).done;)S.value.reject(this._storedError)}catch(P){l.e(P)}finally{l.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(m){var l;this.isStreamingSupported||null===(l=this.onProgress)||void 0===l||l.call(this,{loaded:m.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(C=L(r.default.mark(function l(){var S,c;return r.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!this._storedError){G.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){G.next=6;break}return S=this._queuedChunk,this._queuedChunk=null,G.abrupt("return",{value:S,done:!1});case 6:if(!this._done){G.next=8;break}return G.abrupt("return",{value:void 0,done:!0});case 8:return c=(0,o.createPromiseCapability)(),this._requests.push(c),G.abrupt("return",c.promise);case 11:case"end":return G.stop()}},l,this)})),function m(){return C.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0;var S,l=N(this._requests);try{for(l.s();!(S=l.n()).done;)S.value.resolve({value:void 0,done:!0})}catch(P){l.e(P)}finally{l.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),v;var C}()},(y,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var r=function g(h){return h&&h.__esModule?h:{default:h}}(t(156)),o=t(1),u=t(179);function w(h,T,v,C,m,l,S){try{var c=h[l](S),P=c.value}catch(G){return void v(G)}c.done?T(P):Promise.resolve(P).then(C,m)}function L(h){return function(){var T=this,v=arguments;return new Promise(function(C,m){var l=h.apply(T,v);function S(P){w(l,C,m,S,c,"next",P)}function c(P){w(l,C,m,S,c,"throw",P)}S(void 0)})}}function O(h,T){(null==T||T>h.length)&&(T=h.length);for(var v=0,C=new Array(T);v<T;v++)C[v]=h[v];return C}function k(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function _(h,T){for(var v=0;v<T.length;v++){var C=T[v];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(h,C.key,C)}}function M(h,T,v){return T&&_(h.prototype,T),v&&_(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function I(h,T,v){return{method:"GET",headers:h,signal:v?.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function D(h){var T=new Headers;for(var v in h){var C=h[v];typeof C>"u"||T.append(v,C)}return T}i.PDFFetchStream=function(){function h(T){k(this,h),this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return M(h,[{key:"_progressiveDataLength",get:function(){var v,C;return null!==(v=null===(C=this._fullRequestReader)||void 0===C?void 0:C._loaded)&&void 0!==v?v:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}},{key:"getRangeReader",value:function(v,C){if(C<=this._progressiveDataLength)return null;var m=new d(this,v,C);return this._rangeRequestReaders.push(m),m}},{key:"cancelAllRequests",value:function(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);var m,C=function N(h,T){var v=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!v){if(Array.isArray(h)||(v=function X(h,T){if(h){if("string"==typeof h)return O(h,T);var v=Object.prototype.toString.call(h).slice(8,-1);if("Object"===v&&h.constructor&&(v=h.constructor.name),"Map"===v||"Set"===v)return Array.from(h);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return O(h,T)}}(h))||T&&h&&"number"==typeof h.length){v&&(h=v);var C=0,m=function(){};return{s:m,n:function(){return C>=h.length?{done:!0}:{done:!1,value:h[C++]}},e:function(G){throw G},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,S=!1;return{s:function(){v=v.call(h)},n:function(){var G=v.next();return l=G.done,G},e:function(G){S=!0,c=G},f:function(){try{!l&&null!=v.return&&v.return()}finally{if(S)throw c}}}}(this._rangeRequestReaders.slice(0));try{for(C.s();!(m=C.n()).done;)m.value.cancel(v)}catch(S){C.e(S)}finally{C.f()}}}]),h}();var a=function(){function h(T){var v=this;k(this,h),this._stream=T,this._reader=null,this._loaded=0,this._filename=null;var C=T.source;this._withCredentials=C.withCredentials||!1,this._contentLength=C.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._headers=D(this._stream.httpHeaders);var m=C.url;fetch(m,I(this._headers,this._withCredentials,this._abortController)).then(function(l){if(!(0,u.validateResponseStatus)(l.status))throw(0,u.createResponseStatusError)(l.status,m);v._reader=l.body.getReader(),v._headersCapability.resolve();var S=function(te){return l.headers.get(te)},c=(0,u.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:v._stream.isHttp,rangeChunkSize:v._rangeChunkSize,disableRange:v._disableRange}),G=c.suggestedLength;v._isRangeSupported=c.allowRangeRequests,v._contentLength=G||v._contentLength,v._filename=(0,u.extractFilenameFromHeader)(S),!v._isStreamingSupported&&v._isRangeSupported&&v.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return M(h,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(T=L(r.default.mark(function C(){var m,l,S,c;return r.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,this._headersCapability.promise;case 2:return G.next=4,this._reader.read();case 4:if(l=(m=G.sent).value,!(S=m.done)){G.next=9;break}return G.abrupt("return",{value:l,done:S});case 9:return this._loaded+=l.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),c=new Uint8Array(l).buffer,G.abrupt("return",{value:c,done:!1});case 13:case"end":return G.stop()}},C,this)})),function v(){return T.apply(this,arguments)})},{key:"cancel",value:function(v){this._reader&&this._reader.cancel(v),this._abortController&&this._abortController.abort()}}]),h;var T}(),d=function(){function h(T,v,C){var m=this;k(this,h),this._stream=T,this._reader=null,this._loaded=0;var l=T.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=D(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(v,"-").concat(C-1));var S=l.url;fetch(S,I(this._headers,this._withCredentials,this._abortController)).then(function(c){if(!(0,u.validateResponseStatus)(c.status))throw(0,u.createResponseStatusError)(c.status,S);m._readCapability.resolve(),m._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return M(h,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(T=L(r.default.mark(function C(){var m,l,S,c;return r.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,this._readCapability.promise;case 2:return G.next=4,this._reader.read();case 4:if(l=(m=G.sent).value,!(S=m.done)){G.next=9;break}return G.abrupt("return",{value:l,done:S});case 9:return this._loaded+=l.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),c=new Uint8Array(l).buffer,G.abrupt("return",{value:c,done:!1});case 13:case"end":return G.stop()}},C,this)})),function v(){return T.apply(this,arguments)})},{key:"cancel",value:function(v){this._reader&&this._reader.cancel(v),this._abortController&&this._abortController.abort()}}]),h;var T}()}],__webpack_module_cache__={};function __w_pdfjs_require__(y){var i=__webpack_module_cache__[y];if(void 0!==i)return i.exports;var t=__webpack_module_cache__[y]={id:y,loaded:!1,exports:{}};return __webpack_modules__[y](t,t.exports,__w_pdfjs_require__),t.loaded=!0,t.exports}__w_pdfjs_require__.nmd=y=>(y.paths=[],y.children||(y.children=[]),y);var __webpack_exports__={};return(()=>{"use strict";var y=__webpack_exports__;Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(y,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(y,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(y,"GlobalWorkerOptions",{enumerable:!0,get:function(){return u.GlobalWorkerOptions}}),Object.defineProperty(y,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(y,"LoopbackPort",{enumerable:!0,get:function(){return t.LoopbackPort}}),Object.defineProperty(y,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(y,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(y,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(y,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(y,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(y,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(y,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(y,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(y,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(y,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(y,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(y,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(y,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(y,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(y,"XfaLayer",{enumerable:!0,get:function(){return N.XfaLayer}}),Object.defineProperty(y,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(y,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(y,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(y,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(y,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(y,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(y,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(y,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(y,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(y,"renderTextLayer",{enumerable:!0,get:function(){return w.renderTextLayer}}),Object.defineProperty(y,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(y,"version",{enumerable:!0,get:function(){return t.version}});var i=__w_pdfjs_require__(1),t=__w_pdfjs_require__(155),r=__w_pdfjs_require__(158),o=__w_pdfjs_require__(173),u=__w_pdfjs_require__(166),g=__w_pdfjs_require__(3),w=__w_pdfjs_require__(176),L=__w_pdfjs_require__(177),N=__w_pdfjs_require__(175);if(g.isNodeJS){var _=__w_pdfjs_require__(178).PDFNodeStream;(0,t.setPDFNetworkStreamFactory)(function(a){return new _(a)})}else{var I=__w_pdfjs_require__(181).PDFNetworkStream,s=__w_pdfjs_require__(182).PDFFetchStream;(0,t.setPDFNetworkStreamFactory)(function(a){return(0,r.isValidFetchUrl)(a.url)?new s(a):new I(a)})}})(),__webpack_exports__})(),module.exports=t()},3800:function(y,i){!function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function o(e,n){var Q,ve,me,xe,b={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return xe={next:He(0),throw:He(1),return:He(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function He(Ue){return function(qe){return function $e(Ue){if(Q)throw new TypeError("Generator is already executing.");for(;xe&&(xe=0,Ue[0]&&(b=0)),b;)try{if(Q=1,ve&&(me=2&Ue[0]?ve.return:Ue[0]?ve.throw||((me=ve.return)&&me.call(ve),0):ve.next)&&!(me=me.call(ve,Ue[1])).done)return me;switch(ve=0,me&&(Ue=[2&Ue[0],me.value]),Ue[0]){case 0:case 1:me=Ue;break;case 4:return b.label++,{value:Ue[1],done:!1};case 5:b.label++,ve=Ue[1],Ue=[0];continue;case 7:Ue=b.ops.pop(),b.trys.pop();continue;default:if(!(me=(me=b.trys).length>0&&me[me.length-1])&&(6===Ue[0]||2===Ue[0])){b=0;continue}if(3===Ue[0]&&(!me||Ue[1]>me[0]&&Ue[1]<me[3])){b.label=Ue[1];break}if(6===Ue[0]&&b.label<me[1]){b.label=me[1],me=Ue;break}if(me&&b.label<me[2]){b.label=me[2],b.ops.push(Ue);break}me[2]&&b.ops.pop(),b.trys.pop();continue}Ue=n.call(e,b)}catch(qe){Ue=[6,qe],ve=0}finally{Q=me=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,qe])}}}function u(e){var n="function"==typeof Symbol&&Symbol.iterator,b=n&&e[n],Q=0;if(b)return b.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&Q>=e.length&&(e=void 0),{value:e&&e[Q++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function w(e,n,b){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Q=b.apply(e,n||[]),me=[];return ve={},xe("next"),xe("throw"),xe("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function xe(at){Q[at]&&(ve[at]=function(dt){return new Promise(function(bt,_t){me.push([at,dt,bt,_t])>1||He(at,dt)})})}function He(at,dt){try{!function $e(at){at.value instanceof g?Promise.resolve(at.value.v).then(Ue,qe):tt(me[0][2],at)}(Q[at](dt))}catch(bt){tt(me[0][3],bt)}}function Ue(at){He("next",at)}function qe(at){He("throw",at)}function tt(at,dt){at(dt),me.shift(),me.length&&He(me[0][0],me[0][1])}}function L(e){var n,b;return n={},Q("next"),Q("throw",function(ve){throw ve}),Q("return"),n[Symbol.iterator]=function(){return this},n;function Q(ve,me){n[ve]=e[ve]?function(xe){return(b=!b)?{value:g(e[ve](xe)),done:!1}:me?me(xe):xe}:me}}function N(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),b={},Q("next"),Q("throw"),Q("return"),b[Symbol.asyncIterator]=function(){return this},b);function Q(me){b[me]=e[me]&&function(xe){return new Promise(function(He,$e){!function ve(me,xe,He,$e){Promise.resolve($e).then(function(Ue){me({value:Ue,done:He})},xe)}(He,$e,(xe=e[me](xe)).done,xe.value)})}}}function X(){}function O(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var k=X;function _(e,n){try{Object.defineProperty(e,"name",{value:n,configurable:!0})}catch{}}var M=Promise,I=Promise.prototype.then,D=Promise.reject.bind(M);function s(e){return new M(e)}function a(e){return s(function(n){return n(e)})}function d(e){return D(e)}function h(e,n,b){return I.call(e,n,b)}function T(e,n,b){h(h(e,n,b),void 0,k)}function v(e,n){T(e,n)}function C(e,n){T(e,void 0,n)}function m(e,n,b){return h(e,n,b)}function l(e){h(e,void 0,k)}var S=function(e){if("function"==typeof queueMicrotask)S=queueMicrotask;else{var n=a(void 0);S=function(b){return h(n,b)}}return S(e)};function c(e,n,b){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,b)}function P(e,n,b){try{return a(c(e,n,b))}catch(Q){return d(Q)}}var H=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var b=this._back,Q=b;16383===b._elements.length&&(Q={_elements:[],_next:void 0}),b._elements.push(n),Q!==b&&(this._back=Q,b._next=Q),++this._size},e.prototype.shift=function(){var n=this._front,b=n,Q=this._cursor,ve=Q+1,me=n._elements,xe=me[Q];return 16384===ve&&(b=n._next,ve=0),--this._size,this._cursor=ve,n!==b&&(this._front=b),me[Q]=void 0,xe},e.prototype.forEach=function(n){for(var b=this._cursor,Q=this._front,ve=Q._elements;!(b===ve.length&&void 0===Q._next||b===ve.length&&(Q=Q._next,ve=Q._elements,b=0,0===ve.length));)n(ve[b]),++b},e.prototype.peek=function(){return this._front._elements[this._cursor]},e}(),te=r("[[AbortSteps]]"),J=r("[[ErrorSteps]]"),oe=r("[[CancelSteps]]"),Y=r("[[PullSteps]]"),re=r("[[ReleaseSteps]]");function ee(e,n){e._ownerReadableStream=n,n._reader=e,"readable"===n._state?U(e):"closed"===n._state?function ye(e){U(e),pe(e)}(e):ie(e,n._storedError)}function f(e,n){return wt(e._ownerReadableStream,n)}function p(e){var n=e._ownerReadableStream;"readable"===n._state?ne(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function Ee(e,n){ie(e,n)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._readableStreamController[re](),n._reader=void 0,e._ownerReadableStream=void 0}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function U(e){e._closedPromise=s(function(n,b){e._closedPromise_resolve=n,e._closedPromise_reject=b})}function ie(e,n){U(e),ne(e,n)}function ne(e,n){void 0!==e._closedPromise_reject&&(l(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function pe(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var _e=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},he=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Pe(e,n){if(void 0!==e&&!function Ae(e){return"object"==typeof e||"function"==typeof e}(e))throw new TypeError("".concat(n," is not an object."))}function Oe(e,n){if("function"!=typeof e)throw new TypeError("".concat(n," is not a function."))}function Ie(e,n){if(!function Re(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError("".concat(n," is not an object."))}function Me(e,n,b){if(void 0===e)throw new TypeError("Parameter ".concat(n," is required in '").concat(b,"'."))}function j(e,n,b){if(void 0===e)throw new TypeError("".concat(n," is required in '").concat(b,"'."))}function ae(e){return Number(e)}function E(e){return 0===e?0:e}function $(e,n){var Q=Number.MAX_SAFE_INTEGER,ve=Number(e);if(ve=E(ve),!_e(ve))throw new TypeError("".concat(n," is not a finite number"));if((ve=function A(e){return E(he(e))}(ve))<0||ve>Q)throw new TypeError("".concat(n," is outside the accepted range of ").concat(0," to ").concat(Q,", inclusive"));return _e(ve)&&0!==ve?ve:0}function q(e,n){if(!Wt(e))throw new TypeError("".concat(n," is not a ReadableStream."))}function Z(e){return new ge(e)}function le(e,n){e._reader._readRequests.push(n)}function fe(e,n,b){var ve=e._reader._readRequests.shift();b?ve._closeSteps():ve._chunkSteps(n)}function se(e){return e._reader._readRequests.length}function ke(e){var n=e._reader;return!(void 0===n||!R(n))}var V,z,ce,ge=function(){function e(n){if(Me(n,1,"ReadableStreamDefaultReader"),q(n,"First parameter"),Ut(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ee(this,n),this._readRequests=new H}return Object.defineProperty(e.prototype,"closed",{get:function(){return R(this)?this._closedPromise:d(B("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),R(this)?void 0===this._ownerReadableStream?d(x("cancel")):f(this,n):d(B("cancel"))},e.prototype.read=function(){if(!R(this))return d(B("read"));if(void 0===this._ownerReadableStream)return d(x("read from"));var n,b,Q=s(function(me,xe){n=me,b=xe});return K(this,{_chunkSteps:function(me){return n({value:me,done:!1})},_closeSteps:function(){return n({value:void 0,done:!0})},_errorSteps:function(me){return b(me)}}),Q},e.prototype.releaseLock=function(){if(!R(this))throw B("releaseLock");void 0!==this._ownerReadableStream&&function F(e){p(e),W(e,new TypeError("Reader was released"))}(this)},e}();function R(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof ge}function K(e,n){var b=e._ownerReadableStream;b._disturbed=!0,"closed"===b._state?n._closeSteps():"errored"===b._state?n._errorSteps(b._storedError):b._readableStreamController[Y](n)}function W(e,n){var b=e._readRequests;e._readRequests=new H,b.forEach(function(Q){Q._errorSteps(n)})}function B(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function Se(e){return e.slice()}function we(e,n,b,Q,ve){new Uint8Array(e).set(new Uint8Array(b,Q,ve),n)}Object.defineProperties(ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),_(ge.prototype.cancel,"cancel"),_(ge.prototype.read,"read"),_(ge.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(ge.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var Ce=function(e){return(Ce="function"==typeof e.transfer?function(n){return n.transfer()}:"function"==typeof structuredClone?function(n){return structuredClone(n,{transfer:[n]})}:function(n){return n})(e)},Fe=function(e){return(Fe="boolean"==typeof e.detached?function(n){return n.detached}:function(n){return 0===n.byteLength})(e)};function We(e,n,b){if(e.slice)return e.slice(n,b);var Q=b-n,ve=new ArrayBuffer(Q);return we(ve,0,e,n,Q),ve}function De(e,n){var b=e[n];if(null!=b){if("function"!=typeof b)throw new TypeError("".concat(String(n)," is not a function"));return b}}var Xe=null!==(ce=null!==(V=r.asyncIterator)&&void 0!==V?V:null===(z=r.for)||void 0===z?void 0:z.call(r,"Symbol.asyncIterator"))&&void 0!==ce?ce:"@@asyncIterator";function Le(e,n,b){if(void 0===n&&(n="sync"),void 0===b)if("async"===n){if(void 0===(b=De(e,Xe)))return function Be(e){var n,b=((n={})[r.iterator]=function(){return e.iterator},n),Q=function(){return w(this,arguments,function(){return o(this,function(me){switch(me.label){case 0:return[5,u(L(N(b)))];case 1:case 2:return[4,g.apply(void 0,[me.sent()])];case 3:return[2,me.sent()]}})})}();return{iterator:Q,nextMethod:Q.next,done:!1}}(Le(e,"sync",De(e,r.iterator)))}else b=De(e,r.iterator);if(void 0===b)throw new TypeError("The object is not iterable");var me=c(b,e,[]);if(!O(me))throw new TypeError("The iterator method must return an object");return{iterator:me,nextMethod:me.next,done:!1}}var Ne,Ye=((Ne={})[Xe]=function(){return this},Ne);Object.defineProperty(Ye,Xe,{enumerable:!1});var Je=function(){function e(n,b){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=b}return e.prototype.next=function(){var n=this,b=function(){return n._nextSteps()};return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,b,b):b(),this._ongoingPromise},e.prototype.return=function(n){var b=this,Q=function(){return b._returnSteps(n)};return this._ongoingPromise?m(this._ongoingPromise,Q,Q):Q()},e.prototype._nextSteps=function(){var n=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Q,ve,b=this._reader,me=s(function(He,$e){Q=He,ve=$e});return K(b,{_chunkSteps:function(He){n._ongoingPromise=void 0,S(function(){return Q({value:He,done:!1})})},_closeSteps:function(){n._ongoingPromise=void 0,n._isFinished=!0,p(b),Q({value:void 0,done:!0})},_errorSteps:function(He){n._ongoingPromise=void 0,n._isFinished=!0,p(b),ve(He)}}),me},e.prototype._returnSteps=function(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;var b=this._reader;if(!this._preventCancel){var Q=f(b,n);return p(b),m(Q,function(){return{value:n,done:!0}})}return p(b),a({value:n,done:!0})},e}(),Ze={next:function(){return de(this)?this._asyncIteratorImpl.next():d(Te("next"))},return:function(e){return de(this)?this._asyncIteratorImpl.return(e):d(Te("return"))}};function de(e){if(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Je}catch{return!1}}function Te(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(Ze,Ye);var ue=Number.isNaN||function(e){return e!=e};function ze(e){var n=We(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Ke(e){var n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function nt(e,n,b){if(!function be(e){return!("number"!=typeof e||ue(e)||e<0)}(b)||b===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:b}),e._queueTotalSize+=b}function it(e){e._queue=new H,e._queueTotalSize=0}function ct(e){return e===DataView}var pt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!st(this))throw Gr("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(n){if(!st(this))throw Gr("respond");if(Me(n,1,"respond"),n=$(n,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Fe(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");yr(this._associatedReadableByteStreamController,n)},e.prototype.respondWithNewView=function(n){if(!st(this))throw Gr("respondWithNewView");if(Me(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Fe(n.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");gr(this._associatedReadableByteStreamController,n)},e}();Object.defineProperties(pt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),_(pt.prototype.respond,"respond"),_(pt.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof r.toStringTag&&Object.defineProperty(pt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ft=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!yt(this))throw or("byobRequest");return Ur(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!yt(this))throw or("desiredSize");return fn(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!yt(this))throw or("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var n=this._controlledReadableByteStream._state;if("readable"!==n)throw new TypeError("The stream (in ".concat(n," state) is not in the readable state and cannot be closed"));ir(this)},e.prototype.enqueue=function(n){if(!yt(this))throw or("enqueue");if(Me(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(0===n.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===n.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableByteStream._state;if("readable"!==b)throw new TypeError("The stream (in ".concat(b," state) is not in the readable state and cannot be enqueued to"));pr(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!yt(this))throw or("error");kt(this,n)},e.prototype[oe]=function(n){zt(this),it(this);var b=this._cancelAlgorithm(n);return vr(this),b},e.prototype[Y]=function(n){var b=this._controlledReadableByteStream;if(this._queueTotalSize>0)cn(this,n);else{var Q=this._autoAllocateChunkSize;if(void 0!==Q){var ve=void 0;try{ve=new ArrayBuffer(Q)}catch(xe){return void n._errorSteps(xe)}var me={buffer:ve,bufferByteLength:Q,byteOffset:0,byteLength:Q,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}le(b,n),At(this)}},e.prototype[re]=function(){if(this._pendingPullIntos.length>0){var n=this._pendingPullIntos.peek();n.readerType="none",this._pendingPullIntos=new H,this._pendingPullIntos.push(n)}},e}();function yt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof ft}function st(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof pt}function At(e){if(function na(e){var n=e._controlledReadableByteStream;return!("readable"!==n._state||e._closeRequested||!e._started)&&(!!(ke(n)&&se(n)>0||jr(n)&&pn(n)>0)||fn(e)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,T(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e)),null},function(Q){return kt(e,Q),null})}}function zt(e){Br(e),e._pendingPullIntos=new H}function Ht(e,n){var b=!1;"closed"===e._state&&(b=!0);var Q=Jt(n);"default"===n.readerType?fe(e,Q,b):function ua(e,n,b){var ve=e._reader._readIntoRequests.shift();b?ve._closeSteps(n):ve._chunkSteps(n)}(e,Q,b)}function Jt(e){return new e.viewConstructor(e.buffer,e.byteOffset,e.bytesFilled/e.elementSize)}function Mt(e,n,b,Q){e._queue.push({buffer:n,byteOffset:b,byteLength:Q}),e._queueTotalSize+=Q}function Dt(e,n,b,Q){var ve;try{ve=We(n,b,b+Q)}catch(me){throw kt(e,me),me}Mt(e,ve,0,Q)}function gt(e,n){n.bytesFilled>0&&Dt(e,n.buffer,n.byteOffset,n.bytesFilled),qt(e)}function Lt(e,n){var b=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),Q=n.bytesFilled+b,ve=b,me=!1,He=Q-Q%n.elementSize;He>=n.minimumFill&&(ve=He-n.bytesFilled,me=!0);for(var $e=e._queue;ve>0;){var Ue=$e.peek(),qe=Math.min(ve,Ue.byteLength);we(n.buffer,n.byteOffset+n.bytesFilled,Ue.buffer,Ue.byteOffset,qe),Ue.byteLength===qe?$e.shift():(Ue.byteOffset+=qe,Ue.byteLength-=qe),e._queueTotalSize-=qe,sn(0,qe,n),ve-=qe}return me}function sn(e,n,b){b.bytesFilled+=n}function ln(e){0===e._queueTotalSize&&e._closeRequested?(vr(e),dr(e._controlledReadableByteStream)):At(e)}function Br(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Wr(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var n=e._pendingPullIntos.peek();Lt(e,n)&&(qt(e),Ht(e._controlledReadableByteStream,n))}}function ea(e,n,b,Q){var qe,ve=e._controlledReadableByteStream,me=n.constructor,xe=function ht(e){return ct(e)?1:e.BYTES_PER_ELEMENT}(me),He=n.byteOffset,$e=n.byteLength,Ue=b*xe;try{qe=Ce(n.buffer)}catch(_t){return void Q._errorSteps(_t)}var tt={buffer:qe,bufferByteLength:qe.byteLength,byteOffset:He,byteLength:$e,bytesFilled:0,minimumFill:Ue,elementSize:xe,viewConstructor:me,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(tt),void vn(ve,Q);if("closed"!==ve._state){if(e._queueTotalSize>0){if(Lt(e,tt)){var dt=Jt(tt);return ln(e),void Q._chunkSteps(dt)}if(e._closeRequested){var bt=new TypeError("Insufficient bytes to fill elements in the given buffer");return kt(e,bt),void Q._errorSteps(bt)}}e._pendingPullIntos.push(tt),vn(ve,Q),At(e)}else{var at=new me(tt.buffer,tt.byteOffset,0);Q._closeSteps(at)}}function un(e,n){var b=e._pendingPullIntos.peek();Br(e),"closed"===e._controlledReadableByteStream._state?function ta(e,n){"none"===n.readerType&&qt(e);var b=e._controlledReadableByteStream;if(jr(b))for(;pn(b)>0;)Ht(b,qt(e))}(e,b):function ra(e,n,b){if(sn(0,n,b),"none"===b.readerType)return gt(e,b),void Wr(e);if(!(b.bytesFilled<b.minimumFill)){qt(e);var Q=b.bytesFilled%b.elementSize;Q>0&&Dt(e,b.buffer,b.byteOffset+b.bytesFilled-Q,Q),b.bytesFilled-=Q,Ht(e._controlledReadableByteStream,b),Wr(e)}}(e,n,b),At(e)}function qt(e){return e._pendingPullIntos.shift()}function vr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ir(e){var n=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===n._state){if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var b=e._pendingPullIntos.peek();if(b.bytesFilled%b.elementSize!=0){var Q=new TypeError("Insufficient bytes to fill elements in the given buffer");throw kt(e,Q),Q}}vr(e),dr(n)}}function pr(e,n){var b=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===b._state){var Q=n.buffer,ve=n.byteOffset,me=n.byteLength;if(Fe(Q))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var xe=Ce(Q);if(e._pendingPullIntos.length>0){var He=e._pendingPullIntos.peek();if(Fe(He.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Br(e),He.buffer=Ce(He.buffer),"none"===He.readerType&&gt(e,He)}ke(b)?(function Zn(e){for(var n=e._controlledReadableByteStream._reader;n._readRequests.length>0;){if(0===e._queueTotalSize)return;cn(e,n._readRequests.shift())}}(e),0===se(b)?Mt(e,xe,ve,me):(e._pendingPullIntos.length>0&&qt(e),fe(b,new Uint8Array(xe,ve,me),!1))):jr(b)?(Mt(e,xe,ve,me),Wr(e)):Mt(e,xe,ve,me),At(e)}}function kt(e,n){var b=e._controlledReadableByteStream;"readable"===b._state&&(zt(e),it(e),vr(e),Wn(b,n))}function cn(e,n){var b=e._queue.shift();e._queueTotalSize-=b.byteLength,ln(e);var Q=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);n._chunkSteps(Q)}function Ur(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var n=e._pendingPullIntos.peek(),b=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),Q=Object.create(pt.prototype);(function ia(e,n,b){e._associatedReadableByteStreamController=n,e._view=b})(Q,e,b),e._byobRequest=Q}return e._byobRequest}function fn(e){var n=e._controlledReadableByteStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function yr(e,n){var b=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(b.bytesFilled+n>b.byteLength)throw new RangeError("bytesWritten out of range")}b.buffer=Ce(b.buffer),un(e,n)}function gr(e,n){var b=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(b.byteOffset+b.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(b.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(b.bytesFilled+n.byteLength>b.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var ve=n.byteLength;b.buffer=Ce(n.buffer),un(e,ve)}function dn(e,n,b,Q,ve,me,xe){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,it(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=me,n._pullAlgorithm=Q,n._cancelAlgorithm=ve,n._autoAllocateChunkSize=xe,n._pendingPullIntos=new H,e._readableStreamController=n,T(a(b()),function(){return n._started=!0,At(n),null},function($e){return kt(n,$e),null})}function Gr(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function or(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function sa(e,n){if("byob"!==(e="".concat(e)))throw new TypeError("".concat(n," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function hn(e){return new Nt(e)}function vn(e,n){e._reader._readIntoRequests.push(n)}function pn(e){return e._reader._readIntoRequests.length}function jr(e){var n=e._reader;return!(void 0===n||!Vt(n))}Object.defineProperties(ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),_(ft.prototype.close,"close"),_(ft.prototype.enqueue,"enqueue"),_(ft.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(ft.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Nt=function(){function e(n){if(Me(n,1,"ReadableStreamBYOBReader"),q(n,"First parameter"),Ut(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!yt(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ee(this,n),this._readIntoRequests=new H}return Object.defineProperty(e.prototype,"closed",{get:function(){return Vt(this)?this._closedPromise:d(mr("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),Vt(this)?void 0===this._ownerReadableStream?d(x("cancel")):f(this,n):d(mr("cancel"))},e.prototype.read=function(n,b){if(void 0===b&&(b={}),!Vt(this))return d(mr("read"));if(!ArrayBuffer.isView(n))return d(new TypeError("view must be an array buffer view"));if(0===n.byteLength)return d(new TypeError("view must have non-zero byteLength"));if(0===n.buffer.byteLength)return d(new TypeError("view's buffer must have non-zero byteLength"));if(Fe(n.buffer))return d(new TypeError("view's buffer has been detached"));var Q;try{Q=function la(e,n){var b;return Pe(e,n),{min:$(null!==(b=e?.min)&&void 0!==b?b:1,"".concat(n," has member 'min' that"))}}(b,"options")}catch(Ue){return d(Ue)}var ve=Q.min;if(0===ve)return d(new TypeError("options.min must be greater than 0"));if(function Ct(e){return ct(e.constructor)}(n)){if(ve>n.byteLength)return d(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ve>n.length)return d(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return d(x("read from"));var me,xe,He=s(function(Ue,qe){me=Ue,xe=qe});return yn(this,n,ve,{_chunkSteps:function(Ue){return me({value:Ue,done:!1})},_closeSteps:function(Ue){return me({value:Ue,done:!0})},_errorSteps:function(Ue){return xe(Ue)}}),He},e.prototype.releaseLock=function(){if(!Vt(this))throw mr("releaseLock");void 0!==this._ownerReadableStream&&function ca(e){p(e),gn(e,new TypeError("Reader was released"))}(this)},e}();function Vt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof Nt}function yn(e,n,b,Q){var ve=e._ownerReadableStream;ve._disturbed=!0,"errored"===ve._state?Q._errorSteps(ve._storedError):ea(ve._readableStreamController,n,b,Q)}function gn(e,n){var b=e._readIntoRequests;e._readIntoRequests=new H,b.forEach(function(Q){Q._errorSteps(n)})}function mr(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function sr(e,n){var b=e.highWaterMark;if(void 0===b)return n;if(ue(b)||b<0)throw new RangeError("Invalid highWaterMark");return b}function br(e){return e.size||function(){return 1}}function Sr(e,n){Pe(e,n);var b=e?.highWaterMark,Q=e?.size;return{highWaterMark:void 0===b?void 0:ae(b),size:void 0===Q?void 0:fa(Q,"".concat(n," has member 'size' that"))}}function fa(e,n){return Oe(e,n),function(b){return ae(e(b))}}function ha(e,n,b){return Oe(e,b),function(Q){return P(e,n,[Q])}}function va(e,n,b){return Oe(e,b),function(){return P(e,n,[])}}function pa(e,n,b){return Oe(e,b),function(Q){return c(e,n,[Q])}}function ya(e,n,b){return Oe(e,b),function(Q,ve){return P(e,n,[Q,ve])}}function mn(e,n){if(!Qt(e))throw new TypeError("".concat(n," is not a WritableStream."))}Object.defineProperties(Nt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),_(Nt.prototype.cancel,"cancel"),_(Nt.prototype.read,"read"),_(Nt.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Nt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var ma="function"==typeof AbortController;var Bt=function(){function e(n,b){void 0===n&&(n={}),void 0===b&&(b={}),void 0===n?n=null:Ie(n,"First parameter");var Q=Sr(b,"Second parameter"),ve=function da(e,n){Pe(e,n);var b=e?.abort,Q=e?.close,ve=e?.start,me=e?.type,xe=e?.write;return{abort:void 0===b?void 0:ha(b,e,"".concat(n," has member 'abort' that")),close:void 0===Q?void 0:va(Q,e,"".concat(n," has member 'close' that")),start:void 0===ve?void 0:pa(ve,e,"".concat(n," has member 'start' that")),write:void 0===xe?void 0:ya(xe,e,"".concat(n," has member 'write' that")),type:me}}(n,"First parameter");if(Sn(this),void 0!==ve.type)throw new RangeError("Invalid type is specified");var xe=br(Q);!function Ia(e,n,b,Q){var ve=Object.create(er.prototype);Rn(e,ve,void 0!==n.start?function(){return n.start(ve)}:function(){},void 0!==n.write?function(Ue){return n.write(Ue,ve)}:function(){return a(void 0)},void 0!==n.close?function(){return n.close()}:function(){return a(void 0)},void 0!==n.abort?function(Ue){return n.abort(Ue)}:function(){return a(void 0)},b,Q)}(this,ve,sr(Q,1),xe)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Qt(this))throw Pr("locked");return Zt(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(n){return void 0===n&&(n=void 0),Qt(this)?Zt(this)?d(new TypeError("Cannot abort a stream that already has a writer")):Ar(this,n):d(Pr("abort"))},e.prototype.close=function(){return Qt(this)?Zt(this)?d(new TypeError("Cannot close a stream that already has a writer")):Rt(this)?d(new TypeError("Cannot close an already-closing stream")):An(this):d(Pr("close"))},e.prototype.getWriter=function(){if(!Qt(this))throw Pr("getWriter");return bn(this)},e}();function bn(e){return new Ot(e)}function Sn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new H,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof Bt}function Zt(e){return void 0!==e._writer}function Ar(e,n){var b;if("closed"===e._state||"errored"===e._state)return a(void 0);e._writableStreamController._abortReason=n,null===(b=e._writableStreamController._abortController)||void 0===b||b.abort(n);var Q=e._state;if("closed"===Q||"errored"===Q)return a(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var ve=!1;"erroring"===Q&&(ve=!0,n=void 0);var me=s(function(xe,He){e._pendingAbortRequest={_promise:void 0,_resolve:xe,_reject:He,_reason:n,_wasAlreadyErroring:ve}});return e._pendingAbortRequest._promise=me,ve||Hr(e,n),me}function An(e){var n=e._state;if("closed"===n||"errored"===n)return d(new TypeError("The stream (in ".concat(n," state) is not in the writable state and cannot be closed")));var b=s(function(ve,me){e._closeRequest={_resolve:ve,_reject:me}}),Q=e._writer;return void 0!==Q&&e._backpressure&&"writable"===n&&Qr(Q),function Ma(e){nt(e,wn,0),Cr(e)}(e._writableStreamController),b}function zr(e,n){"writable"!==e._state?Vr(e):Hr(e,n)}function Hr(e,n){var b=e._writableStreamController;e._state="erroring",e._storedError=n;var Q=e._writer;void 0!==Q&&_n(Q,n),!function wa(e){return!(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)}(e)&&b._started&&Vr(e)}function Vr(e){e._state="errored",e._writableStreamController[J]();var n=e._storedError;if(e._writeRequests.forEach(function(ve){ve._reject(n)}),e._writeRequests=new H,void 0!==e._pendingAbortRequest){var b=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,b._wasAlreadyErroring)return b._reject(n),void kr(e);T(e._writableStreamController[te](b._reason),function(){return b._resolve(),kr(e),null},function(ve){return b._reject(ve),kr(e),null})}else kr(e)}function Rt(e){return!(void 0===e._closeRequest&&void 0===e._inFlightCloseRequest)}function kr(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var n=e._writer;void 0!==n&&Jr(n,e._storedError)}function Xr(e,n){var b=e._writer;void 0!==b&&n!==e._backpressure&&(n?function Ga(e){Rr(e)}(b):Qr(b)),e._backpressure=n}Object.defineProperties(Bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),_(Bt.prototype.abort,"abort"),_(Bt.prototype.close,"close"),_(Bt.prototype.getWriter,"getWriter"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});var Ot=function(){function e(n){if(Me(n,1,"WritableStreamDefaultWriter"),mn(n,"First parameter"),Zt(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;var b=n._state;if("writable"===b)!Rt(n)&&n._backpressure?Rr(this):Fn(this),wr(this);else if("erroring"===b)qr(this,n._storedError),wr(this);else if("closed"===b)Fn(this),function Wa(e){wr(e),On(e)}(this);else{var Q=n._storedError;qr(this,Q),xn(this,Q)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Xt(this)?this._closedPromise:d(Yt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Xt(this))throw Yt("desiredSize");if(void 0===this._ownerWritableStream)throw ur("desiredSize");return function Fa(e){var n=e._ownerWritableStream,b=n._state;return"errored"===b||"erroring"===b?null:"closed"===b?0:Tn(n._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Xt(this)?this._readyPromise:d(Yt("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(n){return void 0===n&&(n=void 0),Xt(this)?void 0===this._ownerWritableStream?d(ur("abort")):function Ea(e,n){return Ar(e._ownerWritableStream,n)}(this,n):d(Yt("abort"))},e.prototype.close=function(){if(!Xt(this))return d(Yt("close"));var n=this._ownerWritableStream;return void 0===n?d(ur("close")):Rt(n)?d(new TypeError("Cannot close an already-closing stream")):kn(this)},e.prototype.releaseLock=function(){if(!Xt(this))throw Yt("releaseLock");void 0!==this._ownerWritableStream&&Cn(this)},e.prototype.write=function(n){return void 0===n&&(n=void 0),Xt(this)?void 0===this._ownerWritableStream?d(ur("write to")):Pn(this,n):d(Yt("write"))},e}();function Xt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof Ot}function kn(e){return An(e._ownerWritableStream)}function Oa(e,n){"pending"===e._closedPromiseState?Jr(e,n):function Ua(e,n){xn(e,n)}(e,n)}function _n(e,n){"pending"===e._readyPromiseState?In(e,n):function ja(e,n){qr(e,n)}(e,n)}function Cn(e){var n=e._ownerWritableStream,b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_n(e,b),Oa(e,b),n._writer=void 0,e._ownerWritableStream=void 0}function Pn(e,n){var b=e._ownerWritableStream,Q=b._writableStreamController,ve=function Da(e,n){try{return e._strategySizeAlgorithm(n)}catch(b){return lr(e,b),1}}(Q,n);if(b!==e._ownerWritableStream)return d(ur("write to"));var me=b._state;if("errored"===me)return d(b._storedError);if(Rt(b)||"closed"===me)return d(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===me)return d(b._storedError);var xe=function Aa(e){return s(function(b,Q){e._writeRequests.push({_resolve:b,_reject:Q})})}(b);return function La(e,n,b){try{nt(e,n,b)}catch(me){return void lr(e,me)}var Q=e._controlledWritableStream;Rt(Q)||"writable"!==Q._state||Xr(Q,$r(e)),Cr(e)}(Q,n,ve),xe}Object.defineProperties(Ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),_(Ot.prototype.abort,"abort"),_(Ot.prototype.close,"close"),_(Ot.prototype.releaseLock,"releaseLock"),_(Ot.prototype.write,"write"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ot.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var wn={},er=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Yr(this))throw Kr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Yr(this))throw Kr("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Yr(this))throw Kr("error");"writable"===this._controlledWritableStream._state&&En(this,n)},e.prototype[te]=function(n){var b=this._abortAlgorithm(n);return _r(this),b},e.prototype[J]=function(){it(this)},e}();function Yr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof er}function Rn(e,n,b,Q,ve,me,xe,He){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,it(n),n._abortReason=void 0,n._abortController=function ba(){if(ma)return new AbortController}(),n._started=!1,n._strategySizeAlgorithm=He,n._strategyHWM=xe,n._writeAlgorithm=Q,n._closeAlgorithm=ve,n._abortAlgorithm=me;var $e=$r(n);Xr(e,$e),T(a(b()),function(){return n._started=!0,Cr(n),null},function(tt){return n._started=!0,zr(e,tt),null})}function _r(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Tn(e){return e._strategyHWM-e._queueTotalSize}function Cr(e){var n=e._controlledWritableStream;if(e._started&&void 0===n._inFlightWriteRequest){if("erroring"===n._state)return void Vr(n);if(0!==e._queue.length){var Q=function rt(e){return e._queue.peek().value}(e);Q===wn?function Na(e){var n=e._controlledWritableStream;(function Ra(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(n),Ke(e);var b=e._closeAlgorithm();_r(e),T(b,function(){return function Ca(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var b=e._writer;void 0!==b&&On(b)}(n),null},function(Q){return function Pa(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),zr(e,n)}(n,Q),null})}(e):function Ba(e,n){var b=e._controlledWritableStream;(function Ta(e){e._inFlightWriteRequest=e._writeRequests.shift()})(b),T(e._writeAlgorithm(n),function(){!function ka(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(b);var ve=b._state;if(Ke(e),!Rt(b)&&"writable"===ve){var me=$r(e);Xr(b,me)}return Cr(e),null},function(ve){return"writable"===b._state&&_r(e),function _a(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,zr(e,n)}(b,ve),null})}(e,Q)}}}function lr(e,n){"writable"===e._controlledWritableStream._state&&En(e,n)}function $r(e){return Tn(e)<=0}function En(e,n){var b=e._controlledWritableStream;_r(e),Hr(b,n)}function Pr(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function Kr(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function Yt(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function ur(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function wr(e){e._closedPromise=s(function(n,b){e._closedPromise_resolve=n,e._closedPromise_reject=b,e._closedPromiseState="pending"})}function xn(e,n){wr(e),Jr(e,n)}function Jr(e,n){void 0!==e._closedPromise_reject&&(l(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function On(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Rr(e){e._readyPromise=s(function(n,b){e._readyPromise_resolve=n,e._readyPromise_reject=b}),e._readyPromiseState="pending"}function qr(e,n){Rr(e),In(e,n)}function Fn(e){Rr(e),Qr(e)}function In(e,n){void 0!==e._readyPromise_reject&&(l(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Qr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(er.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(er.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Zr=function za(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0}();var Ya=function Va(){var e=Zr?.DOMException;return function Ha(e){if("function"!=typeof e&&"object"!=typeof e||"DOMException"!==e.name)return!1;try{return new e,!0}catch{return!1}}(e)?e:void 0}()||function Xa(){var e=function(b,Q){this.message=b||"",this.name=Q||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return _(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Mn(e,n,b,Q,ve,me){var xe=Z(e),He=bn(n);e._disturbed=!0;var $e=!1,Ue=a(void 0);return s(function(qe,tt){var at;if(void 0!==me){if(at=function(){var Qe=void 0!==me.reason?me.reason:new Ya("Aborted","AbortError"),ot=[];Q||ot.push(function(){return"writable"===n._state?Ar(n,Qe):a(void 0)}),ve||ot.push(function(){return"readable"===e._state?wt(e,Qe):a(void 0)}),St(function(){return Promise.all(ot.map(function(ut){return ut()}))},!0,Qe)},me.aborted)return void at();me.addEventListener("abort",at)}if(vt(e,xe._closedPromise,function(Qe){return Q?It(!0,Qe):St(function(){return Ar(n,Qe)},!0,Qe),null}),vt(n,He._closedPromise,function(Qe){return ve?It(!0,Qe):St(function(){return wt(e,Qe)},!0,Qe),null}),function Et(Qe,ot,ut){"closed"===Qe._state?ut():v(ot,ut)}(e,xe._closedPromise,function(){return b?It():St(function(){return function xa(e){var n=e._ownerWritableStream,b=n._state;return Rt(n)||"closed"===b?a(void 0):"errored"===b?d(n._storedError):kn(e)}(He)}),null}),Rt(n)||"closed"===n._state){var _t=new TypeError("the destination writable stream closed before all data could be piped to it");ve?It(!0,_t):St(function(){return wt(e,_t)},!0,_t)}function Tt(){var Qe=Ue;return h(Ue,function(){return Qe!==Ue?Tt():void 0})}function vt(Qe,ot,ut){"errored"===Qe._state?ut(Qe._storedError):C(ot,ut)}function St(Qe,ot,ut){function xt(){return T(Qe(),function(){return lt(ot,ut)},function(jt){return lt(!0,jt)}),null}$e||($e=!0,"writable"!==n._state||Rt(n)?xt():v(Tt(),xt))}function It(Qe,ot){$e||($e=!0,"writable"!==n._state||Rt(n)?lt(Qe,ot):v(Tt(),function(){return lt(Qe,ot)}))}function lt(Qe,ot){return Cn(He),p(xe),void 0!==me&&me.removeEventListener("abort",at),Qe?tt(ot):qe(void 0),null}l(function dt(){return s(function(Qe,ot){!function ut(xt){xt?Qe():h(function bt(){return $e?a(!0):h(He._readyPromise,function(){return s(function(Qe,ot){K(xe,{_chunkSteps:function(ut){Ue=h(Pn(He,ut),void 0,X),Qe(!1)},_closeSteps:function(){return Qe(!0)},_errorSteps:ot})})})}(),ut,ot)}(!1)})}())})}var Ft=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Tr(this))throw xr("desiredSize");return en(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Tr(this))throw xr("close");if(!rr(this))throw new TypeError("The stream is not in a state that permits close");$t(this)},e.prototype.enqueue=function(n){if(void 0===n&&(n=void 0),!Tr(this))throw xr("enqueue");if(!rr(this))throw new TypeError("The stream is not in a state that permits enqueue");return tr(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Tr(this))throw xr("error");Pt(this,n)},e.prototype[oe]=function(n){it(this);var b=this._cancelAlgorithm(n);return Er(this),b},e.prototype[Y]=function(n){var b=this._controlledReadableStream;if(this._queue.length>0){var Q=Ke(this);this._closeRequested&&0===this._queue.length?(Er(this),dr(b)):cr(this),n._chunkSteps(Q)}else le(b,n),cr(this)},e.prototype[re]=function(){},e}();function Tr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof Ft}function cr(e){if(Dn(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,T(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,cr(e)),null},function(Q){return Pt(e,Q),null})}}function Dn(e){var n=e._controlledReadableStream;return!(!rr(e)||!e._started)&&(!!(Ut(n)&&se(n)>0)||en(e)>0)}function Er(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function $t(e){if(rr(e)){var n=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Er(e),dr(n))}}function tr(e,n){if(rr(e)){var b=e._controlledReadableStream;if(Ut(b)&&se(b)>0)fe(b,n,!1);else{var Q=void 0;try{Q=e._strategySizeAlgorithm(n)}catch(ve){throw Pt(e,ve),ve}try{nt(e,n,Q)}catch(ve){throw Pt(e,ve),ve}}cr(e)}}function Pt(e,n){var b=e._controlledReadableStream;"readable"===b._state&&(it(e),Er(e),Wn(b,n))}function en(e){var n=e._controlledReadableStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function rr(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function Ln(e,n,b,Q,ve,me,xe){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,it(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=xe,n._strategyHWM=me,n._pullAlgorithm=Q,n._cancelAlgorithm=ve,e._readableStreamController=n,T(a(b()),function(){return n._started=!0,cr(n),null},function($e){return Pt(n,$e),null})}function xr(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function Ja(e,n){return yt(e._readableStreamController)?function Qa(e){var He,$e,Ue,qe,tt,n=Z(e),b=!1,Q=!1,ve=!1,me=!1,xe=!1,at=s(function(lt){tt=lt});function dt(lt){C(lt._closedPromise,function(Qe){return lt!==n||(kt(Ue._readableStreamController,Qe),kt(qe._readableStreamController,Qe),(!me||!xe)&&tt(void 0)),null})}function bt(){Vt(n)&&(p(n),dt(n=Z(e))),K(n,{_chunkSteps:function(Qe){S(function(){Q=!1,ve=!1;var ot=Qe,ut=Qe;if(!me&&!xe)try{ut=ze(Qe)}catch(xt){return kt(Ue._readableStreamController,xt),kt(qe._readableStreamController,xt),void tt(wt(e,xt))}me||pr(Ue._readableStreamController,ot),xe||pr(qe._readableStreamController,ut),b=!1,Q?Tt():ve&&vt()})},_closeSteps:function(){b=!1,me||ir(Ue._readableStreamController),xe||ir(qe._readableStreamController),Ue._readableStreamController._pendingPullIntos.length>0&&yr(Ue._readableStreamController,0),qe._readableStreamController._pendingPullIntos.length>0&&yr(qe._readableStreamController,0),(!me||!xe)&&tt(void 0)},_errorSteps:function(){b=!1}})}function _t(lt,Qe){R(n)&&(p(n),dt(n=hn(e)));var ot=Qe?qe:Ue,ut=Qe?Ue:qe;yn(n,lt,1,{_chunkSteps:function(jt){S(function(){Q=!1,ve=!1;var ar=Qe?xe:me;if(Qe?me:xe)ar||gr(ot._readableStreamController,jt);else{var Qn=void 0;try{Qn=ze(jt)}catch(on){return kt(ot._readableStreamController,on),kt(ut._readableStreamController,on),void tt(wt(e,on))}ar||gr(ot._readableStreamController,jt),pr(ut._readableStreamController,Qn)}b=!1,Q?Tt():ve&&vt()})},_closeSteps:function(jt){b=!1;var ar=Qe?xe:me,hr=Qe?me:xe;ar||ir(ot._readableStreamController),hr||ir(ut._readableStreamController),void 0!==jt&&(ar||gr(ot._readableStreamController,jt),!hr&&ut._readableStreamController._pendingPullIntos.length>0&&yr(ut._readableStreamController,0)),(!ar||!hr)&&tt(void 0)},_errorSteps:function(){b=!1}})}function Tt(){if(b)return Q=!0,a(void 0);b=!0;var lt=Ur(Ue._readableStreamController);return null===lt?bt():_t(lt._view,!1),a(void 0)}function vt(){if(b)return ve=!0,a(void 0);b=!0;var lt=Ur(qe._readableStreamController);return null===lt?bt():_t(lt._view,!0),a(void 0)}function Et(lt){if(me=!0,He=lt,xe){var Qe=Se([He,$e]),ot=wt(e,Qe);tt(ot)}return at}function St(lt){if(xe=!0,$e=lt,me){var Qe=Se([He,$e]),ot=wt(e,Qe);tt(ot)}return at}function It(){}return Ue=Bn(It,Tt,Et),qe=Bn(It,vt,St),dt(n),[Ue,qe]}(e):function qa(e,n){var He,$e,Ue,qe,tt,b=Z(e),Q=!1,ve=!1,me=!1,xe=!1,at=s(function(vt){tt=vt});function dt(){return Q?(ve=!0,a(void 0)):(Q=!0,K(b,{_chunkSteps:function(Et){S(function(){ve=!1;var It=Et;me||tr(Ue._readableStreamController,Et),xe||tr(qe._readableStreamController,It),Q=!1,ve&&dt()})},_closeSteps:function(){Q=!1,me||$t(Ue._readableStreamController),xe||$t(qe._readableStreamController),(!me||!xe)&&tt(void 0)},_errorSteps:function(){Q=!1}}),a(void 0))}function bt(vt){if(me=!0,He=vt,xe){var Et=Se([He,$e]),St=wt(e,Et);tt(St)}return at}function _t(vt){if(xe=!0,$e=vt,me){var Et=Se([He,$e]),St=wt(e,Et);tt(St)}return at}function Tt(){}return Ue=fr(Tt,dt,bt),qe=fr(Tt,dt,_t),C(b._closedPromise,function(vt){return Pt(Ue._readableStreamController,vt),Pt(qe._readableStreamController,vt),(!me||!xe)&&tt(void 0),null}),[Ue,qe]}(e)}function ei(e){return function Za(e){return O(e)&&typeof e.getReader<"u"}(e)?function ri(e){var n;function Q(){var me;try{me=e.read()}catch(xe){return d(xe)}return m(me,function(xe){if(!O(xe))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");xe.done?$t(n._readableStreamController):tr(n._readableStreamController,xe.value)})}function ve(me){try{return a(e.cancel(me))}catch(xe){return d(xe)}}return n=fr(X,Q,ve,0)}(e.getReader()):function ti(e){var n,b=Le(e,"async");function ve(){var xe;try{xe=function je(e){var n=c(e.nextMethod,e.iterator,[]);if(!O(n))throw new TypeError("The iterator.next() method must return an object");return n}(b)}catch($e){return d($e)}return m(a(xe),function($e){if(!O($e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(function Ge(e){return Boolean(e.done)}($e))$t(n._readableStreamController);else{var qe=function Ve(e){return e.value}($e);tr(n._readableStreamController,qe)}})}function me(xe){var $e,Ue,He=b.iterator;try{$e=De(He,"return")}catch(tt){return d(tt)}if(void 0===$e)return a(void 0);try{Ue=c($e,He,[xe])}catch(tt){return d(tt)}return m(a(Ue),function(tt){if(!O(tt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return n=fr(X,ve,me,0)}(e)}function ai(e,n,b){return Oe(e,b),function(Q){return P(e,n,[Q])}}function ii(e,n,b){return Oe(e,b),function(Q){return P(e,n,[Q])}}function oi(e,n,b){return Oe(e,b),function(Q){return c(e,n,[Q])}}function si(e,n){if("bytes"!==(e="".concat(e)))throw new TypeError("".concat(n," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function Nn(e,n){Pe(e,n);var b=e?.preventAbort,Q=e?.preventCancel,ve=e?.preventClose,me=e?.signal;return void 0!==me&&function ui(e,n){if(!function ga(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch{return!1}}(e))throw new TypeError("".concat(n," is not an AbortSignal."))}(me,"".concat(n," has member 'signal' that")),{preventAbort:Boolean(b),preventCancel:Boolean(Q),preventClose:Boolean(ve),signal:me}}Object.defineProperties(Ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),_(Ft.prototype.close,"close"),_(Ft.prototype.enqueue,"enqueue"),_(Ft.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ft.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var mt=function(){function e(n,b){void 0===n&&(n={}),void 0===b&&(b={}),void 0===n?n=null:Ie(n,"First parameter");var Q=Sr(b,"Second parameter"),ve=function ni(e,n){Pe(e,n);var b=e,Q=b?.autoAllocateChunkSize,ve=b?.cancel,me=b?.pull,xe=b?.start,He=b?.type;return{autoAllocateChunkSize:void 0===Q?void 0:$(Q,"".concat(n," has member 'autoAllocateChunkSize' that")),cancel:void 0===ve?void 0:ai(ve,b,"".concat(n," has member 'cancel' that")),pull:void 0===me?void 0:ii(me,b,"".concat(n," has member 'pull' that")),start:void 0===xe?void 0:oi(xe,b,"".concat(n," has member 'start' that")),type:void 0===He?void 0:si(He,"".concat(n," has member 'type' that"))}}(n,"First parameter");if(tn(this),"bytes"===ve.type){if(void 0!==Q.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function aa(e,n,b){var ve,me,xe,Q=Object.create(ft.prototype);ve=void 0!==n.start?function(){return n.start(Q)}:function(){},me=void 0!==n.pull?function(){return n.pull(Q)}:function(){return a(void 0)},xe=void 0!==n.cancel?function($e){return n.cancel($e)}:function(){return a(void 0)};var He=n.autoAllocateChunkSize;if(0===He)throw new TypeError("autoAllocateChunkSize must be greater than 0");dn(e,Q,ve,me,xe,b,He)}(this,ve,sr(Q,0))}else{var xe=br(Q);!function Ka(e,n,b,Q){var ve=Object.create(Ft.prototype);Ln(e,ve,void 0!==n.start?function(){return n.start(ve)}:function(){},void 0!==n.pull?function(){return n.pull(ve)}:function(){return a(void 0)},void 0!==n.cancel?function($e){return n.cancel($e)}:function(){return a(void 0)},b,Q)}(this,ve,sr(Q,1),xe)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Wt(this))throw Kt("locked");return Ut(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),Wt(this)?Ut(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):wt(this,n):d(Kt("cancel"))},e.prototype.getReader=function(n){if(void 0===n&&(n=void 0),!Wt(this))throw Kt("getReader");return void 0===function oa(e,n){Pe(e,n);var b=e?.mode;return{mode:void 0===b?void 0:sa(b,"".concat(n," has member 'mode' that"))}}(n,"First parameter").mode?Z(this):hn(this)},e.prototype.pipeThrough=function(n,b){if(void 0===b&&(b={}),!Wt(this))throw Kt("pipeThrough");Me(n,1,"pipeThrough");var Q=function ci(e,n){Pe(e,n);var b=e?.readable;j(b,"readable","ReadableWritablePair"),q(b,"".concat(n," has member 'readable' that"));var Q=e?.writable;return j(Q,"writable","ReadableWritablePair"),mn(Q,"".concat(n," has member 'writable' that")),{readable:b,writable:Q}}(n,"First parameter"),ve=Nn(b,"Second parameter");if(Ut(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Zt(Q.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return l(Mn(this,Q.writable,ve.preventClose,ve.preventAbort,ve.preventCancel,ve.signal)),Q.readable},e.prototype.pipeTo=function(n,b){if(void 0===b&&(b={}),!Wt(this))return d(Kt("pipeTo"));if(void 0===n)return d("Parameter 1 is required in 'pipeTo'.");if(!Qt(n))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var Q;try{Q=Nn(b,"Second parameter")}catch(ve){return d(ve)}return Ut(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Zt(n)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Mn(this,n,Q.preventClose,Q.preventAbort,Q.preventCancel,Q.signal)},e.prototype.tee=function(){if(!Wt(this))throw Kt("tee");return Se(Ja(this))},e.prototype.values=function(n){if(void 0===n&&(n=void 0),!Wt(this))throw Kt("values");return function et(e,n){var b=Z(e),Q=new Je(b,n),ve=Object.create(Ze);return ve._asyncIteratorImpl=Q,ve}(this,function li(e,n){Pe(e,n);var b=e?.preventCancel;return{preventCancel:Boolean(b)}}(n,"First parameter").preventCancel)},e.prototype[Xe]=function(n){return this.values(n)},e.from=function(n){return ei(n)},e}();function fr(e,n,b,Q,ve){void 0===Q&&(Q=1),void 0===ve&&(ve=function(){return 1});var me=Object.create(mt.prototype);return tn(me),Ln(me,Object.create(Ft.prototype),e,n,b,Q,ve),me}function Bn(e,n,b){var Q=Object.create(mt.prototype);return tn(Q),dn(Q,Object.create(ft.prototype),e,n,b,0,void 0),Q}function tn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Wt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof mt}function Ut(e){return void 0!==e._reader}function wt(e,n){if(e._disturbed=!0,"closed"===e._state)return a(void 0);if("errored"===e._state)return d(e._storedError);dr(e);var b=e._reader;if(void 0!==b&&Vt(b)){var Q=b._readIntoRequests;b._readIntoRequests=new H,Q.forEach(function(me){me._closeSteps(void 0)})}return m(e._readableStreamController[oe](n),X)}function dr(e){e._state="closed";var n=e._reader;if(void 0!==n&&(pe(n),R(n))){var b=n._readRequests;n._readRequests=new H,b.forEach(function(Q){Q._closeSteps()})}}function Wn(e,n){e._state="errored",e._storedError=n;var b=e._reader;void 0!==b&&(ne(b,n),R(b)?W(b,n):gn(b,n))}function Kt(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Un(e,n){Pe(e,n);var b=e?.highWaterMark;return j(b,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ae(b)}}Object.defineProperties(mt,{from:{enumerable:!0}}),Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),_(mt.from,"from"),_(mt.prototype.cancel,"cancel"),_(mt.prototype.getReader,"getReader"),_(mt.prototype.pipeThrough,"pipeThrough"),_(mt.prototype.pipeTo,"pipeTo"),_(mt.prototype.tee,"tee"),_(mt.prototype.values,"values"),"symbol"==typeof r.toStringTag&&Object.defineProperty(mt.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(mt.prototype,Xe,{value:mt.prototype.values,writable:!0,configurable:!0});var Gn=function(e){return e.byteLength};_(Gn,"size");var Or=function(){function e(n){Me(n,1,"ByteLengthQueuingStrategy"),n=Un(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!zn(this))throw jn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!zn(this))throw jn("size");return Gn},enumerable:!1,configurable:!0}),e}();function jn(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function zn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof Or}Object.defineProperties(Or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Or.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Hn=function(){return 1};_(Hn,"size");var Fr=function(){function e(n){Me(n,1,"CountQueuingStrategy"),n=Un(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Xn(this))throw Vn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Xn(this))throw Vn("size");return Hn},enumerable:!1,configurable:!0}),e}();function Vn(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function Xn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof Fr}function di(e,n,b){return Oe(e,b),function(Q){return P(e,n,[Q])}}function hi(e,n,b){return Oe(e,b),function(Q){return c(e,n,[Q])}}function vi(e,n,b){return Oe(e,b),function(Q,ve){return P(e,n,[Q,ve])}}function pi(e,n,b){return Oe(e,b),function(Q){return P(e,n,[Q])}}Object.defineProperties(Fr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Fr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ir=function(){function e(n,b,Q){void 0===n&&(n={}),void 0===b&&(b={}),void 0===Q&&(Q={}),void 0===n&&(n=null);var ve=Sr(b,"Second parameter"),me=Sr(Q,"Third parameter"),xe=function fi(e,n){Pe(e,n);var b=e?.cancel,Q=e?.flush,ve=e?.readableType,me=e?.start,xe=e?.transform,He=e?.writableType;return{cancel:void 0===b?void 0:pi(b,e,"".concat(n," has member 'cancel' that")),flush:void 0===Q?void 0:di(Q,e,"".concat(n," has member 'flush' that")),readableType:ve,start:void 0===me?void 0:hi(me,e,"".concat(n," has member 'start' that")),transform:void 0===xe?void 0:vi(xe,e,"".concat(n," has member 'transform' that")),writableType:He}}(n,"First parameter");if(void 0!==xe.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==xe.writableType)throw new RangeError("Invalid writableType specified");var tt,He=sr(me,0),$e=br(me),Ue=sr(ve,1),qe=br(ve);(function yi(e,n,b,Q,ve,me){function xe(){return n}function He(at){return function Ai(e,n){var b=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,function(){var ve=e._writable;if("erroring"===ve._state)throw ve._storedError;return Jn(b,n)}):Jn(b,n)}(e,at)}function $e(at){return function ki(e,n){var b=e._transformStreamController;if(void 0!==b._finishPromise)return b._finishPromise;var Q=e._readable;b._finishPromise=s(function(me,xe){b._finishPromise_resolve=me,b._finishPromise_reject=xe});var ve=b._cancelAlgorithm(n);return Lr(b),T(ve,function(){return"errored"===Q._state?nr(b,Q._storedError):(Pt(Q._readableStreamController,n),an(b)),null},function(me){return Pt(Q._readableStreamController,me),nr(b,me),null}),b._finishPromise}(e,at)}function Ue(){return function _i(e){var n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;var b=e._readable;n._finishPromise=s(function(ve,me){n._finishPromise_resolve=ve,n._finishPromise_reject=me});var Q=n._flushAlgorithm();return Lr(n),T(Q,function(){return"errored"===b._state?nr(n,b._storedError):($t(b._readableStreamController),an(n)),null},function(ve){return Pt(b._readableStreamController,ve),nr(n,ve),null}),n._finishPromise}(e)}function qe(){return function Ci(e){return Mr(e,!1),e._backpressureChangePromise}(e)}function tt(at){return function Pi(e,n){var b=e._transformStreamController;if(void 0!==b._finishPromise)return b._finishPromise;var Q=e._writable;b._finishPromise=s(function(me,xe){b._finishPromise_resolve=me,b._finishPromise_reject=xe});var ve=b._cancelAlgorithm(n);return Lr(b),T(ve,function(){return"errored"===Q._state?nr(b,Q._storedError):(lr(Q._writableStreamController,n),nn(e),an(b)),null},function(me){return lr(Q._writableStreamController,me),nn(e),nr(b,me),null}),b._finishPromise}(e,at)}e._writable=function Sa(e,n,b,Q,ve,me){void 0===ve&&(ve=1),void 0===me&&(me=function(){return 1});var xe=Object.create(Bt.prototype);return Sn(xe),Rn(xe,Object.create(er.prototype),e,n,b,Q,ve,me),xe}(xe,He,Ue,$e,b,Q),e._readable=fr(xe,qe,tt,ve,me),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Mr(e,!0),e._transformStreamController=void 0})(this,s(function(dt){tt=dt}),Ue,qe,He,$e),function mi(e,n){var b=Object.create(Gt.prototype);!function gi(e,n,b,Q,ve){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=b,n._flushAlgorithm=Q,n._cancelAlgorithm=ve,n._finishPromise=void 0,n._finishPromise_resolve=void 0,n._finishPromise_reject=void 0}(e,b,void 0!==n.transform?function(xe){return n.transform(xe,b)}:function(xe){try{return Kn(b,xe),a(void 0)}catch(He){return d(He)}},void 0!==n.flush?function(){return n.flush(b)}:function(){return a(void 0)},void 0!==n.cancel?function(xe){return n.cancel(xe)}:function(){return a(void 0)})}(this,xe),tt(void 0!==xe.start?xe.start(this._transformStreamController):void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Yn(this))throw qn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Yn(this))throw qn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function Yn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof Ir}function $n(e,n){Pt(e._readable._readableStreamController,n),rn(e,n)}function rn(e,n){Lr(e._transformStreamController),lr(e._writable._writableStreamController,n),nn(e)}function nn(e){e._backpressure&&Mr(e,!1)}function Mr(e,n){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=s(function(b){e._backpressureChangePromise_resolve=b}),e._backpressure=n}Object.defineProperties(Ir.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ir.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});var Gt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Dr(this))throw Nr("desiredSize");return en(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(n){if(void 0===n&&(n=void 0),!Dr(this))throw Nr("enqueue");Kn(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Dr(this))throw Nr("error");!function bi(e,n){$n(e._controlledTransformStream,n)}(this,n)},e.prototype.terminate=function(){if(!Dr(this))throw Nr("terminate");!function Si(e){var n=e._controlledTransformStream;$t(n._readable._readableStreamController),rn(n,new TypeError("TransformStream terminated"))}(this)},e}();function Dr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof Gt}function Lr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function Kn(e,n){var b=e._controlledTransformStream,Q=b._readable._readableStreamController;if(!rr(Q))throw new TypeError("Readable side is not in a state that permits enqueue");try{tr(Q,n)}catch(me){throw rn(b,me),b._readable._storedError}(function $a(e){return!Dn(e)})(Q)!==b._backpressure&&Mr(b,!0)}function Jn(e,n){return m(e._transformAlgorithm(n),void 0,function(Q){throw $n(e._controlledTransformStream,Q),Q})}function Nr(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function an(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function nr(e,n){void 0!==e._finishPromise_reject&&(l(e._finishPromise),e._finishPromise_reject(n),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function qn(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(Gt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),_(Gt.prototype.enqueue,"enqueue"),_(Gt.prototype.error,"error"),_(Gt.prototype.terminate,"terminate"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Gt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=Or,t.CountQueuingStrategy=Fr,t.ReadableByteStreamController=ft,t.ReadableStream=mt,t.ReadableStreamBYOBReader=Nt,t.ReadableStreamBYOBRequest=pt,t.ReadableStreamDefaultController=Ft,t.ReadableStreamDefaultReader=ge,t.TransformStream=Ir,t.TransformStreamDefaultController=Gt,t.WritableStream=Bt,t.WritableStreamDefaultController=er,t.WritableStreamDefaultWriter=Ot}(i)},6798:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}}]);