"use strict";(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[749],{425:(O,M,_)=>{_.r(M),_.d(M,{MantenimientoRoutingModule:()=>Ve});var C=_(8562),P=_(3997),u=_(7579),m=_(2722),t=_(4650),h=_(8145),v=_(3695),p=_(6895),d=_(4006),f=_(5226),s=_.n(f),I=_(105),q=_(689),b=_(717),y=_(7049),N=_(614);function w(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"tr")(1,"td",26),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.checkData(o.int_bien_id))}),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.checkData(o.int_bien_id))}),t._uU(4),t.qZA(),t.TgZ(5,"td",26),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.checkData(o.int_bien_id))}),t._uU(6),t.qZA(),t.TgZ(7,"td",26),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.checkData(o.int_bien_id))}),t._uU(8),t.qZA(),t.TgZ(9,"td",26),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.checkData(o.int_bien_id))}),t._uU(10),t.qZA()()}if(2&n){const r=a.$implicit;t.xp6(2),t.hij(" ",r.str_codigo_bien," "),t.xp6(2),t.hij(" ",r.str_bien_nombre," "),t.xp6(2),t.hij(" ",r.str_bien_modelo," "),t.xp6(2),t.hij(" ",r.str_bien_serie," "),t.xp6(2),t.hij(" ",r.str_bien_garantia," ")}}function E(n,a){if(1&n&&(t.TgZ(0,"div",23)(1,"table",24),t._UZ(2,"thead"),t.TgZ(3,"tbody"),t.YNc(4,w,11,5,"tr",25),t.qZA()()()),2&n){const r=t.oxw();t.xp6(4),t.Q6J("ngForOf",r.srvMantenimiento.datosSearch)}}function B(n,a){if(1&n&&(t.TgZ(0,"div",28)(1,"h3"),t._uU(2,"Informacion del EsBay del Bien"),t.qZA(),t.TgZ(3,"table",24)(4,"thead")(5,"tr",29)(6,"th")(7,"div",30),t._uU(8,"Titulo"),t.qZA()(),t.TgZ(9,"th")(10,"div",30),t._uU(11,"Descripcion"),t.qZA()()()(),t.TgZ(12,"tbody")(13,"tr",31)(14,"td",32),t._uU(15,"C\xf3digo del Bien"),t.qZA(),t.TgZ(16,"td",32),t._uU(17),t.qZA()(),t.TgZ(18,"tr",31)(19,"td"),t._uU(20,"Nombre del Bien"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.TgZ(23,"tr",31)(24,"td"),t._uU(25,"Modelo del Bien"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA()(),t.TgZ(28,"tr",31)(29,"td"),t._uU(30,"Marca del Bien"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA()(),t.TgZ(33,"tr",31)(34,"td"),t._uU(35,"Condicion del Bien"),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA()(),t.TgZ(38,"tr",31)(39,"td"),t._uU(40,"Disponibilidad del Bien"),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.qZA()(),t.TgZ(43,"tr",31)(44,"td"),t._uU(45,"Estado del Bien"),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA()(),t.TgZ(48,"tr",31)(49,"td"),t._uU(50,"Ubicacion del Bien"),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA()(),t.TgZ(53,"tr",31)(54,"td"),t._uU(55,"Origen de Ingreso"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA()(),t.TgZ(58,"tr",31)(59,"td"),t._uU(60,"Estado del Bien"),t.qZA(),t.TgZ(61,"td"),t._uU(62),t.qZA()(),t.TgZ(63,"tr",31)(64,"td"),t._uU(65,"Fecha Compra del Bien"),t.qZA(),t.TgZ(66,"td"),t._uU(67),t.qZA()(),t.TgZ(68,"tr",31)(69,"td"),t._uU(70,"Fecha de registro del Bien"),t.qZA(),t.TgZ(71,"td"),t._uU(72),t.qZA()(),t.TgZ(73,"tr",31)(74,"td"),t._uU(75,"Descripcion de Condicion"),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.qZA()(),t.TgZ(78,"tr")(79,"td"),t._uU(80,"Garantia"),t.qZA(),t.TgZ(81,"td"),t._uU(82),t.qZA()(),t.TgZ(83,"tr")(84,"td"),t._uU(85,"A\xf1os de Garantia"),t.qZA(),t.TgZ(86,"td"),t._uU(87),t.qZA()()()()()),2&n){const r=t.oxw();t.xp6(17),t.hij(" ",r.srvInventario.dataBienInfo.str_codigo_bien_cod,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_catalogo_bien_descripcion,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_modelo,""),t.xp6(5),t.hij(" ",r.srvCaracteristicas.dataMarca.str_marca_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_condicion_bien_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_habilitado,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_estado,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_ubicacion_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_origen_ingreso,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_estado_logico,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.dt_bien_fecha_compra,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.dt_bien_fecha_compra,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_condicion_bien_nombre,""),t.xp6(5),t.Oqu(r.srvInventario.dataBienInfo.str_bien_garantia),t.xp6(5),t.Oqu(r.srvInventario.dataBienInfo.int_bien_anios_garantia)}}function R(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"h3"),t._uU(3,"Informacion sobre el Custodio"),t.qZA(),t.TgZ(4,"table",24)(5,"thead")(6,"tr",29)(7,"th")(8,"div",30),t._uU(9,"Titulo"),t.qZA()(),t.TgZ(10,"th")(11,"div",30),t._uU(12,"Descripcion"),t.qZA()()()(),t.TgZ(13,"tbody")(14,"tr",31)(15,"td"),t._uU(16,"Cedula"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()(),t.TgZ(19,"tr",31)(20,"td"),t._uU(21,"Nombre"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()(),t.TgZ(24,"tr")(25,"td"),t._uU(26,"Tel\xe9fono"),t.qZA(),t.TgZ(27,"td")(28,"div",33),t._UZ(29,"input",34),t.qZA()()()()()()()),2&n){const r=t.oxw();t.xp6(18),t.hij(" ",r.srvInventario.dataBienInfo.str_custodio_cedula,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_custodio_nombre,"")}}function F(n,a){if(1&n&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&n){const r=a.$implicit;t.s9C("id",r.int_nivel_mantenimiento_id),t.xp6(1),t.hij("",r.str_nivel_mantenimiento_descripcion," ")}}function J(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",11)(1,"h3"),t._uU(2,"Nivel de Mantenimiento"),t.qZA(),t.TgZ(3,"div",35)(4,"select",36),t.NdJ("change",function(i){t.CHM(r);const o=t.oxw();return t.KtG(o.getNivelName(i))}),t.TgZ(5,"option",37),t._uU(6,"Seleccione un nivel"),t.qZA(),t.YNc(7,F,2,2,"option",38),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("selected",!0),t.xp6(2),t.Q6J("ngForOf",r.srvNivelM.datosNivelMantenimiento)}}function S(n,a){if(1&n&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&n){const r=a.$implicit;t.s9C("id",r.int_estado_mantenimiento_id),t.xp6(1),t.hij("",r.str_estado_mantenimiento_descripcion," ")}}function D(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",11)(1,"h3"),t._uU(2,"Estado de Mantenimiento"),t.qZA(),t.TgZ(3,"div",35)(4,"select",40),t.NdJ("change",function(i){t.CHM(r);const o=t.oxw();return t.KtG(o.getEstadoName(i))}),t.TgZ(5,"option",37),t._uU(6,"Seleccione un estado"),t.qZA(),t.YNc(7,S,2,2,"option",38),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("selected",!0),t.xp6(2),t.Q6J("ngForOf",r.srvNivelM.datosEstadoMantenimiento)}}function Y(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion del problema"),t.qZA(),t.TgZ(3,"div",11),t._UZ(4,"br"),t.TgZ(5,"textarea",41),t._uU(6,"\n                      "),t.qZA()()())}function k(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion del diagnostico"),t.qZA(),t.TgZ(3,"div",11),t._UZ(4,"br"),t.TgZ(5,"textarea",42),t._uU(6,"\n                      "),t.qZA()()())}function Q(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion de la Solucion"),t.qZA(),t.TgZ(3,"div",11),t._UZ(4,"br"),t.TgZ(5,"textarea",43),t._uU(6,"\n                  "),t.qZA()()())}function $(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Fecha de Ingreso"),t.qZA(),t.TgZ(3,"div",11),t._UZ(4,"input",44),t.qZA()())}function L(n,a){if(1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Fecha de entrega"),t.qZA(),t.TgZ(3,"div",11),t._UZ(4,"input",45),t.qZA()()),2&n){const r=t.oxw();t.xp6(4),t.s9C("min",r.myForm.value.dt_mantenimiento_correctivo_fecha_revision)}}function j(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",46)(1,"div",47)(2,"button",48),t.NdJ("click",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.send())}),t._uU(3," Finalizar"),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(2),t.Q6J("disabled",!r.myForm.valid)}}let V=(()=>{const a=class{constructor(e,i,o,c,l,g,A){this.srvMantenimiento=e,this.srvInventario=i,this.srvCaracteristicas=o,this.srvNivelM=c,this.srvRegistro=l,this.srvPersona=g,this.fb=A,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.arrBien=[],this.fechaActual=new Date,this.fechaValidacion=this.fechaActual.getMonth()+1<10?this.fechaActual.getFullYear()+"-0"+(this.fechaActual.getMonth()+1)+"-"+this.fechaActual.getDate():this.fechaActual.getFullYear()+"-"+(this.fechaActual.getMonth()+1)+"-"+this.fechaActual.getDate(),this.myForm=this.fb.group({int_nivel_mantenimiento_id:[""],int_estado_mantenimiento_id:[""],int_bien_id:[""],str_codigo_bien:[""],str_mantenimiento_correctivo_motivo:[""],str_mantenimiento_correctivo_descripcion_solucion:[""],int_mantenimiento_diagnostico:[""],str_mantenimiento_correctivo_telefono:[""],str_correctivo_nivel_nombre:[""],str_mantenimiento_correctivo_tecnico_responsable:[""],dt_mantenimiento_correctivo_fecha_revision:[this.fechaValidacion,[d.kI.required]],dt_mantenimiento_correctivo_fecha_entrega:["",[d.kI.required]]})}ngOnInit(){this.nivelMantenimiento(),this.getDataCreador(),this.obtenerEstadoMantenimiento()}regresar(){this.srvMantenimiento.especial=!1,this.srvMantenimiento.typeview=!1}obtenerEstadoMantenimiento(){s().fire({title:"Cargando Estados...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvNivelM.getEstadoMantenimiento({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvNivelM.datosEstadoMantenimiento=e.body),s().close()},error:e=>{console.log(e)}})}nivelMantenimiento(){this.srvNivelM.getNivelMantenimiento({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvNivelM.datosNivelMantenimiento=e.body)},error:e=>{console.log(e)}})}changeBien(e){if(this.moTabla2=!1,e.target.value.length>2){const o=Number(e.target.value);isNaN(o)?this.searchBien({filter:{status:{parameter:"str_bien_estado",data:"ACTIVO"},like:{parameter:"str_bien_nombre",data:e.target.value}}}):this.searchBien({filter:{status:{parameter:"str_bien_estado",data:"ACTIVO"},like:{parameter:"str_codigo_bien",data:e.target.value}}})}}searchBien(e){this.srvInventario.getfiltro(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{console.log("lo que llega del search ->",o.body),document.getElementById("flexCheckDefaultAll"),this.srvMantenimiento.datosSearch=o.body,this.moTabla=!0}})}checkData(e){this.srvMantenimiento.datosSearch=[],this.moTabla=!1,this.moTabla2=!0,document.getElementById("inp-Centro").value="",this.srvInventario.getBienById(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{this.cedula_custodio=o.body.str_custodio_cedula,this.nombre_custodio=o.body.str_custodio_nombre,this.id_bien=o.body.str_codigo_bien_cod,this.myForm.get("int_bien_id")?.setValue(o.body.int_bien_id),this.srvInventario.dataBienInfo=o.body},error:o=>{console.log("error al obtener el bien",o)}})}getNivelName(e){const i=e.target.options[e.target.selectedIndex],o=i.value;this.nivel_id=parseInt(i.id),this.nivel_nombre=o}getEstadoName(e){const i=e.target.options[e.target.selectedIndex],o=i.value;this.estado_id=parseInt(i.id),this.estado_nombre=o}getDataCreador(){this.nombre_tecnico=this.srvPersona.dataMe.str_per_nombres+" "+this.srvPersona.dataMe.str_per_apellidos}send(){this.myForm.value.str_codigo_bien=this.id_bien,this.myForm.value.str_mantenimiento_correctivo_tecnico_responsable=this.nombre_tecnico,this.myForm.value.int_nivel_mantenimiento_id=this.nivel_id,this.myForm.value.str_correctivo_nivel_nombre=this.nivel_nombre,this.myForm.value.int_estado_mantenimiento_id=this.estado_id,console.log("lo que se envia",this.myForm.value);const e=this.myForm.value;s().fire({title:"\xbfEst\xe1 seguro de crear este mantenimiento?",showDenyButton:!0,confirmButtonText:"Agregar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.srvRegistro.postRegistroCorrectivo(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Mantenimiento creado Correctamente",icon:"success",showConfirmButton:!1,timer:3500}):s().fire({title:o.message,icon:"error",showConfirmButton:!1,timer:3500}),setTimeout(()=>{s().close()},3500),this.srvMantenimiento.especial=!1,this.srvMantenimiento.typeview=!1},error:o=>{console.log(o),s().fire({title:"No se agrego el Mantenimiento",icon:"error",showConfirmButton:!1,timer:1500})},complete:()=>{this.myForm.reset()}})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(v.p),t.Y36(I.I),t.Y36(q.z),t.Y36(b.R),t.Y36(y.K),t.Y36(N.F),t.Y36(d.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-agregar-mantenimiento"]],decls:36,vars:12,consts:[[1,"titleConfiguration"],[1,"titleButton"],[1,"title"],[2,"color","#B41A12"],[1,"back"],[1,"btn-primary-add",3,"click"],[2,"display","grid","gap","20px"],[3,"formGroup"],[2,"display","grid","gap","35px"],[1,"containerRes"],[1,"container-Find","filtradoContainer"],[1,"containerInfo"],["for",""],[1,"container-Input"],["id","inp-Centro","type","text","autocomplete","off","placeholder","DIGITE NOMBRE DEL BIEN","required","",1,"",3,"input"],[1,"padre-check",2,"height","100%"],["class","tabla-cuerpo","style","height: 90% !important;",4,"ngIf"],["class","tableBo",4,"ngIf"],[4,"ngIf"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","30px"],["class","containerInfo",4,"ngIf"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","35px"],["class","buttons-action",4,"ngIf"],[1,"tabla-cuerpo",2,"height","90% !important"],[1,"table","table-striped","tabla-estilos"],[4,"ngFor","ngForOf"],["id","dato-check",1,"select",3,"click"],["id","name-check",1,"select",3,"click"],[1,"tableBo"],[1,"encabezado"],[1,"d-flex"],[1,"container-Row"],[2,"font-size","13px","font-weight","bold"],[1,"container-Input",2,"margin-top","0px !important","height","100% !important"],["type","text","id","nombre","placeholder","Ingrese el tel\xe9fono del custodio","formControlName","str_mantenimiento_correctivo_telefono","required","",1,"inp-info"],[1,"container-Select"],["formControlName","int_nivel_mantenimiento_id",3,"change"],["select","","disabled","",3,"selected"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["formControlName","int_estado_mantenimiento_id",3,"change"],["type","text","placeholder","DESCRIPCION DEL PROBLEMA","rows","7","cols","5000","formControlName","str_mantenimiento_correctivo_motivo"],["type","text","placeholder","DESCRIPCION DEL PROBLEMA","rows","7","cols","5000","formControlName","int_mantenimiento_diagnostico"],["type","text","placeholder","DESCRIPCION DE LA SOLUCION","rows","7","cols","5000","formControlName","str_mantenimiento_correctivo_descripcion_solucion"],["type","date","formControlName","dt_mantenimiento_correctivo_fecha_revision"],["type","date","formControlName","dt_mantenimiento_correctivo_fecha_entrega",3,"min"],[1,"buttons-action"],[1,"container-Btns"],[1,"btn-primary-add",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Agregar Mantenimiento "),t.TgZ(5,"span",3),t._uU(6," Correctivo "),t.qZA()()()()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return o.regresar()}),t._uU(9," Regresar"),t.qZA()(),t.TgZ(10,"div",6)(11,"form",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"label",12),t._uU(17,"Buscar Bienes"),t.qZA(),t.TgZ(18,"div",13)(19,"input",14),t.NdJ("input",function(l){return o.changeBien(l)}),t.qZA()()()(),t.TgZ(20,"div",15),t.YNc(21,E,5,1,"div",16),t.qZA()(),t.YNc(22,B,88,15,"div",17),t.YNc(23,R,30,2,"div",18),t.TgZ(24,"div",19),t.YNc(25,J,8,2,"div",20),t.YNc(26,D,8,2,"div",20),t.qZA(),t.TgZ(27,"div",6)(28,"div",19),t.YNc(29,Y,7,0,"div",18),t.YNc(30,k,7,0,"div",18),t.qZA(),t.YNc(31,Q,7,0,"div",18),t.qZA(),t.TgZ(32,"div",21),t.YNc(33,$,5,0,"div",18),t.YNc(34,L,5,1,"div",18),t.qZA()()(),t.YNc(35,j,4,1,"div",22),t.qZA()),2&i&&(t.xp6(11),t.Q6J("formGroup",o.myForm),t.xp6(10),t.Q6J("ngIf",o.moTabla),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(2),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(3),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(2),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2))},dependencies:[p.sg,p.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.sg,d.u],styles:[".select[_ngcontent-%COMP%]{cursor:pointer}th[_ngcontent-%COMP%]{color:var(--bs-gray-900);border-bottom:1px solid var(--bs-gray-ccc);border-right:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);font-size:var(--font-size);padding:5px;text-align:left;vertical-align:middle}th[_ngcontent-%COMP%]:first-child{border-top-left-radius:3px}th[_ngcontent-%COMP%]:last-child{border-top-right-radius:3px;border-left:none;border-right:1px solid var(--bs-gray-ccc)}tr[_ngcontent-%COMP%]{border-top:1px solid var(--bs-gray-ccc);border-bottom:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);border-right:1px solid var(--bs-gray-ccc);color:var(--bs-gray-ccc);font-size:var(--font-size);font-weight:400;text-shadow:0 1px 1px rgba(256,256,256,.1)}tr[_ngcontent-%COMP%]:first-child{border-top:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}td[_ngcontent-%COMP%]{background:var(--color-bg);padding:5px;text-align:left;vertical-align:middle;font-size:var(--font-size);border-right:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);border-bottom:1px solid var(--bs-gray-ccc);font-family:var(--font-family);text-transform:uppercase;color:var(--color-black)}td[_ngcontent-%COMP%]:last-child{border-left:none}.span-Subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--font-weight-bold);margin-top:3rem}textarea[_ngcontent-%COMP%]{border:.5px solid var(--bs-gray-ccc);border-radius:4px;padding-left:5px;height:100px;width:100%}.buttons-action[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:15px}.titleConfiguration[_ngcontent-%COMP%]{width:100%;height:10%}.titleConfiguration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#0c0c0c}.titleConfiguration[_ngcontent-%COMP%]{height:10%;float:left}.titleConfiguration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#0c0c0c}"]}),n})();var T=_(4359),Z=_(8158),x=_(3194),U=_(7888);function z(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",16)(2,"div",17),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_planificacion_estado," ")}}function G(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",16)(2,"div",18),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_planificacion_estado," ")}}function H(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",16)(2,"div",19),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_planificacion_estado," ")}}function K(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifyRegistro(i.int_planificacion_id,"Editar Planificacion","editarPlanificacion"))}),t.TgZ(1,"i",14),t._uU(2,"create"),t.qZA()()}}function X(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.ModifyBienById(i.int_planificacion_id,"Editar Mantenimiento Preventivo","editarMantenimientoPreventivo"))}),t.TgZ(1,"i",14),t._uU(2," add_circle_outline"),t.qZA()()}}function W(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.YNc(11,z,4,1,"td",12),t.YNc(12,G,4,1,"td",12),t.YNc(13,H,4,1,"td",12),t.TgZ(14,"td")(15,"button",13),t.NdJ("click",function(){const o=t.CHM(r).$implicit,c=t.oxw(2);return t.KtG(c.mostrarInfo(o.int_planificacion_id,o.int_ubicacion_id,"Mostrar Planificacion","mostrarPlanificacionDetalles"))}),t.TgZ(16,"i",14),t._uU(17," info_outline"),t.qZA()(),t.YNc(18,K,3,0,"button",15),t.YNc(19,X,3,0,"button",15),t.qZA()()}if(2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.Oqu(r.str_planificacion_codigo),t.xp6(2),t.hij(" ",r.dt_fecha_inicio.substring(0,10)," "),t.xp6(2),t.hij(" ",r.dt_fecha_fin.substring(0,10)," "),t.xp6(2),t.Oqu(r.str_planificacion_centro),t.xp6(1),t.Q6J("ngIf","DESARROLLO"===r.str_planificacion_estado),t.xp6(1),t.Q6J("ngIf","EN PROCESO"===r.str_planificacion_estado),t.xp6(1),t.Q6J("ngIf","FINALIZADO"===r.str_planificacion_estado),t.xp6(5),t.Q6J("ngIf",i.permisoEditar("mantenimiento/administracion")&&"DESARROLLO"==r.str_planificacion_estado),t.xp6(1),t.Q6J("ngIf","DESARROLLO"!=r.str_planificacion_estado)}}function tt(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"table",7)(2,"thead")(3,"tr",8)(4,"th")(5,"div",9),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",9),t._uU(9,"Codigo"),t.qZA()(),t.TgZ(10,"th")(11,"div",9),t._uU(12,"Fecha Inicio"),t.qZA()(),t.TgZ(13,"th")(14,"div",9),t._uU(15,"Fecha Fin"),t.qZA()(),t.TgZ(16,"th")(17,"div",9),t._uU(18,"Centro"),t.qZA()(),t.TgZ(19,"th",10)(20,"div",9),t._uU(21,"Estado"),t.qZA()(),t.TgZ(22,"th")(23,"div",9),t._uU(24,"Acciones"),t.qZA()()()(),t.TgZ(25,"tbody"),t.YNc(26,W,20,10,"tr",11),t.qZA()()()),2&n){const r=t.oxw();t.xp6(26),t.Q6J("ngForOf",r.srvRegistroP.datosPlanificacion)}}function et(n,a){1&n&&(t.TgZ(0,"div",20)(1,"div",21),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",23),t.qZA(),t.kcU(),t.TgZ(4,"h5",24),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",25),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let it=(()=>{const a=class{constructor(e,i,o,c,l,g){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvRegistroP=c,this.srvPreventivo=l,this.srvMantenimiento=g,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.options=["codigo","centro","estados"],this.searchResult=null,this.data="",this.parameter="",this.currentPage=1,this.mapFiltersToRequest={}}ngOnInit(){this.pasarPagina(1),this.obtenerRegistro()}obtenerRegistro(){s().fire({title:"Cargando Registros...",didOpen:()=>{s().showLoading()}}),this.srvRegistroP.getPlanificacion(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{console.log("lo que llega ->",e.body),e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvRegistroP.datosPlanificacion=e.body,this.metadata=e.total),s().close(),this.dataPagina()},error:e=>{console.log("Error",e)}})}modifyRegistro(e,i,o){console.log("lo que envia el id ->",e),this.srvPreventivo.idRegistroPreventivoModify=e,this.srvRegistroP.setPlanEditar(e),this.getPlanificacionById(e),this.elementForm.form=o,this.elementForm.title=i,this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}getPlanificacionById(e){console.log("llega id",e),this.srvRegistroP.getByIdPlanificacion(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{console.log("en el mostrar -----\x3e",i),this.srvRegistroP.setUbicacionC(i.body.int_ubicacion_id),this.srvPreventivo.setCantidadBienes(i.body.int_planificacion_cantidad_bienes)},error:i=>{console.log(i)}})}deleteRegistro(e){}ModifyBienById(e,i,o){this.srvMantenimiento.preventivo=!0,console.log("Funcion para editar el bien por ID",e),this.srvRegistroP.setPlanEditar(e),this.getPlanificacionById(e),this.srvPreventivo.idRegistroPreventivoModify=e}mostrarInfo(e,i,o,c){this.elementForm.form=c,this.elementForm.title=o,this.srvRegistroP.setPlanificacionId(e),this.srvRegistroP.setUbicaPlan(i),this.srvModal.setForm(this.elementForm),this.srvModal.setSelectID_Bien(e),this.srvModal.openModal()}agg(){}dataPagina(){this.elementPagina.dataLength=this.srvRegistroP.datosPlanificacion?this.srvRegistroP.datosPlanificacion.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerRegistro()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}handleSearch(e){this.searchResult=e,""===this.searchResult.data||null==this.searchResult.data?(this.parameter="",this.data="",this.pasarPagina(1)):("estados"===e&&(this.searchResult.parameter="estado"),this.parameter="str_planificacion_"+this.searchResult.parameter,this.data=this.searchResult.data,this.mapFiltersToRequest={size:10,page:1,parameter:this.parameter,data:this.searchResult.data},this.obtenerRegistro())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(b.R),t.Y36(y.K),t.Y36(v.p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mostrar-registro-p"]],decls:6,vars:3,consts:[[3,"options","search"],[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[1,"th-head"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"proceso"],[1,"inactivo"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"app-filter",0),t.NdJ("search",function(l){return o.handleSearch(l)}),t.qZA(),t.TgZ(1,"div",1),t.YNc(2,tt,27,1,"div",2),t.YNc(3,et,8,0,"div",3),t.TgZ(4,"div",4)(5,"app-pagination",5),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.Q6J("options",o.options),t.xp6(2),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q,U.z]}),n})();function nt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",15)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_mantenimiento_correctivo_estado," ")}}function ot(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",15)(2,"div",17),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_mantenimiento_correctivo_estado," ")}}function rt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifyRegistro(i.int_mantenimiento_id))}),t.TgZ(1,"i",19),t._uU(2,"create"),t.qZA()()}}function at(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.traspasoTecnico(i.int_mantenimiento_id,"Traspaso de Tecnico","traspasoTecnico"))}),t.TgZ(1,"i",19),t._uU(2,"person_add"),t.qZA()()}}function st(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteRegistro(i.int_mantenimiento_id))}),t.TgZ(1,"i",19),t._uU(2," delete "),t.qZA()()}}function ct(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteRegistro(i.int_mantenimiento_id))}),t.TgZ(1,"i",19),t._uU(2," loop "),t.qZA()()}}function dt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.YNc(13,nt,4,1,"td",11),t.YNc(14,ot,4,1,"td",11),t.TgZ(15,"td"),t.YNc(16,rt,3,0,"button",12),t.YNc(17,at,3,0,"button",12),t.YNc(18,st,3,0,"button",13),t.YNc(19,ct,3,0,"button",14),t.qZA()()),2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.Oqu(r.str_codigo_bien),t.xp6(2),t.hij(" ",r.str_mantenimiento_correctivo_custodio," "),t.xp6(2),t.Oqu(r.str_mantenimiento_correctivo_tecnico_responsable),t.xp6(2),t.hij(" ",r.dt_mantenimiento_correctivo_fecha_revision.substring(0,10)," "),t.xp6(2),t.Oqu(r.dt_mantenimiento_correctivo_fecha_entrega.substring(0,10)),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_mantenimiento_correctivo_estado),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_mantenimiento_correctivo_estado),t.xp6(2),t.Q6J("ngIf",i.permisoEditar("mantenimiento")),t.xp6(1),t.Q6J("ngIf",i.permisoEditar("mantenimiento")&&i.tecnico===r.str_mantenimiento_correctivo_tecnico_responsable),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_mantenimiento_correctivo_estado&&i.permisoEliminar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_mantenimiento_correctivo_estado&&i.permisoEliminar("mantenimiento/administracion"))}}function lt(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"table",7)(2,"thead")(3,"tr",8)(4,"th")(5,"div",9),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",9),t._uU(9,"Codigo del bien"),t.qZA()(),t.TgZ(10,"th")(11,"div",9),t._uU(12,"Custodio"),t.qZA()(),t.TgZ(13,"th")(14,"div",9),t._uU(15,"T\xe9cnico "),t.qZA()(),t.TgZ(16,"th")(17,"div",9),t._uU(18,"Fecha de Ingreso"),t.qZA()(),t.TgZ(19,"th")(20,"div",9),t._uU(21,"Fecha de Entrega"),t.qZA()(),t.TgZ(22,"th")(23,"div",9),t._uU(24,"Estado"),t.qZA()(),t.TgZ(25,"th")(26,"div",9),t._uU(27,"Acciones"),t.qZA()()()(),t.TgZ(28,"tbody"),t.YNc(29,dt,20,12,"tr",10),t.qZA()()()),2&n){const r=t.oxw();t.xp6(29),t.Q6J("ngForOf",r.srvRegistroC.datosRegistroCorrectivo)}}function _t(n,a){1&n&&(t.TgZ(0,"div",22)(1,"div",23),t.O4$(),t.TgZ(2,"svg",24),t._UZ(3,"path",25),t.qZA(),t.kcU(),t.TgZ(4,"h5",26),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",27),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let mt=(()=>{const a=class{constructor(e,i,o,c,l,g){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvPersona=c,this.srvRegistroC=l,this.srvMantenimiento=g,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.currentPage=1,this.mapFiltersToRequest={},this.options=["custodio","tecnico","codigo bien"],this.searchResult=null,this.data="",this.parameter=""}ngOnInit(){console.log(this.srvPersona.dataMe.str_per_nombres+" "+this.srvPersona.dataMe.str_per_apellidos),this.tecnico=this.srvPersona.dataMe.str_per_nombres+" "+this.srvPersona.dataMe.str_per_apellidos,this.pasarPagina(1)}obtenerRegistro(){s().fire({title:"Cargando Registros...",didOpen:()=>{s().showLoading()}}),this.srvRegistroC.getRegistroCorrectivo(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0?(this.isLoading=!0,this.isData=!0,this.srvRegistroC.datosRegistroCorrectivo=e.body,this.metadata=e.total):(this.isLoading=!1,this.isData=!1),s().close(),this.dataPagina()},error:e=>{console.log("Error",e)}})}modifyRegistro(e){this.srvRegistroC.idRegistroCorrectivoModify=e,this.srvMantenimiento.edidMantenimientoCorrectivo=!0}traspasoTecnico(e,i,o){this.elementForm.form=o,this.elementForm.title=i,console.log("lo que va ->",e),this.srvMantenimiento.setTraspaso(e),this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}deleteRegistro(e){s().fire({title:"\xbfEst\xe1 seguro que desea desactivar este mantenimiento?",showDenyButton:!0,confirmButtonText:"Si, modificar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(s().fire({title:"Modificando Centro...",didOpen:()=>{s().showLoading()}}),this.srvRegistroC.deleteRegistroCorrectivo(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Estado modificado corectamente",icon:"success",showConfirmButton:!1,timer:3e3}):s().fire({title:"No se modifico el estado",icon:"error",showConfirmButton:!1,timer:3e3}),this.obtenerRegistro(),setTimeout(()=>{s().close()},3e3)},error:o=>{console.log("err",o)},complete:()=>{}}))})}dataPagina(){this.elementPagina.dataLength=this.srvRegistroC.datosRegistroCorrectivo?this.srvRegistroC.datosRegistroCorrectivo.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerRegistro()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}handleSearch(e){if(this.searchResult=e,""===this.searchResult.data||null==this.searchResult.data)this.parameter="",this.data="",this.pasarPagina(1);else{switch(this.searchResult.parameter){case"tecnico":this.searchResult.parameter="str_mantenimiento_correctivo_tecnico_responsable";break;case"codigo bien":this.searchResult.parameter="str_codigo_bien";break;case"custodio":this.searchResult.parameter="str_mantenimiento_correctivo_custodio"}this.parameter=this.searchResult.parameter,this.data=this.searchResult.data,this.mapFiltersToRequest={size:10,page:1,parameter:this.parameter,data:this.searchResult.data},this.obtenerRegistro()}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(N.F),t.Y36(y.K),t.Y36(v.p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mostrar-registro-c"]],decls:6,vars:3,consts:[[3,"options","search"],[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-loop",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"inactivo"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-loop",3,"click"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"app-filter",0),t.NdJ("search",function(l){return o.handleSearch(l)}),t.qZA(),t.TgZ(1,"div",1),t.YNc(2,lt,30,1,"div",2),t.YNc(3,_t,8,0,"div",3),t.TgZ(4,"div",4)(5,"app-pagination",5),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.Q6J("options",o.options),t.xp6(2),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q,U.z]}),n})();var pt=_(3613),gt=_(2573),ut=_(4031);function ht(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"tr")(1,"td",40),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"button",41),t.NdJ("click",function(){t.CHM(r);const i=t.oxw(2).index,o=t.oxw();return t.KtG(o.deleteUser(i))}),t.TgZ(5,"i",34),t._uU(6," delete"),t.qZA()()()()}if(2&n){const r=t.oxw(2).index,e=t.oxw();t.xp6(2),t.hij(" ",e.responsablesBien[r].nombre," ")}}function vt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td",40),t._uU(2),t.qZA()()),2&n){const r=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",r.responsable," ")}}function ft(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",6)(1,"div",29)(2,"div",7)(3,"label",30),t._uU(4,"Buscar C\xe9dula:"),t.qZA()(),t.TgZ(5,"div",31),t._UZ(6,"input",32),t.TgZ(7,"button",33),t.NdJ("click",function(i){t.CHM(r);const o=t.oxw(),c=o.$implicit,l=o.index,g=t.oxw();return t.KtG(g.obtenerDatosCentralizada(c.id,i,l))}),t.TgZ(8,"i",34),t._uU(9,"search"),t.qZA()()(),t.TgZ(10,"div",35)(11,"p",36),t._uU(12,"NOMBRE DEL/LOS RESPONSABLE:"),t.qZA(),t.TgZ(13,"div")(14,"h4",37)(15,"table",38)(16,"tbody"),t.YNc(17,ht,7,1,"tr",39),t.YNc(18,vt,3,1,"tr",39),t.qZA()()()()()()()}if(2&n){const r=t.oxw(),e=r.index,i=r.$implicit,o=t.oxw();t.xp6(6),t.MGl("id","cedula_user_",e,""),t.xp6(11),t.Q6J("ngIf",o.responsablesBien[e]),t.xp6(1),t.Q6J("ngIf",i.responsable)}}function bt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"tr")(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",25)(4,"div",20),t._uU(5),t.qZA()(),t.TgZ(6,"td")(7,"div",14),t.YNc(8,ft,19,3,"div",26),t.qZA()(),t.TgZ(9,"td")(10,"div",27)(11,"textarea",28),t.NdJ("click",function(){const o=t.CHM(r).index,c=t.oxw();return t.KtG(c.selectArea(o))})("change",function(i){const o=t.CHM(r),c=o.$implicit,l=o.index,g=t.oxw();return t.KtG(g.observaciones(c.id,i,l))}),t._uU(12,"                                                "),t.qZA()()()()}if(2&n){const r=a.$implicit,e=a.index,i=t.oxw();t.xp6(2),t.hij(" ",r.cod," "),t.xp6(3),t.Oqu(r.name),t.xp6(3),t.Q6J("ngIf",i.aggButton),t.xp6(3),t.s9C("formControlName",e)}}let Tt=(()=>{const a=class{constructor(e,i,o,c,l,g,A,ze,Ge,He){this.srvNivelM=e,this.srvInforme=i,this.srvInventario=o,this.fb=c,this.srvRegistro=l,this.srvCentros=g,this.srvMantenimiento=A,this.srvPersona=ze,this.srvUsuarios=Ge,this.cdr=He,this.paso=0,this.arrNotificar=[],this.arrBien=[],this.manBien=[],this.userResoi=[],this.idUserRespo=[],this.count=0,this.space=" ",this.responsablesBien={},this.responsablesBienes=[],this.destroy$=new u.x,this.formPlanificacion=this.fb.group({fechaInicio:[""],fechaFin:[""],ubicacionId:[""],nombreCentro:[""],cantidadBienes:[0],codigosBienes:[[]],int_nivel_mantenimiento_id:[0],str_planificacion_estado:[""]}),this.formCentro=this.fb.group({int_centro_id:[""],str_centro_nombre:[""],str_centro_tipo_nombre:[""],str_centro_nombre_sede:[""],str_centro_nombre_facultad:[""],str_centro_nombre_dependencia:[""],str_centro_nombre_carrera:[""],str_centro_nombre_proceso:[""]}),this.formNivel=this.fb.group({nivel_descripci\u00f3n:[""]}),this.formSent=c.group({responsablesMantenimiento:[{}],bienesDescripcion:[{}],idPlanificacion:[0],estadoPlanificacion:[""]}),this.descriptionForm=this.fb.group({description:[""],code:[""]}),this.inventoryForm=this.fb.group({inventoryItems:this.fb.array([])})}ngOnInit(){this.aggButton=!0,this.idUserRespo=[],this.userResoi=[],this.srvNivelM.SelectUbicacionC$.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.srvRegistro.ubicacionPreventivo=i,i>0&&this.getInfocentros(i)}}),this.srvNivelM.SelectPlanEdid.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.planificacionID=i,this.getPlanificacionById(i),this.getMantenimientoID(i),this.getMantenimiento2(i)}}),this.srvRegistro.SelectCantidadBienes$.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{}}),this.myForm=this.fb.group({area:this.fb.array([])})}deleteUser(e){delete this.responsablesBien[e],s().fire({title:"Responsable eliminado",icon:"success",confirmButtonText:"Aceptar"})}getMantenimiento2(e){this.srvNivelM.dormirHoy(this.srvRegistro.idRegistroPreventivoModify),this.srvRegistro.obetnerMantenimientoP(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.myForm.patchValue({area:i.body.map(o=>o.str_mantenimiento_descripcion)})}})}getMantenimientoID(e){this.srvRegistro.getPreventivoById(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{console.log("data",i);for(let o=0;o<i.body.bienes.length;o++)this.myForm.get("area").push(this.fb.control(""));console.log("myForm",this.myForm.value),this.agregarBienes(i.body)},error:i=>{console.log(i)}})}getPlanificacionById(e){s().fire({title:"Cargando...",didOpen:()=>{s().showLoading()}}),this.srvNivelM.getByIdPlanificacion(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{s().close(),this.formPlanificacion=this.fb.group({fechaInicio:[i.body.dt_fecha_inicio.substring(0,10)],fechaFin:[i.body.dt_fecha_fin.substring(0,10)],ubicacionId:[i.body.int_ubicacion_id],cantidadBienes:[i.body.int_planificacion_cantidad_bienes],nombreCentro:[i.body.str_planificacion_centro],int_nivel_mantenimiento_id:[i.body.int_nivel_mantenimiento_id]}),this.getInfocentros(i.body.int_ubicacion_id),this.getNivelById(i.body.int_nivel_mantenimiento_id)},error:i=>{console.log(i)}})}agregarBienes(e){for(let i=0;i<e.bienesNombre.length;i++){this.arrNotificar.push({cod:e.bienesNombre[i].str_codigo_bien,name:e.bienesNombre[i].str_nombre_bien,id:e.bienes[i].int_mantenimiento_id,desc:e.bienes[i].str_mantenimiento_descripcion,responsable:e.bienes[i].str_mantenimiento_preventivo_responsable_nombre});const o=this.fb.group({descripcion:e.bienes[i].str_mantenimiento_descripcion,int_mantenimiento_id:e.bienes[i].int_mantenimiento_id});this.inventoryForm.get("inventoryItems").push(o),this.arrBien.push(e.bienesNombre[i].str_codigo_bien)}console.log("arrNotificar",this.arrNotificar)}nivelMantenimiento(){this.srvNivelM.getNivelMantenimiento({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.srvNivelM.datosNivelMantenimiento=e.body)},error:e=>{console.log(e)}})}getNivelById(e){this.srvNivelM.getByIdNivelM(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.formNivel=this.fb.group({nivel_descripci\u00f3n:[i.body.str_nivel_mantenimiento_descripcion]})},error:i=>{console.log(i)}})}getInfocentros(e){this.srvCentros.getDetalles(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{s().close(),this.formCentro=this.fb.group({str_centro_nombre:[i.body.str_centro_nombre],str_centro_tipo_nombre:[i.body.str_centro_tipo_nombre],str_centro_nombre_sede:[i.body.str_centro_nombre_sede],str_centro_nombre_facultad:[i.body.str_centro_nombre_facultad],str_centro_nombre_dependencia:[i.body.str_centro_nombre_dependencia],str_centro_nombre_carrera:[i.body.str_centro_nombre_carrera],str_centro_nombre_proceso:[i.body.str_centro_nombre_proceso]})},error:i=>{console.log(i)}})}getNivelName(e){const i=e.target.options[e.target.selectedIndex],o=i.value;this.nivel_id=parseInt(i.id),this.nivel_nombre=o,this.myForm.value.int_preventivo_nivel_mantenimiento=this.nivel_id}regresar(){this.srvMantenimiento.preventivo=!1}send(){this.formSent.value.bienesDescripcion=this.inventoryForm.value.inventoryItems,this.myForm.value.str_codigo_bien=this.arrBien,this.formSent.value.idPlanificacion=this.planificacionID,this.formSent.value.estadoPlanificacion="FINALIZADO",this.formSent.value.responsablesMantenimiento=[this.responsablesBien],s().fire({title:"\xbfEst\xe1 seguro que desea agregar las observaciones?",text:"Al confirmar se finalizar\xe1 la planificaci\xf3n y no podr\xe1 realizar cambios",showDenyButton:!0,confirmButtonText:"Agregar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.srvRegistro.putMantenimientoP(this.formSent.value).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{console.log(" todo bien")},error:o=>{console.log(o)},complete:()=>{this.srvMantenimiento.preventivo=!1}})})}saved(){this.formSent.value.bienesDescripcion=this.inventoryForm.value.inventoryItems,this.myForm.value.str_codigo_bien=this.arrBien,this.formSent.value.idPlanificacion=this.planificacionID,this.formSent.value.estadoPlanificacion="EN PROCESO",this.formSent.value.responsablesMantenimiento=this.responsablesBienes,console.log("formSent",this.formSent.value),s().fire({title:"\xbfEst\xe1 seguro que desea agregar las observaciones?",showDenyButton:!0,confirmButtonText:"Agregar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.srvRegistro.putMantenimientoP(this.formSent.value).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{console.log(" todo bien")},error:o=>{console.log(o)},complete:()=>{this.srvMantenimiento.preventivo=!1}})})}observaciones(e,i,o){this.manBien.length>this.idSelect&&this.bien==this.manBien[this.idSelect].codigo?this.manBien[this.idSelect].descripcion=this.myForm.value.area:this.manBien.push({descripcion:this.myForm.value.area[o],int_mantenimiento_id:e}),console.log("manBien",this.manBien),this.modiSoloUno(this.manBien)}modiSoloUno(e){for(let i=0;i<e.length;i++)for(let o=0;o<this.arrNotificar.length;o++)this.arrNotificar[o].id==e[i].int_mantenimiento_id&&(this.inventoryForm.value.inventoryItems[o].descripcion=e[i].descripcion,console.log("inventoryItems",this.inventoryForm.value.inventoryItems))}selectArea(e){this.bien="",this.bien=this.arrBien[e],this.idSelect=e}selectResponsable(e){console.log("lo que llega ->",e)}obtenerDatosCentralizada(e,i,o){let c=document.getElementById(`cedula_user_${o}`);s().fire({title:"Buscando...",didOpen:()=>{s().showLoading()}}),this.srvUsuarios.getCentralizada(c.value).pipe((0,m.R)(this.destroy$)).subscribe({next:l=>{if(console.log("res",l),l.status){s().close(),s().fire({title:"Usuario encontrado",icon:"success",showConfirmButton:!1,timer:3e3});const g=l.body.nombre+" "+l.body.apellidos;this.comprobarUser(o,parseInt(l.body.per_id)),this.valido?(this.responsablesBien[o]={id:parseInt(l.body.per_id),nombre:g,cedula:c.value,int_mantenimiento_id:parseInt(e)},console.log("responsablesBien",this.responsablesBien),this.responsablesBienes.push({id:parseInt(l.body.per_id),nombre:g,cedula:c.value,int_mantenimiento_id:parseInt(e)}),console.log("responsablesBienes",this.responsablesBienes),s().fire({title:"Usuario a\xf1adido correctamente",icon:"success",showDenyButton:!1,confirmButtonText:"Aceptar"}),this.cdr.detectChanges()):s().fire({title:"Usuario ya incluido en el manteniiento",icon:"success",showDenyButton:!1,confirmButtonText:"Aceptar"}),this.srvInforme.usuarioSearch=[]}else s().close(),s().fire({title:"Usuario no encontrado",icon:"error",showConfirmButton:!1,timer:3e3})},error:l=>{console.log("err",l)},complete:()=>{}})}comprobarUser(e,i){this.valido=!this.responsablesBien[e]||this.responsablesBien[e].id!==i}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(b.R),t.Y36(pt._),t.Y36(I.I),t.Y36(d.qu),t.Y36(y.K),t.Y36(gt.B),t.Y36(v.p),t.Y36(N.F),t.Y36(ut.X),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editar-mantenimiento-preventivo"]],decls:61,vars:10,consts:[[1,"back"],[1,"btn-primary-add",3,"click"],[2,"display","grid","gap","20px"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","20px"],["action","",3,"formGroup"],[1,"containerItems"],[1,"container-Find","filtradoContainer"],[1,"containerInfo"],["for",""],[1,"container-Input"],["id","inp-Centro","type","text","autocomplete","off","placeholder","DIGITE NOMBRE CENTRO","formControlName","str_centro_nombre","required","",1,""],["id","inp-Centro","type","number","autocomplete","off","placeholder","","formControlName","cantidadBienes","required","",1,""],[3,"formGroup"],["id","inp-Centro","type","text","autocomplete","off","placeholder","","formControlName","nivel_descripci\xf3n","required","",1,""],[1,"containerRes"],[2,"padding-bottom","10px"],[1,"padre-check",2,"display","grid","gap","20px"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"th-head"],[1,"d-flex"],[4,"ngFor","ngForOf"],[1,"container-Btns",2,"margin-bottom","10px","display","flex","justify-content","center","gap","30px"],[1,"btn-primary-add",3,"disabled","click"],["id","dato-check"],["id","name-check"],["class","container-Find filtradoContainer",4,"ngIf"],["formArrayName","area"],["value","bien.desc","placeholder","Observaciones","name","","id","obser","cols","30","rows","10",2,"resize","none",3,"formControlName","click","change"],[1,"cont","search"],["for","text"],[1,"search-BarBtn"],["type","text","oninput","this.value = this.value.replace(/[^0-9]/g, '')","placeholder","0000000000",1,"form-control",3,"id"],["type","submit",1,"btnSearch",3,"click"],[1,"material-icons"],[2,"width","80%"],[1,"p-Title"],[1,"p-Content"],[1,"table","table-striped","tabla-estilos","table-respo"],[4,"ngIf"],[1,"nameUserRespo"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.regresar()}),t._uU(2," Regresar"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Nombre del Centro"),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"input",10),t.qZA()()()()(),t.TgZ(13,"form",4)(14,"div",5)(15,"div",6)(16,"div",7)(17,"label",8),t._uU(18,"Cantidad de bienes"),t.qZA(),t.TgZ(19,"div",9),t._UZ(20,"input",11),t.qZA()()()()(),t.TgZ(21,"form",12)(22,"div",5)(23,"div",6)(24,"div",7)(25,"label",8),t._uU(26,"Nivel"),t.qZA(),t.TgZ(27,"div",9),t._UZ(28,"input",13),t.qZA()()()()()(),t.TgZ(29,"form",12)(30,"div",2)(31,"div",14)(32,"div",15),t._uU(33," Agregar Observaciones "),t.qZA(),t.TgZ(34,"div",16)(35,"div")(36,"div")(37,"table",17)(38,"thead")(39,"tr",18)(40,"th",19)(41,"div",20),t._uU(42,"Codigo"),t.qZA()(),t.TgZ(43,"th",19)(44,"div",20),t._uU(45,"Nombre"),t.qZA()(),t.TgZ(46,"th",19)(47,"div",20),t._uU(48,"Responsable"),t.qZA()(),t.TgZ(49,"th",19)(50,"div",20),t._uU(51,"Observaciones"),t.qZA()()()(),t.TgZ(52,"tbody"),t.YNc(53,bt,13,4,"tr",21),t.qZA()()()()()()()(),t.TgZ(54,"div",22)(55,"div")(56,"button",23),t.NdJ("click",function(){return o.saved()}),t._uU(57," Guardar"),t.qZA()(),t.TgZ(58,"div")(59,"button",23),t.NdJ("click",function(){return o.send()}),t._uU(60," Finalizar"),t.qZA()()()()),2&i&&(t.xp6(5),t.Q6J("formGroup",o.formCentro),t.xp6(7),t.uIk("disabled",!0),t.xp6(1),t.Q6J("formGroup",o.formPlanificacion),t.xp6(7),t.uIk("disabled",!0),t.xp6(1),t.Q6J("formGroup",o.formNivel),t.xp6(7),t.uIk("disabled",!0),t.xp6(1),t.Q6J("formGroup",o.myForm),t.xp6(24),t.Q6J("ngForOf",o.arrNotificar),t.xp6(3),t.Q6J("disabled",!o.myForm.valid),t.xp6(3),t.Q6J("disabled",!o.myForm.valid))},dependencies:[p.sg,p.O5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.sg,d.u,d.CE],styles:[".profile-Name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.profile-Name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--font-weight-bold);font-family:var(--font-family)}.profile-Name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:var(--font-family);color:var(--bs-gray)}.profile-Info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif}.profile-Info[_ngcontent-%COMP%]   .p-Title[_ngcontent-%COMP%]{font-size:10px;font-weight:var(--font-weight-bold);font-family:var(--font-family)}.profile-Info[_ngcontent-%COMP%]   .p-Content[_ngcontent-%COMP%]{font-size:14px;font-weight:var(--font-weight-bold)}.btn-usuario[_ngcontent-%COMP%]:hover{color:var(--color-black);background-color:var(--color-accent);cursor:pointer}.buttons-action[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:15px}.description[_ngcontent-%COMP%]{height:100px}textarea[_ngcontent-%COMP%]{border:.5px solid var(--bs-gray-ccc);border-radius:4px;padding-left:5px;height:100px;width:100%}.tabla-check[_ngcontent-%COMP%]{overflow:auto;height:250px;margin-top:10px;font-family:var(--font-family)}#flexCheckDefaultAll[_ngcontent-%COMP%], .flexCheck[_ngcontent-%COMP%]{height:15px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 0}.back[_ngcontent-%COMP%]{margin:10px 0}.container-Input[_ngcontent-%COMP%]{height:31px}[_ngcontent-%COMP%]::marker{text-transform:initial!important;transition:all .5s}"]}),n})();function Zt(n,a){1&n&&t._UZ(0,"app-mostrar-registro-c")}function xt(n,a){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,Zt,1,0,"app-mostrar-registro-c",10),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",!r.srvMantenimiento.preventivo)}}function Mt(n,a){1&n&&t._UZ(0,"app-mostrar-registro-p")}function Ct(n,a){1&n&&t._UZ(0,"app-editar-mantenimiento-preventivo")}function yt(n,a){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,Mt,1,0,"app-mostrar-registro-p",10),t.YNc(2,Ct,1,0,"app-editar-mantenimiento-preventivo",10),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",!r.srvMantenimiento.preventivo),t.xp6(1),t.Q6J("ngIf",r.srvMantenimiento.preventivo)}}function At(n,a){1&n&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h1"),t._uU(3," Caracter\xedsticas de "),t.TgZ(4,"span"),t._uU(5,"Mantenimiento"),t.qZA()(),t.TgZ(6,"p"),t._uU(7," Apartado donde podr\xe1 gestionar las caracter\xedsticas que se pueden asignar a los procesos de mantenimientos del sistema asi como tener la posibilidad de crearlos y editarlos. "),t.qZA()(),t.TgZ(8,"div",13),t._UZ(9,"img",14)(10,"img",15),t.qZA()())}let It=(()=>{const a=class{constructor(e){this.srvMantenimiento=e,this.menuTabSelected=0,this.typeView=!1,this.isValue=3,this.condiciones=0,this.listaViews={SOPORTE:0,TIPO:1,NIVEL:2,ESTADO:3,REGISTRO:4,PLANIFICACION:5},this.menuTabSelect={id:0,status:!1},this.destroy$=new u.x}ngOnInit(){this.srvMantenimiento.preventivo=!1;const e=window.location.pathname.split("/").pop()||"";this.menuTabSelect.id=this.listaViews[e.toUpperCase()]||0,this.isValue=5,this.srvMantenimiento.SelectButtonName$.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.buttonName=i.id}})}mostrarSoporte(){this.menuTabSelect.id=6,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=9,this.srvMantenimiento.typeview=!0}mostrarTipo(){this.menuTabSelect.id=7,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=10}mostrarNivel(){this.menuTabSelect.id=8,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=11}mostrarEstado(){this.menuTabSelect.id=9,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=12}mostrarRegistro(){this.menuTabSelect.id=10,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=13}mostrarPlanificacion(){this.menuTabSelect.id=11,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=14}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(v.p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mostrar-caracteres"]],decls:14,vars:9,consts:[[1,"body"],[1,"container-Nav"],[1,"navBienes"],[1,"container-NavOptions"],[1,"container-Btn"],["type","button",3,"click"],[1,"container-Body"],["class","tab-pane fade","typeView","true;",4,"ngIf"],["class","container-Welcome",4,"ngIf"],["typeView","true;",1,"tab-pane","fade"],[4,"ngIf"],[1,"container-Welcome"],[1,"container-Left"],[1,"container-Right"],["src","../../../../assets/img/logo-espoch.svg","alt","logo-espoch",1,"logo-Espoch"],["src","../../../../assets/img/characteristics.svg","alt","logo-characteristics",1,"logo-Inventory"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.mostrarSoporte()}),t._uU(6," Correctivo "),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return o.mostrarTipo()}),t._uU(9," Preventivo "),t.qZA()()()()(),t.TgZ(10,"div",6),t.YNc(11,xt,2,1,"div",7),t.YNc(12,yt,3,2,"div",7),t.YNc(13,At,11,0,"div",8),t.qZA()()),2&i&&(t.xp6(5),t.Gre("nav-link ",6===o.menuTabSelect.id?"active":9===o.isValue,""),t.xp6(3),t.Gre("nav-link ",7===o.menuTabSelect.id?"active":10===o.isValue,""),t.xp6(3),t.Q6J("ngIf",6===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",7===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",0===o.menuTabSelect.id))},dependencies:[p.O5,it,mt,Tt],styles:[".body[_ngcontent-%COMP%]{width:100%;height:83%}.navBienes[_ngcontent-%COMP%]{background-color:var(--bs-gray-100)}.container-NavOptions[_ngcontent-%COMP%]{display:flex;height:25px;align-items:flex-end;margin-left:15px;gap:25px;position:relative}.container-NavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;font-size:14px;font-family:var(--font-family)}.container-NavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--color-primary);cursor:pointer;position:relative}.container-NavOptions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--color-primary);border-bottom:solid 1px var(--color-primary)}.container-Btn[_ngcontent-%COMP%]:focus{border-bottom:var(--color-primary);border:solid 2px var(--color-primary);position:relative}.container-NavOptions[_ngcontent-%COMP%]   buttom[_ngcontent-%COMP%]::-moz-focus-inner{background:none;display:flex;border:none;align-items:center;border-bottom:solid 1px var(--color-primary);font-weight:var(--font-weight-bold);color:var(--color-primary);cursor:pointer}.container-Welcome[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:25px;margin-top:25px}.container-Left[_ngcontent-%COMP%], .container-Right[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}h1[_ngcontent-%COMP%]{font-size:50px;font-family:var(--font-family);font-weight:var(--font-weight-bold);color:var(--bs-gray-600)}span[_ngcontent-%COMP%]{color:var( --color-accent)}p[_ngcontent-%COMP%]{font-size:20px;font-family:var(--font-family);font-weight:500;text-align:justify}.container-Right[_ngcontent-%COMP%]{align-items:center;justify-content:center}.logo-Espoch[_ngcontent-%COMP%], .logo-Inventory[_ngcontent-%COMP%]{width:150px;height:150px}"]}),n})();function qt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",15),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_tipo_mantenimiento_estado," ")}}function Nt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_tipo_mantenimiento_estado," ")}}function Pt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifyTipo(i.int_tipo_mantenimiento_id,"Editar Tipo de mantenimiento","editarTipoMantenimiento"))}),t.TgZ(1,"i",18),t._uU(2,"create"),t.qZA()()}}function Ut(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteTipo(i.int_tipo_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," delete "),t.qZA()()}}function Ot(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteTipo(i.int_tipo_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," loop "),t.qZA()()}}function wt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.YNc(9,qt,4,1,"td",10),t.YNc(10,Nt,4,1,"td",10),t.TgZ(11,"td"),t.YNc(12,Pt,3,0,"button",11),t.YNc(13,Ut,3,0,"button",12),t.YNc(14,Ot,3,0,"button",13),t.qZA()()),2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.Oqu(r.str_tipo_mantenimiento_nombre),t.xp6(2),t.Oqu(r.str_tipo_mantenimiento_descripcion),t.xp6(2),t.hij(" ",r.dt_fecha_creacion.substring(0,10)," "),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_tipo_mantenimiento_estado),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_tipo_mantenimiento_estado),t.xp6(2),t.Q6J("ngIf",i.permisoEditar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_tipo_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_tipo_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion"))}}function Et(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr",7)(4,"th")(5,"div",8),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",8),t._uU(9,"Nombre"),t.qZA()(),t.TgZ(10,"th")(11,"div",8),t._uU(12,"Decripci\xf3n"),t.qZA()(),t.TgZ(13,"th")(14,"div",8),t._uU(15,"Fecha Creacion"),t.qZA()(),t.TgZ(16,"th")(17,"div",8),t._uU(18,"Estado"),t.qZA()(),t.TgZ(19,"th")(20,"div",8),t._uU(21,"Acciones"),t.qZA()()()(),t.TgZ(22,"tbody"),t.YNc(23,wt,15,9,"tr",9),t.qZA()()()),2&n){const r=t.oxw();t.xp6(23),t.Q6J("ngForOf",r.srvMantenimiento.datosTipoMantenimiento)}}function Bt(n,a){1&n&&(t.TgZ(0,"div",21)(1,"div",22),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24),t.qZA(),t.kcU(),t.TgZ(4,"h5",25),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",26),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let Rt=(()=>{const a=class{constructor(e,i,o,c){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvMantenimiento=c,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.currentPage=1,this.mapFiltersToRequest={}}ngOnInit(){this.pasarPagina(1)}obtenerTipoMantenimiento(){s().fire({title:"Cargando Tipos de Mantenimiento...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvMantenimiento.getTipoMantenimiento(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvMantenimiento.datosTipoMantenimiento=e.body,this.metadata=e.total),s().close(),this.dataPagina()},error:e=>{console.log(e)}})}modifyTipo(e,i,o){this.srvMantenimiento.idTipoMModify=e,this.elementForm.form=o,this.elementForm.title=i,this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}deleteTipo(e){s().fire({title:"\xbfEst\xe1 seguro que desea modificar este Tipo de Mantenimiento?",showDenyButton:!0,text:"Al deshabilitar un Tipo de Mantenimiento, este no podra acceder al sistema. Este cambio puede ser revertido en cualquier momento",confirmButtonText:"Si, modificar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(s().fire({title:"Modificando Tipo de Mantenimiento...",didOpen:()=>{s().showLoading()}}),this.srvMantenimiento.deleteTipoMantenimiento(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Tipo de Mantenimiento modificado corectamente",icon:"success",showConfirmButton:!1,timer:3e3}):s().fire({title:"No se modifico el Tipo de Mantenimiento",icon:"error",showConfirmButton:!1,timer:3e3}),this.obtenerTipoMantenimiento(),setTimeout(()=>{s().close()},3e3)},error:o=>{console.log("err",o)},complete:()=>{}}))})}dataPagina(){this.elementPagina.dataLength=this.srvMantenimiento.datosTipoMantenimiento?this.srvMantenimiento.datosTipoMantenimiento.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerTipoMantenimiento()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(b.R))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tipo-mantenimiento"]],decls:5,vars:2,consts:[[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-loop",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"inactivo"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-loop",3,"click"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Et,24,1,"div",1),t.YNc(2,Bt,8,0,"div",2),t.TgZ(3,"div",3)(4,"app-pagination",4),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q]}),n})();function Ft(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",15),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_soporte_estado," ")}}function Jt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_soporte_estado," ")}}function St(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifySoporte(i.int_soporte_id,"Editar Tipo Soporte","editarTipoSoporte"))}),t.TgZ(1,"i",18),t._uU(2,"create"),t.qZA()()}}function Dt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteSoporte(i.int_soporte_id))}),t.TgZ(1,"i",18),t._uU(2," delete "),t.qZA()()}}function Yt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteSoporte(i.int_soporte_id))}),t.TgZ(1,"i",18),t._uU(2," loop "),t.qZA()()}}function kt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,Ft,4,1,"td",10),t.YNc(8,Jt,4,1,"td",10),t.TgZ(9,"td"),t.YNc(10,St,3,0,"button",11),t.YNc(11,Dt,3,0,"button",12),t.YNc(12,Yt,3,0,"button",13),t.qZA()()),2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.hij(" ",r.str_soporte_nombre," "),t.xp6(2),t.hij(" ",r.dt_fecha_creacion.substring(0,10)," "),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_soporte_estado),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_soporte_estado),t.xp6(2),t.Q6J("ngIf",i.permisoEditar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_soporte_estado&&i.permisoEliminar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_soporte_estado&&i.permisoEliminar("mantenimiento/administracion"))}}function Qt(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr",7)(4,"th")(5,"div",8),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",8),t._uU(9,"Nombre"),t.qZA()(),t.TgZ(10,"th")(11,"div",8),t._uU(12,"Fecha Creacion"),t.qZA()(),t.TgZ(13,"th")(14,"div",8),t._uU(15,"Estado"),t.qZA()(),t.TgZ(16,"th")(17,"div",8),t._uU(18,"Acciones"),t.qZA()()()(),t.TgZ(19,"tbody"),t.YNc(20,kt,13,8,"tr",9),t.qZA()()()),2&n){const r=t.oxw();t.xp6(20),t.Q6J("ngForOf",r.srvSoporte.datosSoporte)}}function $t(n,a){1&n&&(t.TgZ(0,"div",21)(1,"div",22),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24),t.qZA(),t.kcU(),t.TgZ(4,"h5",25),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",26),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let Lt=(()=>{const a=class{constructor(e,i,o,c){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvSoporte=c,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.currentPage=1,this.mapFiltersToRequest={}}ngOnInit(){this.pasarPagina(1)}obtenerSoporte(){s().fire({title:"Cargando Soportes...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvSoporte.getSoporte(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{console.log("lo que llega ->",e),e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvSoporte.datosSoporte=e.body,this.metadata=e.total),s().close(),this.dataPagina()},error:e=>{console.log(e)}})}modifySoporte(e,i,o){this.srvSoporte.idTipoSModify=e,this.elementForm.form=o,this.elementForm.title=i,this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}deleteSoporte(e){s().fire({title:"\xbfEst\xe1 seguro que desea modificar este Soporte?",showDenyButton:!0,text:"Al deshabilitar un Soporte, este no podra acceder al sistema. Este cambio puede ser revertido en cualquier momento",confirmButtonText:"Si, modificar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(s().fire({title:"Modificando soporte...",didOpen:()=>{s().showLoading()}}),this.srvSoporte.deleteSoporte(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Soporte modificado corectamente",icon:"success",showConfirmButton:!1,timer:3e3}):s().fire({title:"No se modifico el soporte",icon:"error",showConfirmButton:!1,timer:3e3}),this.obtenerSoporte(),setTimeout(()=>{s().close()},3e3)},error:o=>{console.log("err",o)},complete:()=>{}}))})}dataPagina(){this.elementPagina.dataLength=this.srvSoporte.datosSoporte?this.srvSoporte.datosSoporte.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerSoporte()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(b.R))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tipo-soporte"]],decls:5,vars:2,consts:[[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-loop",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"inactivo"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-loop",3,"click"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Qt,21,1,"div",1),t.YNc(2,$t,8,0,"div",2),t.TgZ(3,"div",3)(4,"app-pagination",4),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q]}),n})();function jt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",15),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_nivel_mantenimiento_estado," ")}}function Vt(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_nivel_mantenimiento_estado," ")}}function zt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifyNivel(i.int_nivel_mantenimiento_id,"Editar Nivel Mantenimiento","editarNivelMantenimiento"))}),t.TgZ(1,"i",18),t._uU(2,"create"),t.qZA()()}}function Gt(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteNivel(i.int_nivel_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," delete "),t.qZA()()}}function Ht(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteNivel(i.int_nivel_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," loop "),t.qZA()()}}function Kt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.YNc(11,jt,4,1,"td",10),t.YNc(12,Vt,4,1,"td",10),t.TgZ(13,"td"),t.YNc(14,zt,3,0,"button",11),t.YNc(15,Gt,3,0,"button",12),t.YNc(16,Ht,3,0,"button",13),t.qZA()()),2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.Oqu(r.str_nivel_mantenimiento_descripcion),t.xp6(2),t.Oqu(r.str_soporte_descripcion),t.xp6(2),t.hij(" ",r.str_tipo_mantenimiento_descripcion," "),t.xp6(2),t.hij(" ",r.dt_fecha_creacion.substring(0,10)," "),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_nivel_mantenimiento_estado),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_nivel_mantenimiento_estado),t.xp6(2),t.Q6J("ngIf",i.permisoEditar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_nivel_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_nivel_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion"))}}function Xt(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr",7)(4,"th")(5,"div",8),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",8),t._uU(9,"Decripci\xf3n"),t.qZA()(),t.TgZ(10,"th")(11,"div",8),t._uU(12,"Soporte"),t.qZA()(),t.TgZ(13,"th")(14,"div",8),t._uU(15,"Tipo Mantenimiento"),t.qZA()(),t.TgZ(16,"th")(17,"div",8),t._uU(18,"Fecha Creacion"),t.qZA()(),t.TgZ(19,"th")(20,"div",8),t._uU(21,"Estado"),t.qZA()(),t.TgZ(22,"th")(23,"div",8),t._uU(24,"Acciones"),t.qZA()()()(),t.TgZ(25,"tbody"),t.YNc(26,Kt,17,10,"tr",9),t.qZA()()()),2&n){const r=t.oxw();t.xp6(26),t.Q6J("ngForOf",r.srvNivelM.datosNivelMantenimiento)}}function Wt(n,a){1&n&&(t.TgZ(0,"div",21)(1,"div",22),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24),t.qZA(),t.kcU(),t.TgZ(4,"h5",25),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",26),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let te=(()=>{const a=class{constructor(e,i,o,c){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvNivelM=c,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.currentPage=1,this.mapFiltersToRequest={}}ngOnInit(){this.pasarPagina(1)}obtenerNivelMantenimiento(){s().fire({title:"Cargando Niveles...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvNivelM.getNivelMantenimiento(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvNivelM.datosNivelMantenimiento=e.body,this.metadata=e.total),s().close(),this.dataPagina()},error:e=>{console.log(e)}})}modifyNivel(e,i,o){this.srvNivelM.idNivelMModify=e,this.elementForm.form=o,this.elementForm.title=i,this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}deleteNivel(e){s().fire({title:"\xbfEst\xe1 seguro que desea modificar este Nivel?",showDenyButton:!0,text:"Al deshabilitar un Nivel, este no podra acceder al sistema. Este cambio puede ser revertido en cualquier momento",confirmButtonText:"Si, modificar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(s().fire({title:"Modificando Nivel...",didOpen:()=>{s().showLoading()}}),this.srvNivelM.deleteNivelMantenimiento(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Nivel modificado corectamente",icon:"success",showConfirmButton:!1,timer:3e3}):s().fire({title:"No se modifico el Nivel",icon:"error",showConfirmButton:!1,timer:3e3}),this.obtenerNivelMantenimiento(),setTimeout(()=>{s().close()},3e3)},error:o=>{console.log("err",o)},complete:()=>{}}))})}dataPagina(){this.elementPagina.dataLength=this.srvNivelM.datosNivelMantenimiento?this.srvNivelM.datosNivelMantenimiento.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerNivelMantenimiento()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(b.R))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-nivel-mantenimiento"]],decls:5,vars:2,consts:[[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-loop",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"inactivo"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-loop",3,"click"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Xt,27,1,"div",1),t.YNc(2,Wt,8,0,"div",2),t.TgZ(3,"div",3)(4,"app-pagination",4),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q]}),n})();function ee(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",15),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_estado_mantenimiento_estado," ")}}function ie(n,a){if(1&n&&(t.TgZ(0,"td")(1,"div",14)(2,"div",16),t._uU(3),t.qZA()()()),2&n){const r=t.oxw().$implicit;t.xp6(3),t.hij(" ",r.str_estado_mantenimiento_estado," ")}}function ne(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.modifyEstado(i.int_estado_mantenimiento_id,"Editar Estado Mantenimiento","editarEstadoMantenimiento"))}),t.TgZ(1,"i",18),t._uU(2,"create"),t.qZA()()}}function oe(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteEstado(i.int_estado_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," delete "),t.qZA()()}}function re(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.deleteEstado(i.int_estado_mantenimiento_id))}),t.TgZ(1,"i",18),t._uU(2," loop "),t.qZA()()}}function ae(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,ee,4,1,"td",10),t.YNc(8,ie,4,1,"td",10),t.TgZ(9,"td"),t.YNc(10,ne,3,0,"button",11),t.YNc(11,oe,3,0,"button",12),t.YNc(12,re,3,0,"button",13),t.qZA()()),2&n){const r=a.$implicit,e=a.index,i=t.oxw(2);t.xp6(2),t.hij(" ",e+1,""),t.xp6(2),t.Oqu(r.str_estado_mantenimiento_descripcion),t.xp6(2),t.hij(" ",r.dt_fecha_creacion.substring(0,10)," "),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_estado_mantenimiento_estado),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_estado_mantenimiento_estado),t.xp6(2),t.Q6J("ngIf",i.permisoEditar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","ACTIVO"===r.str_estado_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion")),t.xp6(1),t.Q6J("ngIf","INACTIVO"===r.str_estado_mantenimiento_estado&&i.permisoEliminar("mantenimiento/administracion"))}}function se(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr",7)(4,"th")(5,"div",8),t._uU(6," # "),t.qZA()(),t.TgZ(7,"th")(8,"div",8),t._uU(9,"Decripci\xf3n"),t.qZA()(),t.TgZ(10,"th")(11,"div",8),t._uU(12,"Fecha Creacion"),t.qZA()(),t.TgZ(13,"th")(14,"div",8),t._uU(15,"Estado"),t.qZA()(),t.TgZ(16,"th")(17,"div",8),t._uU(18,"Acciones"),t.qZA()()()(),t.TgZ(19,"tbody"),t.YNc(20,ae,13,8,"tr",9),t.qZA()()()),2&n){const r=t.oxw();t.xp6(20),t.Q6J("ngForOf",r.srvEstadoM.datosEstadoMantenimiento)}}function ce(n,a){1&n&&(t.TgZ(0,"div",21)(1,"div",22),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24),t.qZA(),t.kcU(),t.TgZ(4,"h5",25),t._uU(5,"Resultado sin datos"),t.qZA(),t.TgZ(6,"h6",26),t._uU(7,"No se encontraron elementos para esta lista."),t.qZA()()())}let de=(()=>{const a=class{constructor(e,i,o,c){this.srvMenu=e,this.srvModal=i,this.srvPaginacion=o,this.srvEstadoM=c,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.elementForm={form:"",title:"",special:!0},this.elementPagina={dataLength:0,metaData:0,currentPage:0},this.currentPage=1,this.mapFiltersToRequest={}}ngOnInit(){this.pasarPagina(1)}obtenerEstadoMantenimiento(){s().fire({title:"Cargando Estados...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvEstadoM.getEstadoMantenimiento(this.mapFiltersToRequest).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvEstadoM.datosEstadoMantenimiento=e.body,this.metadata=e.total),s().close(),this.dataPagina()},error:e=>{console.log(e)}})}modifyEstado(e,i,o){this.srvEstadoM.idEstadoMModify=e,this.elementForm.form=o,this.elementForm.title=i,this.srvModal.setForm(this.elementForm),this.srvModal.openModal()}deleteEstado(e){s().fire({title:"\xbfEst\xe1 seguro que desea modificar este Estado de Mantenimiento?",showDenyButton:!0,text:"Al deshabilitar un Estado de Mantenimiento, este no podra acceder al sistema. Este cambio puede ser revertido en cualquier momento",confirmButtonText:"Si, modificar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(s().fire({title:"Modificando Estado de Mantenimiento...",didOpen:()=>{s().showLoading()}}),this.srvEstadoM.deleteEstadoMantenimiento(e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Estado de Mantenimiento modificado corectamente",icon:"success",showConfirmButton:!1,timer:3e3}):s().fire({title:"No se modifico el Estado de Mantenimiento",icon:"error",showConfirmButton:!1,timer:3e3}),this.obtenerEstadoMantenimiento(),setTimeout(()=>{s().close()},3e3)},error:o=>{console.log("err",o)},complete:()=>{}}))})}dataPagina(){this.elementPagina.dataLength=this.srvEstadoM.datosEstadoMantenimiento?this.srvEstadoM.datosEstadoMantenimiento.length:0,this.elementPagina.metaData=this.metadata,this.elementPagina.currentPage=this.mapFiltersToRequest.page,this.srvPaginacion.setPagination(this.elementPagina)}pasarPagina(e){this.mapFiltersToRequest={size:10,page:e,parameter:"",data:0},this.obtenerEstadoMantenimiento()}permisoEditar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_editar??!1}permisoEliminar(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_eliminar??!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(T.Z),t.Y36(Z.H),t.Y36(b.R))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-estado-mantenimiento"]],decls:5,vars:2,consts:[[1,"tabla-cuerpo"],["class","tableBo",4,"ngIf"],["class","containerNoData",4,"ngIf"],[1,"pagi"],[3,"nextPage"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-loop",3,"click",4,"ngIf"],[1,"estado"],[1,"activo"],[1,"inactivo"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-loop",3,"click"],[1,"containerNoData"],["_ngcontent-lne-c77","",1,"mx-auto",2,"margin-top","64px","margin-bottom","64px"],["_ngcontent-lne-c77","","xmlns","http://www.w3.org/2000/svg","height","32","width","32","viewBox","0 0 48 48"],["_ngcontent-lne-c77","","d","M38.7 40.85 26.65 28.8q-1.5 1.3-3.5 2.025-2 .725-4.25.725-5.4 0-9.15-3.75T6 18.75q0-5.3 3.75-9.05 3.75-3.75 9.1-3.75 5.3 0 9.025 3.75 3.725 3.75 3.725 9.05 0 2.15-.7 4.15-.7 2-2.1 3.75L40.95 38.7q.45.4.45 1.025 0 .625-.5 1.125-.45.45-1.1.45-.65 0-1.1-.45Zm-19.85-12.3q4.05 0 6.9-2.875Q28.6 22.8 28.6 18.75t-2.85-6.925Q22.9 8.95 18.85 8.95q-4.1 0-6.975 2.875T9 18.75q0 4.05 2.875 6.925t6.975 2.875Z"],["_ngcontent-lne-c77","",1,"mt-2"],["_ngcontent-lne-c77",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,se,21,1,"div",1),t.YNc(2,ce,8,0,"div",2),t.TgZ(3,"div",3)(4,"app-pagination",4),t.NdJ("nextPage",function(l){return o.pasarPagina(l)}),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.isLoading&&o.isData),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.isData))},dependencies:[p.sg,p.O5,x.Q]}),n})();function le(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-tipo-soporte"),t.qZA())}function _e(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-tipo-mantenimiento"),t.qZA())}function me(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-nivel-mantenimiento"),t.qZA())}function pe(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-estado-mantenimiento"),t.qZA())}function ge(n,a){1&n&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h1"),t._uU(3," Caracter\xedsticas de administraci\xf3n de "),t.TgZ(4,"span"),t._uU(5,"Mantenimiento"),t.qZA()(),t.TgZ(6,"p"),t._uU(7," Apartado donde podr\xe1 gestionar las caracter\xedsticas que se pueden asignar a los procesos de mantenimientos del sistema asi como tener la posibilidad de crearlos y editarlos. "),t.qZA()(),t.TgZ(8,"div",12),t._UZ(9,"img",13)(10,"img",14),t.qZA()())}let ue=(()=>{const a=class{constructor(e){this.srvMantenimiento=e,this.menuTabSelected=0,this.typeView=!1,this.isValue=3,this.condiciones=0,this.listaViews={SOPORTE:0,TIPO:1,NIVEL:2,ESTADO:3},this.menuTabSelect={id:0,status:!1},this.destroy$=new u.x}ngOnInit(){const e=window.location.pathname.split("/").pop()||"";this.menuTabSelect.id=this.listaViews[e.toUpperCase()]||0,this.isValue=5,this.srvMantenimiento.SelectButtonName$.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.buttonName=i.id}})}mostrarSoporte(){this.menuTabSelect.id=6,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=9}mostrarTipo(){this.menuTabSelect.id=7,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=10}mostrarNivel(){this.menuTabSelect.id=8,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=11}mostrarEstado(){this.menuTabSelect.id=9,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=12}mostrarRegistro(){this.menuTabSelect.id=10,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=13}mostrarPlanificacion(){this.menuTabSelect.id=11,this.srvMantenimiento.setButtonName(this.menuTabSelect),this.isValue=14}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(v.p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mostrar-administracion"]],decls:22,vars:17,consts:[[1,"body"],[1,"container-Nav"],[1,"navBienes"],[1,"container-NavOptions"],[1,"container-Btn"],["type","button",3,"click"],[1,"container-Body"],["class","tab-pane fade","typeView","true;",4,"ngIf"],["class","container-Welcome",4,"ngIf"],["typeView","true;",1,"tab-pane","fade"],[1,"container-Welcome"],[1,"container-Left"],[1,"container-Right"],["src","../../../../assets/img/logo-espoch.svg","alt","logo-espoch",1,"logo-Espoch"],["src","../../../../assets/img/characteristics.svg","alt","logo-characteristics",1,"logo-Inventory"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.mostrarSoporte()}),t._uU(6," Soporte "),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return o.mostrarTipo()}),t._uU(9," Tipo Mantenimiento "),t.qZA()(),t.TgZ(10,"div",4)(11,"button",5),t.NdJ("click",function(){return o.mostrarNivel()}),t._uU(12," Nivel "),t.qZA()(),t.TgZ(13,"div",4)(14,"button",5),t.NdJ("click",function(){return o.mostrarEstado()}),t._uU(15," Estado "),t.qZA()()()()(),t.TgZ(16,"div",6),t.YNc(17,le,2,0,"div",7),t.YNc(18,_e,2,0,"div",7),t.YNc(19,me,2,0,"div",7),t.YNc(20,pe,2,0,"div",7),t.YNc(21,ge,11,0,"div",8),t.qZA()()),2&i&&(t.xp6(5),t.Gre("nav-link ",6===o.menuTabSelect.id?"active":9===o.isValue,""),t.xp6(3),t.Gre("nav-link ",7===o.menuTabSelect.id?"active":10===o.isValue,""),t.xp6(3),t.Gre("nav-link ",8===o.menuTabSelect.id?"active":11===o.isValue,""),t.xp6(3),t.Gre("nav-link ",9===o.menuTabSelect.id?"active":12===o.isValue,""),t.xp6(3),t.Q6J("ngIf",6===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",7===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",8===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",9===o.menuTabSelect.id),t.xp6(1),t.Q6J("ngIf",0===o.menuTabSelect.id))},dependencies:[p.O5,Rt,Lt,te,de],styles:[".body[_ngcontent-%COMP%]{width:100%;height:83%}.navBienes[_ngcontent-%COMP%]{background-color:var(--bs-gray-100)}.container-NavOptions[_ngcontent-%COMP%]{display:flex;height:25px;align-items:flex-end;margin-left:15px;gap:25px;position:relative}.container-NavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;font-size:14px;font-family:var(--font-family)}.container-NavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--color-primary);cursor:pointer;position:relative}.container-NavOptions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--color-primary);border-bottom:solid 1px var(--color-primary)}.container-Btn[_ngcontent-%COMP%]:focus{border-bottom:var(--color-primary);border:solid 2px var(--color-primary);position:relative}.container-NavOptions[_ngcontent-%COMP%]   buttom[_ngcontent-%COMP%]::-moz-focus-inner{background:none;display:flex;border:none;align-items:center;border-bottom:solid 1px var(--color-primary);font-weight:var(--font-weight-bold);color:var(--color-primary);cursor:pointer}.container-Welcome[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:25px;margin-top:25px}.container-Left[_ngcontent-%COMP%], .container-Right[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}h1[_ngcontent-%COMP%]{font-size:50px;font-family:var(--font-family);font-weight:var(--font-weight-bold);color:var(--bs-gray-600)}span[_ngcontent-%COMP%]{color:var( --color-accent)}p[_ngcontent-%COMP%]{font-size:20px;font-family:var(--font-family);font-weight:500;text-align:justify}.container-Right[_ngcontent-%COMP%]{align-items:center;justify-content:center}.logo-Espoch[_ngcontent-%COMP%], .logo-Inventory[_ngcontent-%COMP%]{width:150px;height:150px}"]}),n})();function he(n,a){if(1&n&&(t.TgZ(0,"div",11)(1,"h3"),t._uU(2,"Informacion del EsBay del Bien"),t.qZA(),t.TgZ(3,"table",12)(4,"thead")(5,"tr",13)(6,"th")(7,"div",14),t._uU(8,"Titulo"),t.qZA()(),t.TgZ(9,"th")(10,"div",14),t._uU(11,"Descripcion"),t.qZA()()()(),t.TgZ(12,"tbody")(13,"tr",15)(14,"td"),t._uU(15,"Nombre del Bien"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()(),t.TgZ(18,"tr",15)(19,"td"),t._uU(20,"Modelo del Bien"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.TgZ(23,"tr",15)(24,"td"),t._uU(25,"Marca del Bien"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA()(),t.TgZ(28,"tr",15)(29,"td"),t._uU(30,"Condicion del Bien"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA()(),t.TgZ(33,"tr",15)(34,"td"),t._uU(35,"Disponibilidad del Bien"),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA()(),t.TgZ(38,"tr",15)(39,"td"),t._uU(40,"Estado del Bien"),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.qZA()(),t.TgZ(43,"tr",15)(44,"td"),t._uU(45,"Ubicacion del Bien"),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA()(),t.TgZ(48,"tr",15)(49,"td"),t._uU(50,"Origen de Ingreso"),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA()(),t.TgZ(53,"tr",15)(54,"td"),t._uU(55,"Estado del Bien"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA()(),t.TgZ(58,"tr",15)(59,"td"),t._uU(60,"Fecha Compra del Bien"),t.qZA(),t.TgZ(61,"td"),t._uU(62),t.qZA()(),t.TgZ(63,"tr",15)(64,"td"),t._uU(65,"Fecha de registro del Bien"),t.qZA(),t.TgZ(66,"td"),t._uU(67),t.qZA()(),t.TgZ(68,"tr",15)(69,"td"),t._uU(70,"Descripcion de Condicion"),t.qZA(),t.TgZ(71,"td"),t._uU(72),t.qZA()(),t.TgZ(73,"tr")(74,"td"),t._uU(75,"Garantia"),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.qZA()(),t.TgZ(78,"tr")(79,"td"),t._uU(80,"A\xf1os de Garantia"),t.qZA(),t.TgZ(81,"td"),t._uU(82),t.qZA()()()()()),2&n){const r=t.oxw();t.xp6(17),t.hij(" ",r.srvInventario.dataBienInfo.str_catalogo_bien_descripcion,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_modelo,""),t.xp6(5),t.hij(" ",r.srvCaracteristicas.dataMarca.str_marca_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_condicion_bien_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_habilitado,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_estado,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_ubicacion_nombre,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_origen_ingreso,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_bien_estado_logico,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.dt_bien_fecha_compra,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.dt_bien_fecha_compra,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_condicion_bien_nombre,""),t.xp6(5),t.Oqu(r.srvInventario.dataBienInfo.str_bien_garantia),t.xp6(5),t.Oqu(r.srvInventario.dataBienInfo.int_bien_anios_garantia)}}function ve(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"h3"),t._uU(3,"Informacion sobre el Custodio"),t.qZA(),t.TgZ(4,"table",12)(5,"thead")(6,"tr",13)(7,"th")(8,"div",14),t._uU(9,"Titulo"),t.qZA()(),t.TgZ(10,"th")(11,"div",14),t._uU(12,"Descripcion"),t.qZA()()()(),t.TgZ(13,"tbody")(14,"tr",15)(15,"td"),t._uU(16,"Cedula"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()(),t.TgZ(19,"tr",15)(20,"td"),t._uU(21,"Nombre"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()(),t.TgZ(24,"tr")(25,"td"),t._uU(26,"Tel\xe9fono"),t.qZA(),t.TgZ(27,"td")(28,"div",16),t._UZ(29,"input",17),t.qZA()()()()()()()),2&n){const r=t.oxw();t.xp6(18),t.hij(" ",r.srvInventario.dataBienInfo.str_custodio_cedula,""),t.xp6(5),t.hij(" ",r.srvInventario.dataBienInfo.str_custodio_nombre,"")}}function fe(n,a){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const r=a.$implicit;t.s9C("id",r.int_nivel_mantenimiento_id),t.xp6(1),t.Oqu(r.str_nivel_mantenimiento_descripcion)}}function be(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",18)(1,"h3"),t._uU(2,"Nivel de Mantenimiento"),t.qZA(),t.TgZ(3,"div",19)(4,"select",20),t.NdJ("change",function(i){t.CHM(r);const o=t.oxw();return t.KtG(o.getNivelName(i))}),t.YNc(5,fe,2,2,"option",21),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("ngForOf",r.srvNivelM.datosNivelMantenimiento)}}function Te(n,a){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const r=a.$implicit;t.s9C("id",r.int_estado_mantenimiento_id),t.xp6(1),t.Oqu(r.str_estado_mantenimiento_descripcion)}}function Ze(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",18)(1,"h3"),t._uU(2,"Estado de Mantenimiento"),t.qZA(),t.TgZ(3,"div",19)(4,"select",23),t.NdJ("change",function(i){t.CHM(r);const o=t.oxw();return t.KtG(o.getEstadoName(i))}),t.YNc(5,Te,2,2,"option",21),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("ngForOf",r.srvNivelM.datosEstadoMantenimiento)}}function xe(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion del problema"),t.qZA(),t.TgZ(3,"div",18),t._UZ(4,"br"),t.TgZ(5,"textarea",24),t._uU(6,"        \n                      "),t.qZA()()())}function Me(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion del diagnostico"),t.qZA(),t.TgZ(3,"div",18),t._UZ(4,"br"),t.TgZ(5,"textarea",25),t._uU(6,"        \n                      "),t.qZA()()())}function Ce(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Descripcion de la Solucion"),t.qZA(),t.TgZ(3,"div",18),t._UZ(4,"br"),t.TgZ(5,"textarea",26),t._uU(6,"    \n                  "),t.qZA()()())}function ye(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Fecha de Ingreso"),t.qZA(),t.TgZ(3,"div",18),t._UZ(4,"input",27),t.qZA()())}function Ae(n,a){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Fecha de entrega"),t.qZA(),t.TgZ(3,"div",18),t._UZ(4,"input",28),t.qZA()())}function Ie(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"button",31),t.NdJ("click",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.send())}),t._uU(3," Finalizar"),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(2),t.Q6J("disabled",!r.myForm.valid)}}let qe=(()=>{const a=class{constructor(e,i,o,c,l,g,A){this.srvInventario=e,this.srvMantenimiento=i,this.srvCaracteristicas=o,this.srvNivelM=c,this.srvRegistro=l,this.srvPersona=g,this.fb=A,this.destroy$=new u.x,this.isLoading=!1,this.isData=!1,this.arrBien=[],this.myForm=this.fb.group({int_nivel_mantenimiento_id:[""],int_estado_mantenimiento_id:[""],int_bien_id:[""],str_codigo_bien:[""],str_mantenimiento_correctivo_motivo:[""],str_mantenimiento_correctivo_descripcion_solucion:[""],int_mantenimiento_diagnostico:[""],str_mantenimiento_correctivo_telefono:[""],str_correctivo_nivel_nombre:[""],str_mantenimiento_correctivo_tecnico_responsable:[""],dt_mantenimiento_correctivo_fecha_revision:["",[d.kI.required]],dt_mantenimiento_correctivo_fecha_entrega:["",[d.kI.required]],str_estado_mantenimiento_nombre:[""],str_nivel_mantenimiento_descripcion:[""]})}ngOnInit(){this.obtenerMantenimientoId(),this.nivelMantenimiento(),this.getDataCreador(),this.obtenerEstadoMantenimiento()}obtenerMantenimientoId(){s().fire({title:"Cargando...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvRegistro.getCorrectivoById(this.srvRegistro.idRegistroCorrectivoModify).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{this.moTabla2=!0,console.log("lo que llega",e),this.checkData(e.body.int_bien_id),this.myForm=this.fb.group({int_nivel_mantenimiento_id:[e.body.int_nivel_mantenimiento_id],int_estado_mantenimiento_id:[e.body.int_estado_mantenimiento_id],int_bien_id:[e.body.int_bien_id],str_codigo_bien:[e.body.str_codigo_bien],str_mantenimiento_correctivo_motivo:[e.body.str_mantenimiento_correctivo_motivo],str_mantenimiento_correctivo_descripcion_solucion:[e.body.str_mantenimiento_correctivo_descripcion_solucion],int_mantenimiento_diagnostico:[e.body.int_mantenimiento_diagnostico],str_mantenimiento_correctivo_telefono:[e.body.str_mantenimiento_correctivo_telefono],str_correctivo_nivel_nombre:[e.body.str_correctivo_nivel_nombre],str_mantenimiento_correctivo_tecnico_responsable:[e.body.str_mantenimiento_correctivo_tecnico_responsable],dt_mantenimiento_correctivo_fecha_revision:[e.body.dt_mantenimiento_correctivo_fecha_revision.substring(0,10),[d.kI.required]],dt_mantenimiento_correctivo_fecha_entrega:[e.body.dt_mantenimiento_correctivo_fecha_entrega.substring(0,10),[d.kI.required]],str_estado_mantenimiento_nombre:[e.body.str_estado_mantenimiento_nombre],str_nivel_mantenimiento_descripcion:[e.body.str_nivel_mantenimiento_descripcion]})},error:e=>{console.log(e)},complete:()=>{s().close()}})}regresar(){this.srvMantenimiento.edidMantenimientoCorrectivo=!1}checkData(e){console.log("lo que llega del check ->",e),this.srvMantenimiento.datosSearch=[],this.moTabla=!1,this.srvInventario.getBienById(e).pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{console.log("lo que llega del bien ->",i.body),this.cedula_custodio=i.body.str_custodio_cedula,this.nombre_custodio=i.body.str_custodio_nombre,this.id_bien=i.body.str_codigo_bien_cod,this.srvInventario.dataBienInfo=i.body,this.moTabla2=!0},error:i=>{console.log("error al obtener el bien",i)}})}obtenerEstadoMantenimiento(){s().fire({title:"Cargando Estados...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvNivelM.getEstadoMantenimiento({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvNivelM.datosEstadoMantenimiento=e.body),s().close()},error:e=>{console.log(e)}})}nivelMantenimiento(){this.srvNivelM.getNivelMantenimiento({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0,this.isLoading=!0,this.srvNivelM.datosNivelMantenimiento=e.body)},error:e=>{console.log(e)}})}getNivelName(e){const i=e.target.options[e.target.selectedIndex],o=i.value;this.nivel_id=parseInt(i.id),this.nivel_nombre=o}getEstadoName(e){const i=e.target.options[e.target.selectedIndex],o=i.value;this.estado_id=parseInt(i.id),this.estado_nombre=o}getDataCreador(){this.nombre_tecnico=this.srvPersona.dataMe.str_per_nombres+" "+this.srvPersona.dataMe.str_per_apellidos}send(){this.myForm.value.str_codigo_bien=this.id_bien,this.myForm.value.str_mantenimiento_correctivo_tecnico_responsable=this.nombre_tecnico,this.myForm.value.int_nivel_mantenimiento_id=this.nivel_id,this.myForm.value.str_correctivo_nivel_nombre=this.nivel_nombre,this.myForm.value.int_estado_mantenimiento_id=this.estado_id;const e=this.myForm.value;s().fire({title:"\xbfEst\xe1 seguro de modificar este mantenimiento?",showDenyButton:!0,confirmButtonText:"Agregar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.srvRegistro.putRegistroCorrectivo(this.srvRegistro.idRegistroCorrectivoModify,e).pipe((0,m.R)(this.destroy$)).subscribe({next:o=>{o.status?s().fire({title:"Mantenimiento creado Correctamente",icon:"success",showConfirmButton:!1,timer:3500}):s().fire({title:o.message,icon:"error",showConfirmButton:!1,timer:3500}),setTimeout(()=>{this.obtenerRegistro(),s().close()},3500),this.srvMantenimiento.especial=!1,this.srvMantenimiento.typeview=!1},error:o=>{console.log(o),s().fire({title:"No se agrego el Mantenimiento",icon:"error",showConfirmButton:!1,timer:1500})},complete:()=>{this.myForm.reset()}})})}obtenerRegistro(){s().fire({title:"Cargando Registros...",didOpen:()=>{s().showLoading(),this.isLoading=!0,this.isData=!0}}),this.srvRegistro.getRegistroCorrectivo({}).pipe((0,m.R)(this.destroy$)).subscribe({next:e=>{e.body.length>0&&(this.isData=!0),s().close()},error:e=>{console.log("Error",e)}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(I.I),t.Y36(v.p),t.Y36(q.z),t.Y36(b.R),t.Y36(y.K),t.Y36(N.F),t.Y36(d.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editar-correctivo"]],decls:20,vars:11,consts:[[1,"back"],[1,"btn-primary-add",3,"click"],[2,"display","grid","gap","20px"],[3,"formGroup"],[2,"display","grid","gap","35px"],["class","tableBo",4,"ngIf"],[4,"ngIf"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","30px"],["class","containerInfo",4,"ngIf"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","35px"],["class","buttons-action",4,"ngIf"],[1,"tableBo"],[1,"table","table-striped","tabla-estilos"],[1,"encabezado"],[1,"d-flex"],[1,"container-Row"],[1,"container-Input",2,"margin-top","0px !important","height","100% !important"],["type","text","id","nombre","placeholder","Ingrese el tel\xe9fono del custodio","formControlName","str_mantenimiento_correctivo_telefono","required","",1,"inp-info"],[1,"containerInfo"],[1,"container-Select"],["formControlName","int_nivel_mantenimiento_id",3,"change"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["formControlName","int_estado_mantenimiento_id",3,"change"],["type","text","placeholder","DESCRIPCION DEL PROBLEMA","rows","7","cols","5000","formControlName","str_mantenimiento_correctivo_motivo"],["type","text","placeholder","DESCRIPCION DEL PROBLEMA","rows","7","cols","5000","formControlName","int_mantenimiento_diagnostico"],["type","text","placeholder","DESCRIPCION DE LA SOLUCION","rows","7","cols","5000","formControlName","str_mantenimiento_correctivo_descripcion_solucion"],["type","date","formControlName","dt_mantenimiento_correctivo_fecha_revision"],["type","date","formControlName","dt_mantenimiento_correctivo_fecha_entrega"],[1,"buttons-action"],[1,"container-Btns"],[1,"btn-primary-add",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.regresar()}),t._uU(2," Regresar"),t.qZA()(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4),t.YNc(6,he,83,14,"div",5),t.YNc(7,ve,30,2,"div",6),t.TgZ(8,"div",7),t.YNc(9,be,6,1,"div",8),t.YNc(10,Ze,6,1,"div",8),t.qZA(),t.TgZ(11,"div",2)(12,"div",7),t.YNc(13,xe,7,0,"div",6),t.YNc(14,Me,7,0,"div",6),t.qZA(),t.YNc(15,Ce,7,0,"div",6),t.qZA(),t.TgZ(16,"div",9),t.YNc(17,ye,5,0,"div",6),t.YNc(18,Ae,5,0,"div",6),t.qZA()()(),t.YNc(19,Ie,4,1,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("formGroup",o.myForm),t.xp6(2),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(2),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(3),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(2),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2),t.xp6(1),t.Q6J("ngIf",o.moTabla2))},dependencies:[p.sg,p.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.sg,d.u],styles:[".select[_ngcontent-%COMP%]{cursor:pointer}th[_ngcontent-%COMP%]{color:var(--bs-gray-900);border-bottom:1px solid var(--bs-gray-ccc);border-right:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);font-size:var(--font-size);padding:5px;text-align:left;vertical-align:middle}th[_ngcontent-%COMP%]:first-child{border-top-left-radius:3px}th[_ngcontent-%COMP%]:last-child{border-top-right-radius:3px;border-left:none;border-right:1px solid var(--bs-gray-ccc)}tr[_ngcontent-%COMP%]{border-top:1px solid var(--bs-gray-ccc);border-bottom:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);border-right:1px solid var(--bs-gray-ccc);color:var(--bs-gray-ccc);font-size:var(--font-size);font-weight:400;text-shadow:0 1px 1px rgba(256,256,256,.1)}tr[_ngcontent-%COMP%]:first-child{border-top:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}td[_ngcontent-%COMP%]{background:var(--color-bg);padding:5px;text-align:left;vertical-align:middle;font-size:var(--font-size);border-right:1px solid var(--bs-gray-ccc);border-left:1px solid var(--bs-gray-ccc);border-bottom:1px solid var(--bs-gray-ccc);font-family:var(--font-family);text-transform:uppercase;color:var(--color-black)}td[_ngcontent-%COMP%]:last-child{border-left:none}.span-Subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--font-weight-bold);margin-top:3rem}textarea[_ngcontent-%COMP%]{border:.5px solid var(--bs-gray-ccc);border-radius:4px;padding-left:5px;height:100px;width:100%}.buttons-action[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:15px}"]}),n})();var Ne=_(1354);function Pe(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",15)(1,"app-button",16),t.NdJ("click",function(){t.CHM(r);const i=t.oxw(2);return t.KtG(i.agg())}),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("form","")("title","Agregar Mantenimiento"))}function Ue(n,a){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-button",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("form","planificacion")("title","Agregar Planificacion"))}function Oe(n,a){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Pe,2,2,"div",8),t.YNc(2,Ue,2,2,"div",8),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",6===r.menuTabInventory&&r.srvMantenimiento.typeview),t.xp6(1),t.Q6J("ngIf",7===r.menuTabInventory)}}function we(n,a){1&n&&t._UZ(0,"div",15)}function Ee(n,a){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-button",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("form","insertarSoporte")("title","Agregar Soporte"))}function Be(n,a){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-button",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("form","insertarTipoMantenimiento")("title","Agregar Tipo Mantenimiento"))}function Re(n,a){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-button",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("form","insertarNivel")("title","Agregar Nivel"))}function Fe(n,a){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-button",17),t.qZA()),2&n&&(t.xp6(1),t.Q6J("form","insertarEstadoMantenimiento")("title","Agregar Estado Mantenimiento"))}function Je(n,a){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Ee,2,2,"div",8),t.YNc(2,Be,2,2,"div",8),t.YNc(3,Re,2,2,"div",8),t.YNc(4,Fe,2,2,"div",8),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",6===r.menuTabInventory),t.xp6(1),t.Q6J("ngIf",7===r.menuTabInventory),t.xp6(1),t.Q6J("ngIf",8===r.menuTabInventory),t.xp6(1),t.Q6J("ngIf",9===r.menuTabInventory)}}function Se(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"button",19),t._uU(2," Mantenimiento "),t.qZA()()),2&n){const r=t.oxw();t.xp6(1),t.Gre("nav-link ",0===r.menuTabsSelected?"active":0==r.isValue," "),t.Q6J("routerLink","/mantenimiento/"+r.baseUrl+"mantenimientos")}}function De(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"button",20),t._uU(2," Administracion "),t.qZA()()),2&n){const r=t.oxw();t.xp6(1),t.Gre("nav-link ",2===r.menuTabsSelected?"active":2==r.isValue,""),t.Q6J("routerLink","/mantenimiento/"+r.baseUrl+"administracion")}}function Ye(n,a){1&n&&t._UZ(0,"app-mostrar-caracteres")}function ke(n,a){1&n&&t._UZ(0,"app-agregar-mantenimiento")}function Qe(n,a){1&n&&t._UZ(0,"app-editar-correctivo")}function $e(n,a){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Ye,1,0,"app-mostrar-caracteres",22),t.YNc(2,ke,1,0,"app-agregar-mantenimiento",22),t.YNc(3,Qe,1,0,"app-editar-correctivo",22),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.srvMantenimiento.typeviw||!r.srvMantenimiento.typeviw&&!r.srvMantenimiento.especial&&!r.srvMantenimiento.edidMantenimientoCorrectivo),t.xp6(1),t.Q6J("ngIf",r.srvMantenimiento.especial),t.xp6(1),t.Q6J("ngIf",r.srvMantenimiento.edidMantenimientoCorrectivo)}}function Le(n,a){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"app-mostrar-administracion"),t.qZA())}const je=[{path:"",component:(()=>{const a=class{constructor(e,i){this.srvMenu=e,this.srvMantenimiento=i,this.isValue=0,this.baseUrl=P.Z.URL_BASE_PATH,this.typeViewMenu=!0,this.destroy$=new u.x,this.menuTabsSelected=0,this.menuTabInventory=0,this.listaViews={MANTENIMIENTOS:0,CARACTERES:1,ADMINISTRACION:2},this.elementForm={form:"",title:"",special:!0},this.dataValue={typeView:!0,valorView:0}}ngOnInit(){this.srvMantenimiento.especial=!1,this.srvMantenimiento.edidMantenimientoCorrectivo=!1,this.srvMantenimiento.preventivo=!1;const e=window.location.pathname.split("/").pop()||"";this.menuTabsSelected=this.listaViews[e.toUpperCase()]||0,this.srvMantenimiento.SelectButtonName$.pipe((0,m.R)(this.destroy$)).subscribe({next:i=>{this.menuTabInventory=i.id,this.srvMantenimiento.typeviw=i.status}}),this.id="nav-inventory",this.isValue=1,this.menuTabInventory=0,this.srvMantenimiento.typeviw=!0}agg(){this.srvMantenimiento.especial=!0,this.srvMantenimiento.typeview=!1}permisoCrear(e){return this.srvMenu.permisos.find(i=>i.str_menu_path===e)?.bln_crear??!1}permisoVer(e){return this.srvMenu.permisos.find(o=>o.str_menu_path===e)?.bln_ver??!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}};let n=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(h.h),t.Y36(v.p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mantenimiento"]],decls:22,vars:7,consts:[[1,"father"],[1,"containerBody"],[1,"titleConfiguration"],[1,"titleButton"],[1,"title"],[2,"color","#B41A12"],[2,"color","rgb(160, 160, 160)","font-family","'Roboto', Arial, sans-serif","font-size","14px"],[1,"buttonSetting"],["class","btn-agg-Inventary",4,"ngIf"],[1,"navSection"],["id","menu",1,"containerNavOptions"],["class","container-button","id","nav-Report",4,"ngIf"],[1,"containerContent"],["class","tab-pane fade","id","nav-report",4,"ngIf"],["class","tab-pane fade","id","nav-report","typeView","true",4,"ngIf"],[1,"btn-agg-Inventary"],[3,"form","title","click"],[3,"form","title"],["id","nav-Report",1,"container-button"],["id","nav-report","type","button",3,"routerLink"],["id","nav-inform","type","button",3,"routerLink"],["id","nav-report",1,"tab-pane","fade"],[4,"ngIf"],["id","nav-report","typeView","true",1,"tab-pane","fade"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),t._uU(6,"Pantalla de "),t.TgZ(7,"span",5),t._uU(8," Mantenimiento "),t.qZA()(),t.TgZ(9,"span",6),t._uU(10," Listado de Bienes en Mantenimiento "),t.qZA()(),t.TgZ(11,"div",7),t.YNc(12,Oe,3,2,"div",8),t.YNc(13,we,1,0,"div",8),t.YNc(14,Je,5,4,"div",8),t.qZA()(),t.TgZ(15,"nav",9)(16,"div",10),t.YNc(17,Se,3,4,"div",11),t.YNc(18,De,3,4,"div",11),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,$e,4,3,"div",13),t.YNc(21,Le,2,0,"div",14),t.qZA()()()()),2&i&&(t.xp6(12),t.Q6J("ngIf",0===o.menuTabsSelected),t.xp6(1),t.Q6J("ngIf",1===o.menuTabsSelected),t.xp6(1),t.Q6J("ngIf",2===o.menuTabsSelected),t.xp6(3),t.Q6J("ngIf",o.permisoVer("mantenimiento/mantenimientos")),t.xp6(1),t.Q6J("ngIf",o.permisoVer("mantenimiento/administracion")),t.xp6(2),t.Q6J("ngIf",0===o.menuTabsSelected),t.xp6(1),t.Q6J("ngIf",2===o.menuTabsSelected))},dependencies:[p.O5,C.rH,V,It,ue,qe,Ne.r],styles:[".titleConfiguration[_ngcontent-%COMP%]{width:100%;height:10%}.buttonAgg[_ngcontent-%COMP%]{display:flex;gap:15px}.titleButton[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;margin-bottom:20px}.showCenter[_ngcontent-%COMP%]{height:880%}.father[_ngcontent-%COMP%]{width:auto;padding:2rem;min-width:250px;display:flex}.containerBody[_ngcontent-%COMP%]{width:100%;height:100%}.titleConfiguration[_ngcontent-%COMP%]{height:10%;float:left}.containerContent[_ngcontent-%COMP%]{width:100%;padding-top:15px}.titleConfiguration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#0c0c0c}.containerNavOptions[_ngcontent-%COMP%]{display:flex;padding-top:20px;border-bottom:1px solid #ccc;position:relative;z-index:0;width:100%;height:100%;overflow:auto}.container-button[_ngcontent-%COMP%]{height:100%;display:flex}.container-button[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:1px solid}.container-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:5%;height:100%}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;margin-right:20px;display:flex;border:none;align-items:center;font-size:14px;padding-bottom:5px}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:none;display:flex;border:none;align-items:center;color:#b41a12;position:relative;cursor:pointer}.containerNavOptions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#b41a12;font-weight:500;border-bottom:solid 1px #B41A12}.container-button[_ngcontent-%COMP%]:focus{border-bottom:#B41A12;border:solid 2px #B41A12;position:relative}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]::-moz-focus-inner{background:none;display:flex;border:none;align-items:center;font-weight:600;border-bottom:solid 1px #B41A12;color:#b41a12;cursor:pointer}.btn-agg-Users[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.containerBtnAgregar[_ngcontent-%COMP%]{justify-content:center;width:inherit;height:100%}.btn-agg[_ngcontent-%COMP%]{float:right;display:flex}.component[_ngcontent-%COMP%]{float:left;width:100%;height:100%}.tab-pane.fade[_ngcontent-%COMP%]{width:100%;height:100%}.set[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tableBo[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto}"]}),n})()}];let Ve=(()=>{const a=class{};let n=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[C.Bz.forChild(je),C.Bz]}),n})()},1749:(O,M,_)=>{_.r(M),_.d(M,{MantenimientoModule:()=>p});var C=_(6895),P=_(425),u=_(95),m=_(5642),t=_(8562),h=_(4650);const v=[{path:"",children:[{path:"mantenimientos",loadChildren:()=>Promise.resolve().then(_.bind(_,425)).then(d=>d.MantenimientoRoutingModule)},{path:"caracteres",loadChildren:()=>Promise.resolve().then(_.bind(_,425)).then(d=>d.MantenimientoRoutingModule)},{path:"administracion",loadChildren:()=>Promise.resolve().then(_.bind(_,425)).then(d=>d.MantenimientoRoutingModule)}]}];let p=(()=>{const f=class{};let d=f;return f.\u0275fac=function(q){return new(q||f)},f.\u0275mod=h.oAB({type:f}),f.\u0275inj=h.cJS({imports:[C.ez,P.MantenimientoRoutingModule,u.T,m.K,t.Bz.forChild(v)]}),d})()}}]);