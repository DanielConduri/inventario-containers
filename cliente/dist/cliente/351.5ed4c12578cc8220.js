(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[351],{6351:(p,i,t)=>{"use strict";t.r(i),t.d(i,{FirmaElectronicaModule:()=>m});var r=t(6895),o=t(8562),u=t(5861),y=t(3997),w=t(5908),N=t(7579),B=t(2722),Y=t(5226),O=t.n(Y),k=t(4650),_=t(7114),D=t(1775),M=t(4006);const L=["canvasRef"],s=["AceptarFirmar"];function a(l,b){if(1&l){const P=k.EpF();k.TgZ(0,"button",10),k.NdJ("click",function(){k.CHM(P);const F=k.oxw();return k.KtG(F.guardarDocFir())}),k._uU(1," Guardar documento firmado "),k.qZA()}}function f(l,b){if(1&l){const P=k.EpF();k.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16)(6,"div",17)(7,"div",18)(8,"button",19),k.NdJ("click",function(){k.CHM(P);const F=k.oxw();return k.KtG(F.onPrevPage())}),k._UZ(9,"span",20),k._uU(10," Anterior "),k.qZA(),k._uU(11," \xa0 \xa0 "),k.TgZ(12,"button",21),k.NdJ("click",function(){k.CHM(P);const F=k.oxw();return k.KtG(F.onNextPage())}),k._UZ(13,"span",22),k._uU(14," Siguiente "),k.qZA(),k._uU(15," \xa0 \xa0 "),k.TgZ(16,"button",23),k.NdJ("click",function(){k.CHM(P);const F=k.oxw();return k.KtG(F.clearZone())}),k._UZ(17,"span",24),k._uU(18,"Limpiar "),k.qZA(),k._uU(19," \xa0 \xa0 "),k.TgZ(20,"button",25),k.NdJ("click",function(){k.CHM(P);const F=k.oxw();return k.KtG(F.RecuperarArEc())}),k._UZ(21,"span",24),k._uU(22,"Recuperar Archivo "),k.qZA()(),k.TgZ(23,"div",26),k._uU(24," \xa0 \xa0 "),k.TgZ(25,"div",27)(26,"span"),k._uU(27,"P\xe1ginas: "),k.TgZ(28,"span",28),k._uU(29),k.qZA(),k._uU(30," / "),k.TgZ(31,"span",29),k._uU(32),k.qZA()()()(),k.TgZ(33,"div",18)(34,"div",17)(35,"div",30),k._UZ(36,"canvas",31,32),k.qZA(),k.TgZ(38,"div",33),k._UZ(39,"img",34),k.qZA()()(),k.TgZ(40,"div",26),k._uU(41," \xa0 \xa0 "),k.TgZ(42,"div",27)(43,"span"),k._uU(44,"P\xe1ginas: "),k.TgZ(45,"span",28),k._uU(46),k.qZA(),k._uU(47," / "),k.TgZ(48,"span",29),k._uU(49),k.qZA()()()()()()()()()()()}if(2&l){const P=k.oxw();k.xp6(20),k.Q6J("disabled",!P.estaFirmado),k.xp6(9),k.Oqu(P.pageNum),k.xp6(3),k.Oqu(P.pageCount),k.xp6(14),k.Oqu(P.pageNum),k.xp6(3),k.Oqu(P.pageCount)}}function d(l,b){1&l&&k._UZ(0,"div",35)}void 0!==w&&(w.GlobalWorkerOptions.workerSrc="https://npmcdn.com/pdfjs-dist@2.14.305/build/pdf.worker.js");const h=[{path:"",component:(()=>{const b=class{constructor(g,F,z,ee,Q){this.route=g,this.router=F,this.srvPrestamos=z,this.srvfirma=ee,this.fb=Q,this.destroy$=new N.x,this.width=615,this.height=860,this.nombreDoc="",this.cedulaUser="",this.points=[],this.blActivarRecuperarArchvio=!1,this.pageRendering=!1,this.intIdDocumento=-1,this.archivoBase64="",this.certificadosporf=[],this.key="c8dcd2f25835dbd8fe7b7d513afbfb179902676a39d55eb6d59bd43de3be55dc",this.nomresis=483091,this.estaFirmado=!1,this.loading=!0,this.request=!0,this.fileInput=null,this.fileOut=null,this.objetoSolicitud={estado:"",url:""},this.click=oe=>{"canvasId"===oe.target.id&&this.write(oe)},this.clearZone=()=>{this.coordenadaX="",this.coordenadaY="",this.blActivarRecuperarArchvio=!1,this.pageNum=1,this.points=[],this.cx.clearRect(0,0,this.width,this.height),this.render(this.pageNum)},this.myForm=this.fb.group({str_prestamo_observacion:[""],int_estado_id:[0],int_estados_prestamo_id:[0],int_prestamo_estado:[]})}ngOnInit(){var g=this;return(0,u.Z)(function*(){console.log("llega el idEstado ----\x3e",g.srvPrestamos.idEstados),g.route.queryParams.subscribe({next:F=>{console.log("Params ->",F),g.request=!1,g.loading=!1,console.log("loadinfg => ",g.loading,"request => ",g.request),g.archivoBase64=F.solicitud,console.log("archivoBase64 => ",g.archivoBase64)}}),g.srvPrestamos.getPrestamoId(g.srvPrestamos.pdf).pipe((0,B.R)(g.destroy$)).subscribe({next:F=>{console.log("data ->",F),g.proceso=F.body.proceso,g.tipoActa=F.body.str_prestamo_tipo,g.cedulaUser=F.body.int_prestamo_persona_id,g.srvPrestamos.horarioId=F.body.int_prestamo_horario_id,console.log("cedulaUser => ",g.cedulaUser)}}),g.intIdDocumento=g.srvPrestamos.pdf,yield g.InicializacionVariable(),yield g.ProcesoVisualizacionPdF()})()}InicializacionVariable(){var g=this;return(0,u.Z)(function*(){g.pageRendering=!1,g.blActivarRecuperarArchvio=!1,g.pageNum=1,g.tipocertificado="2",g.pageNumPending="",g.TipoActa="",g.tokenobteneido="",g.urlFrima="",g.tipoActaGenerada="",g.pdfDoc=null,g.pageCount="",g.coordenadaX="",g.coordenadaY="",g.lstListadoFirmar=[],g.lstListadoEnviadoFirmar=[],g.lstArchivoEnviarAlmacenamientoOneDriver=[]})()}ProcesoVisualizacionPdF(){var g=this;return(0,u.Z)(function*(){g.strCodigoBase64=g.archivoBase64,g.pdfurl=atob(g.strCodigoBase64),yield g.render(g.pageNum)})()}render(g){var F=this;return(0,u.Z)(function*(){if(F.pageRendering=!1,null!=F.pageRendering&&Boolean(!F.pageRendering)&&""!=g&&""!=F.pdfurl&&null!=F.pdfurl&&F.canvasRef&&F.canvasRef.nativeElement){const z=F.canvasRef.nativeElement;F.cx=z.getContext("2d");let ee=F.cx;z.width=F.width,z.height=F.height,F.cx.lineWidth=3,F.cx.lineCap="round",F.cx.strokeStyle="#000",w.getDocument({data:F.pdfurl}).promise.then(oe=>{F.pdfDoc=oe,F.pageCount=oe.numPages,F.pdfDoc.getPage(g).then(te=>{let x=te.getViewport({scale:z.width/te._pageInfo.view[2]});te.render({canvasContext:ee,viewport:x}).promise.then(()=>{F.pageRendering=!1,""!==F.pageNumPending&&(F.render(F.pageNumPending),F.pageNumPending=null)})})})}F.pageNum=g})()}write(g){const z=this.canvasRef.nativeElement.getBoundingClientRect(),ee={x:Math.round(g.clientX-z.left),y:Math.round(g.clientY-z.top)};let te=840-(ee.y-30);this.coordenadaX=ee.x-45,this.coordenadaY=te,this.drawOnCanvas(ee)}drawOnCanvas(g){if(this.cx&&(this.cx.beginPath(),g)){let F=document.getElementById("source");this.cx.drawImage(F,g.x-50,g.y-70,100,100),this.cx.stroke(),this.AbrirFirmaEc()}}queueRenderPage(g){var F=this;return(0,u.Z)(function*(){F.pageRendering?F.pageNumPending=g:F.render(g)})()}onPrevPage(){var g=this;return(0,u.Z)(function*(){g.pageNum<=1||(g.pageNum--,g.queueRenderPage(g.pageNum))})()}onNextPage(){var g=this;return(0,u.Z)(function*(){g.pageNum>=g.pdfDoc.numPages||(g.pageNum++,g.queueRenderPage(g.pageNum))})()}AbrirFirmaEc(){var g=this;return(0,u.Z)(function*(){console.log("AbrirFirmaEc");let F=g.nomresis+g.cedulaUser+Math.floor(1e3*Math.random());g.fileName=F,g.certificadosporf.push({nombre:F,archivo:g.archivoBase64}),g.nombreDoc=F;let z={cedula:"0604737940",listado:g.certificadosporf};const ee=yield new Promise(Q=>g.srvfirma.postFirmaSolicitud(z).subscribe(oe=>{Q(oe)}));console.log("datos 123 => ",ee),"success"===ee.status&&(g.estaFirmado=!0,g.urlFrima="firmaec://"+g.key+"/firmar?token="+ee.token+"&tipo_certificado=2%26llx%3D"+g.coordenadaX+"%26lly%3D"+g.coordenadaY+"%26pagina%3D"+g.pageNum+"%26estampado%3DQR%26url%3Dhttp%3A%2F%2Fapifirmaec.espoch.edu.ec%2Fapi%26razon%3Dfirmado%20desde%20https%3A%2F%2Fsai.espoch.edu.ec",window.open(g.urlFrima,"_blank"))})()}RecuperarArEc(){var g=this;return(0,u.Z)(function*(){g.request=!0,g.srvfirma.getDocFirmado(g.nombreDoc).subscribe({next:F=>{g.loading=!0,g.estaFirmado=!0,g.fileInput=F.body[0].func_recuperar_archivo,console.log("que es esto ---\x3e",g.fileInput),console.log("res => ",F),setTimeout(()=>{let z=document.getElementById("ver-pdf-docFirmado");g.request=!1,z&&(z.innerHTML=' <iframe src="data:application/pdf;base64,'+g.fileInput+'" type="application/pdf" width="100%" height="700" />')},1e3)},error:F=>{console.log("err => ",F)}})})()}OnDriveAlamcenar(){var g=this;return(0,u.Z)(function*(){console.log("entra a OnDriveAlamcenar"),g.fileOut=g.dataURItoBlob(g.fileInput,"pdf"),console.log("fileOut => ",g.fileOut);const F=yield new Promise((ee,Q)=>g.srvfirma.obtenerTokenOneDrive().pipe((0,B.R)(g.destroy$)).subscribe({next:oe=>{ee(oe)},error:oe=>{console.log("error =>",oe),Q(new Error("Error obtaining token from OneDrive service"))}}));if(console.log("datosToken => ",F),!F)return void O().fire({title:"Ocurrio un error al conectarse al servicio de OneDrive",allowOutsideClick:!1});let z={access_token:F.informacionToken.strAccessToken,bitactivo:F.token,expires_on:F.informacionToken.strExpireOn,id_token:F.informacionToken.strToken,idtok:F.informacionToken.idSistema,tokfechacreacion:F.informacionToken.strFechaCreacion,tokfechaexp:F.informacionToken.strFechaExpiracion,token_type:"Bearer"};if(F.success){if(F.token){console.log("informacion => ",z),getTokenGenerado(z);const ee=new Date,Q=ee.toLocaleString("es",{month:"short"}).toUpperCase()+ee.getFullYear().toString().slice(2,4);g.objetoSolicitud.url="Prestamos/"+Q+"/_firma_"+g.fileName.replace(" ","_").split(".")[0]+".pdf";const oe=yield onUpload(g.fileOut,"Prestamos/"+Q,"_firma_"+g.fileName.replace(" ","_").split(".")[0]);console.log("objetoSolicitud => ",g.objetoSolicitud),console.log("resp => ",oe),oe?(console.log("entra al if",oe.status),g.srvPrestamos.putOneDrive(g.intIdDocumento,g.objetoSolicitud.url).pipe((0,B.R)(g.destroy$)).subscribe({next:V=>{O().close(),O().fire({title:"\xa1Documento guardado correctamente!",icon:"success",showConfirmButton:!1,timer:2500})},error:V=>{O().close(),O().fire({title:"Ocurrio un error al actualizar el acta",text:"Por favor comun\xedquese con el servicio t\xe9cnico",icon:"error",footer:"Error: "+V.error.message+"\n"+(V.error.errores?JSON.stringify(V.error.errores):""),showDenyButton:!1,confirmButtonText:"Aceptar"}),console.log("err =>",V)},complete:()=>{}})):O().fire({title:"\xa1Error!",text:"No se ha subido el archivo correctamente, Por favor comun\xedquese con el servicio t\xe9cnico",icon:"error",showDenyButton:!1,confirmButtonText:"Aceptar"})}else console.error("Error al obtener el token");g.fileInput=null}})()}guardarDocFirmado(){this.srvPrestamos.putPDF(this.intIdDocumento,this.fileInput).pipe((0,B.R)(this.destroy$)).subscribe({next:g=>{console.log("data => ",g),O().fire({title:"Documento firmado guardado con \xe9xito",icon:"success",showConfirmButton:!1,timer:2500}),console.log("se ha firmado y se va a cambiar de proceso"),0===this.proceso?(console.log("debe entrar si es la primera firma"),this.myForm.get("int_estado_id")?.setValue(2),this.myForm.get("int_prestamo_estado")?.setValue(1),this.myForm.get("int_estados_prestamo_id")?.setValue(this.srvPrestamos.idEstados)):1===this.proceso&&(this.myForm.get("int_estado_id")?.setValue(3),this.myForm.get("int_prestamo_estado")?.setValue(1),this.myForm.get("int_estados_prestamo_id")?.setValue(this.srvPrestamos.idEstados),this.OnDriveAlamcenar()),console.log("lo que va a la funcion ---\x3e",this.myForm.value,this.srvPrestamos.idPrestamo),setTimeout(()=>{this.srvPrestamos.actualizarPrestamo(this.srvPrestamos.pdf,this.myForm.value),this.srvPrestamos.obtenerPrestamosConEstado({}),window.location.href=y.Z.URL_BASE_PATH+"/prestamos/prestamo"},3e3)},error:g=>{console.log("err => ",g)}})}guardarDocFir(){var g=this;return(0,u.Z)(function*(){O().fire({title:"Guardando documento firmado...",didOpen:()=>{O().showLoading()}}),g.guardarDocFirmado()})()}dataURItoBlob(g,F){const z=window.atob(g),ee=z.length,Q=new Uint8Array(ee);for(let V=0;V<ee;++V)Q[V]=z.charCodeAt(V);const oe=new Blob([Q],{type:"application/pdf"});return new File([oe],F,{type:"application/pdf"})}};let l=b;return b.\u0275fac=function(F){return new(F||b)(k.Y36(o.gz),k.Y36(o.F0),k.Y36(_.W),k.Y36(D.R),k.Y36(M.qu))},b.\u0275cmp=k.Xpm({type:b,selectors:[["app-firma-electronica"]],viewQuery:function(F,z){if(1&F&&(k.Gf(L,5),k.Gf(s,5)),2&F){let ee;k.iGM(ee=k.CRH())&&(z.canvasRef=ee.first),k.iGM(ee=k.CRH())&&(z.myModalInfo=ee.first)}},hostBindings:function(F,z){1&F&&k.NdJ("click",function(Q){return z.click(Q)},!1,k.evT)},decls:14,vars:3,consts:[[1,""],[1,"containerBody"],[1,"titleConfiguration",2,"padding","2rem","min-width","250px"],[1,"titleButton"],[1,"title"],[2,"color","#b41a12"],[2,"color","rgb(160, 160, 160)","font-family","'Roboto', Arial, sans-serif","font-size","14px"],["class","btn-primary-add",3,"click",4,"ngIf"],["class","contenedor-tabla",4,"ngIf"],["id","ver-pdf-docFirmado","style","width: 100%; height: 700px; margin-top: 25px",4,"ngIf"],[1,"btn-primary-add",3,"click"],[1,"contenedor-tabla"],[1,"widget","col-md-12","col-sm-12","col-xs-12",2,"padding","0 !important","border-bottom-color","#657382"],[1,"widget-content"],[1,"custom-tabs-right"],[1,"tab-content","clearfix"],["id","step1",1,"tab-pane","active"],[1,"col-md-12","col-sm-12","col-xs-12"],[1,"col-md-12","col-sm-12","col-xs-12","text-center"],["id","prev","title","Pagina Anterior Firmar",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-arrow-circle-left"],["id","next","title","Pagina Siguiente Firmar",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-arrow-circle-right"],["title","Limpiar P\xe1gina",1,"btn","btn-success",2,"padding","5px",3,"click"],[1,"fa","fa-eraser"],["title","Recuperar Archivo",1,"btn","btn-success",2,"padding","5px",3,"disabled","click"],["lass","col-md-12 col-sm-12 col-xs-12 text-center"],[2,"text-align","center","font-weight","bold"],["id","page_num"],["id","page_count"],["id","container",2,"text-align","center","height","600px","overflow","auto"],["id","canvasId"],["canvasRef",""],[2,"display","none"],["id","source","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAACZCAYAAAA8XJi6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACmZJREFUeNrsnV1sXEcVx4+XjVnZa++a4FjgQNZtXkgQdcVDUwVVjiq+REUdXugDEFsqPCE1UUGqUEVcwRNCcoxAPMZISEgIFPsJCSFsBKhCFcR9aEBtiN0GN3JC8K6/WMx2LzPLmeRkemfuvfvh9Sb/nzTa3XvPnTl35twzZ+7O3EsEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPaWrk5W/OXw0E1O0emj16q6S71bfU3Jbwnw0FXVchY/TeXXLnWpfOUJn+5g7eoTIhurbaaQ7/CIZsBvZZRgqrarUq1I/b9tQaTdhPqbx14QxDXn2uXTOit9SDxupb1XlvaryrsLI9hZZ4euexjLnGYhtQcJ8tLfL8fc+lcq6wVXDm+NTcp/Hi2WtzUFMWf27R6UtGFn72I3qqhrJh40pJxpcsiMMokfJpk2XamG80laIsYXJ6nJKotxcJxpZCmFpU3jHavycp/vbYfko+jjPDeFp08qAe2BkDy7b4nsPd3fSE/Zwz7EZI+bLcttscwy2aRkfuss20esZJe4kGJm58jlgDSTIHlWq48ocu5l4asMyjgrLRY1mcxzzlUX3arxjRo86O2mkeT8ZmS/GKTcpH+JBwabHm2WEUW2wZ0rz9tsxvVhayur4Tm2XcVxfnLxgZM3HeevA7rqS5KOOHRb1tK72bbgOVPu2lHyO5Wvxk9q2w16oyvFYFDnjKS2P9x9hZFm1r+QYXMDI2kGD95b06O6g7Z0iYrM7tzq4C63deojSQ8RtmqEYA4N1BP73BzvW6C4qnpJGqGUHuJ43Y5TVx2WtOZLsIrMJPTQ82X72ghwP9QtDKMeQz4oYrxzVtbHx6lTy3e8T3XHY4AKerIPZtG5PRF2cJc/x3lhMGVgxQd4dcTuj040sndArv8fx3ZsPeyHpXQbEqNHOy5avcPDv1EN4se2Y3TeJ7rsfPgAAAAAAAAAAAAAAAAAAAK2n4XWXYWsPPXjXLDowayaTrI28s/4xpJxd15SbkDJ2Y0zPyTjKrWstZ0TdJtE9cXkir9p8OPuc6qVZszCGYsrp2Qm3ufL0ZMA4/53qWaFrCcowFbUqKlIeq/9gdv0Jba+/9MmaWawHpRGodMORV5S+rkmX9epeb3nE+QzGlG29kYm1h4Y1j7gxqqz4rv/w3Yyh4y26d31kL92dTqONdzukHI39B3Kvp6Gq9O41lL5ZEX0hx4d9j72W09qfVPdGy3OdVy8lm8LeEk9GCV2rNIL/xjym4uke3nGslUzR3aVlGbo7LTqrp0o7ytk1clpPlyyX303x1lAmXstZp+51l2edV4buXe/Z0HTv+30+mfGYJcvTRc3DknO2fGsoqxRves5e6t4oZlVV0fJedZe7H4zsgL56XKkJFWZmpcpFst0ReXunXItHCGy2uLHr0b2RQZz2lj3CqOXFVvd073QLFM37Gi9kvWAPJ1d+2vXfqEOPe5aWcewoHyfgjElYdtMTv8jHDbSiDuvWvUHMqqoNE/qocivU4HTvVIsUdaVUWHwVQb1Xrr1A1r4yo6ZRb3lkdVe5lSBG0QuG83ayuqBKE3Wv14vVvLN1m6Th6d6tCPzfjLinZtYn6rLf68kq0wRPsB1ioGWRd44ci2QdC2rXZd4J46uoQU2pWbo34Bxqgwar3IoYcccdeLTWyKJud4jvxQhDGWrA0Posr+psfFXOuueG6zZZC2rZiyV9glCS+0zN0j3JRSkfUzUYQ7/9a2R7gbi1oGOHf3uu2oyIr4qu2zE6JuT8dEMMUMzHDbRb94SYGPO2J5QZ5DqohS9JLrL7cd2lCV5Lnr9g0nTvMyt8DaUHAAdFtxf3cQP7Qfe4XsyMZLc8cnUPPPZ6dFnrJqNkTMDvCIqjPEHN0/i6EeuZFSlfnGHJEsV43EADXqxZuid5MpF52F6Udy5RvAf9Nd/IQkY5vjjCDH+76N1/mThPznEyYWsoc6YhYuS7I3TI8ZWa9sRmOeHZXHUY57s38G6S7rEGGpYXq0Q4h4oIHYhDh1sEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIOnaL4rcHD5aUB9jKhV409yh1atLaCIYWbMMbOrn+ez5y7ksve/xx+j6lSs0+Nrf6EvV1OJI0DWpjG1FiI+qFPYeAG2QxRCZFU5jlrzZHkbY8WHkWdZQZD3s7SYPW3epc0FcYFH7ZL6mXPnSCCm/RM15a0nnog1s8sMjwcef/Vww8rUng4HJE7X06Nc/H3z29FPB/OGHl62XS2hj0a8/DqxkjOgi/9afl1Va4IadErKX+VPnMyHyHldpmdMCf2q5SyGGPc37jOyCkC2I3+tCt3Ghw0Urzymh74Kl+4RVhvk+wceNCaOfZp2muYxllnlgDazww+OjNeM6/cKzwRMnTwYz09PBN59/PnjoyJHgC7/6bvCZJ58IrgwfvWgdaip7SjTeKDeuaUASRmeM0zQwCaNbt/avi8bPC4O8bOVpGpusC2DKyt+WsS8KaWT2tgmrXBL6hx13yTp3eQ4T7Wrndr9baeL3+Syd+uJT9EzlGP116Ap95NgxeuzECdrY2KAXPvFV+sorb9AfXv+HNqJJTz5zopszRjfP28/xtkXrGP37vDCo5/hzVnQv+vMlbrxRzndJNNhMSJ75JtaP1uUMlzsXIVtgHUes7focTrWzy2z366EfuTaSpS8f/yT19/fT8OHDNeP61o/nqOtAhgrZQ7Vt/3Q33BnRrRXYAFa4ocOuavsKl8Y3zp8lhwEbIx5z7HNtGxXd20IddTRvxXc+I/uJY19bY7J2G9nKDRXTF3f//37S7918mX6dfos+/dxJ6v7AYJzjF7liZXB+mo3NdDdhhnaWvdgsy9dLIYaMbuDfidRKcvsxLGq3kb36qa1u+tHLv6z9eOMvr9Bvzv6AZr7xIq3+a4UW116jv//2z3Q86HKN7t5kQ5kU3mmFu4dZy0NJg7ig0qN8XFGMwjRPe/RdEnIUEkORYwQ4JVJSno7RVZpyxj0XQ/5BNbK5ySBdPH69m779+i8o98e3qS/bQ5lrJXrr1ts0f/1PdPLaFj0edL0Us4JN3FRkA1pK4HVmHF3ihChjjvM0Xex5q/HyEV10Us5aF0BUHcyFjFoLHDqMtauR2xr41959SUdPfecmLfzs4MP573/sg5Q6NEBHunspr9KLtz9EVK7Ovn/16qyjm9Ix2RE2jHlu/GmuZHOv6oIVgxkPtBgSZD/CDXuJf5d4QLBidaunRcMtC9kzIi7KWV6kaOkwGqLDtHVvbDFhd35O3MJYFHVwLqY3bAn75Wbs6HJXMP3TVHVsu7+Pskqtj5Y2i+PV1IwyRLuLGXcEwnNsDBNWUL8ohvq2Ua04upYJy0PMOlQfDemiLnAe41ZcdoENOG/p3Kp/NcYco+oH08iEsZkrr4i/lAAAAAAAAAAAAAAAAACABPxPgAEApv1JDfxEcTgAAAAASUVORK5CYII=","width","50","height","50"],["id","ver-pdf-docFirmado",2,"width","100%","height","700px","margin-top","25px"]],template:function(F,z){1&F&&(k.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),k._uU(6," Pantalla de "),k.TgZ(7,"span",5),k._uU(8," Firma "),k.qZA()(),k.TgZ(9,"span",6),k._uU(10," Documento a firmar "),k.qZA()(),k.YNc(11,a,2,0,"button",7),k.qZA(),k.YNc(12,f,50,5,"div",8),k.qZA()()(),k.YNc(13,d,1,0,"div",9)),2&F&&(k.xp6(11),k.Q6J("ngIf",z.estaFirmado&&z.loading),k.xp6(1),k.Q6J("ngIf",!z.request&&!z.loading),k.xp6(1),k.Q6J("ngIf",z.estaFirmado&&z.loading))},dependencies:[r.O5],styles:[".cont-btn-firma[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px;gap:20px}.titleConfiguration[_ngcontent-%COMP%]{width:100%;height:10%}.buttonAgg[_ngcontent-%COMP%]{display:flex;gap:15px}.titleButton[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;margin-bottom:20px}.showCenter[_ngcontent-%COMP%]{height:880%}.father[_ngcontent-%COMP%]{width:auto;padding:2rem;min-width:250px;display:flex}.containerBody[_ngcontent-%COMP%]{width:100%;height:100%}.titleConfiguration[_ngcontent-%COMP%]{height:10%;float:left}.containerContent[_ngcontent-%COMP%]{width:100%;padding-top:15px}.titleConfiguration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#0c0c0c}.containerNavOptions[_ngcontent-%COMP%]{display:flex;padding-top:20px;border-bottom:1px solid #ccc;position:relative;z-index:0;width:100%;height:100%;overflow:auto}.container-button[_ngcontent-%COMP%]{height:100%;display:flex}.container-button[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:1px solid}.container-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:5%;height:100%}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;margin-right:20px;display:flex;border:none;align-items:center;font-size:14px;padding-bottom:5px}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:none;display:flex;border:none;align-items:center;color:#b41a12;position:relative;cursor:pointer}.containerNavOptions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#b41a12;font-weight:500;border-bottom:solid 1px #B41A12}.container-button[_ngcontent-%COMP%]:focus{border-bottom:#B41A12;border:solid 2px #B41A12;position:relative}.containerNavOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]::-moz-focus-inner{background:none;display:flex;border:none;align-items:center;font-weight:600;border-bottom:solid 1px #B41A12;color:#b41a12;cursor:pointer}.btn-agg-Users[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.containerBtnAgregar[_ngcontent-%COMP%]{justify-content:center;width:inherit;height:100%}.btn-agg[_ngcontent-%COMP%]{float:right;display:flex}.component[_ngcontent-%COMP%]{float:left;width:100%;height:100%}.tab-pane.fade[_ngcontent-%COMP%]{width:100%;height:100%}.set[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tableBo[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto}.container-Welcome[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:25px;margin-top:25px}.container-Left[_ngcontent-%COMP%], .container-Right[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}.container-Right[_ngcontent-%COMP%]{align-items:center;justify-content:center}.logo-Espoch[_ngcontent-%COMP%], .logo-Inventory[_ngcontent-%COMP%]{width:150px;height:150px}.tituloModulo[_ngcontent-%COMP%]{font-size:50px;font-family:var(--font-family);font-weight:var(--font-weight-bold);color:var(--bs-gray-600)}span[_ngcontent-%COMP%]{color:var( --color-accent)}p[_ngcontent-%COMP%]{font-size:20px;font-family:var(--font-family);font-weight:500;text-align:justify}"]}),l})()}];let C=(()=>{const b=class{};let l=b;return b.\u0275fac=function(F){return new(F||b)},b.\u0275mod=k.oAB({type:b}),b.\u0275inj=k.cJS({imports:[o.Bz.forChild(h),o.Bz]}),l})(),m=(()=>{const b=class{};let l=b;return b.\u0275fac=function(F){return new(F||b)},b.\u0275mod=k.oAB({type:b}),b.\u0275inj=k.cJS({imports:[r.ez,C]}),l})()},6865:function(p){p.exports=function(){"use strict";function i(s){var a=new _,f=Array.from(s);if(!f.every(function(ye){return!Number.isNaN(ye)}))throw TypeError('CSSMatrix: "'+s+'" must only have numbers.');if(16===f.length){var d=f[0],R=f[1],h=f[2],C=f[3],m=f[4],l=f[5],b=f[6],P=f[7],g=f[8],F=f[9],z=f[10],ee=f[11],Q=f[12],oe=f[13],V=f[14],te=f[15];a.m11=d,a.a=d,a.m21=m,a.c=m,a.m31=g,a.m41=Q,a.e=Q,a.m12=R,a.b=R,a.m22=l,a.d=l,a.m32=F,a.m42=oe,a.f=oe,a.m13=h,a.m23=b,a.m33=z,a.m43=V,a.m14=C,a.m24=P,a.m34=ee,a.m44=te}else{if(6!==f.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");var re=f[0],c=f[1],v=f[2],x=f[3],G=f[4],ie=f[5];a.m11=re,a.a=re,a.m12=c,a.b=c,a.m21=v,a.c=v,a.m22=x,a.d=x,a.m41=G,a.e=G,a.m42=ie,a.f=ie}return a}function t(s){var a=Object.keys(new _);if("object"==typeof s&&a.every(function(f){return f in s}))return i([s.m11,s.m12,s.m13,s.m14,s.m21,s.m22,s.m23,s.m24,s.m31,s.m32,s.m33,s.m34,s.m41,s.m42,s.m43,s.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(s)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function r(s){if("string"!=typeof s)throw TypeError('CSSMatrix: "'+s+'" is not a string.');var a=String(s).replace(/\s/g,""),f=new _,d='CSSMatrix: invalid transform string "'+s+'"';return a.split(")").filter(function(R){return R}).forEach(function(R){var h=R.split("("),C=h[0],m=h[1];if(!m)throw TypeError(d);var l=m.split(",").map(function(G){return G.includes("rad")?parseFloat(G)*(180/Math.PI):parseFloat(G)}),b=l[0],P=l[1],g=l[2],F=l[3],z=[b,P,g],ee=[b,P,g,F];if("perspective"===C&&b&&[P,g].every(function(G){return void 0===G}))f.m34=-1/b;else if(C.includes("matrix")&&[6,16].includes(l.length)&&l.every(function(G){return!Number.isNaN(+G)})){var Q=l.map(function(G){return Math.abs(G)<1e-6?0:G});f=f.multiply(i(Q))}else if("translate3d"===C&&z.every(function(G){return!Number.isNaN(+G)}))f=f.translate(b,P,g);else if("translate"===C&&b&&void 0===g)f=f.translate(b,P||0,0);else if("rotate3d"===C&&ee.every(function(G){return!Number.isNaN(+G)})&&F)f=f.rotateAxisAngle(b,P,g,F);else if("rotate"===C&&b&&[P,g].every(function(G){return void 0===G}))f=f.rotate(0,0,b);else if("scale3d"===C&&z.every(function(G){return!Number.isNaN(+G)})&&z.some(function(G){return 1!==G}))f=f.scale(b,P,g);else if("scale"!==C||Number.isNaN(b)||1===b||void 0!==g)if("skew"===C&&(b||!Number.isNaN(b)&&P)&&void 0===g)f=f.skew(b,P||0);else{if(!(/[XYZ]/.test(C)&&b&&[P,g].every(function(G){return void 0===G})&&["translate","rotate","scale","skew"].some(function(G){return C.includes(G)})))throw TypeError(d);if(["skewX","skewY"].includes(C))f=f[C](b);else{var te=C.replace(/[XYZ]/,""),re=C.replace(te,""),c=["X","Y","Z"].indexOf(re),v="scale"===te?1:0;f=f[te].apply(f,[0===c?b:v,1===c?b:v,2===c?b:v])}}else{var oe=Number.isNaN(+P);f=f.scale(b,oe?b:P,1)}}),f}function o(s,a){return a?[s.a,s.b,s.c,s.d,s.e,s.f]:[s.m11,s.m12,s.m13,s.m14,s.m21,s.m22,s.m23,s.m24,s.m31,s.m32,s.m33,s.m34,s.m41,s.m42,s.m43,s.m44]}function u(s,a,f){var d=new _;return d.m41=s,d.e=s,d.m42=a,d.f=a,d.m43=f,d}function y(s,a,f){var d=new _,R=Math.PI/180,h=s*R,C=a*R,m=f*R,l=Math.cos(h),b=-Math.sin(h),P=Math.cos(C),g=-Math.sin(C),F=Math.cos(m),z=-Math.sin(m),ee=P*F,Q=-P*z;d.m11=ee,d.a=ee,d.m12=Q,d.b=Q,d.m13=g;var oe=b*g*F+l*z;d.m21=oe,d.c=oe;var V=l*F-b*g*z;return d.m22=V,d.d=V,d.m23=-b*P,d.m31=b*z-l*g*F,d.m32=b*F+l*g*z,d.m33=l*P,d}function w(s,a,f,d){var R=new _,h=Math.sqrt(s*s+a*a+f*f);if(0===h)return R;var C=s/h,m=a/h,l=f/h,b=d*(Math.PI/360),P=Math.sin(b),g=Math.cos(b),F=P*P,z=C*C,ee=m*m,Q=l*l,oe=1-2*(ee+Q)*F;R.m11=oe,R.a=oe;var V=2*(C*m*F+l*P*g);R.m12=V,R.b=V,R.m13=2*(C*l*F-m*P*g);var te=2*(m*C*F-l*P*g);R.m21=te,R.c=te;var re=1-2*(Q+z)*F;return R.m22=re,R.d=re,R.m23=2*(m*l*F+C*P*g),R.m31=2*(l*C*F+m*P*g),R.m32=2*(l*m*F-C*P*g),R.m33=1-2*(z+ee)*F,R}function N(s,a,f){var d=new _;return d.m11=s,d.a=s,d.m22=a,d.d=a,d.m33=f,d}function B(s,a){var f=new _;if(s){var d=s*Math.PI/180,R=Math.tan(d);f.m21=R,f.c=R}if(a){var h=a*Math.PI/180,C=Math.tan(h);f.m12=C,f.b=C}return f}function Y(s){return B(s,0)}function O(s){return B(0,s)}function k(s,a){return i([a.m11*s.m11+a.m12*s.m21+a.m13*s.m31+a.m14*s.m41,a.m11*s.m12+a.m12*s.m22+a.m13*s.m32+a.m14*s.m42,a.m11*s.m13+a.m12*s.m23+a.m13*s.m33+a.m14*s.m43,a.m11*s.m14+a.m12*s.m24+a.m13*s.m34+a.m14*s.m44,a.m21*s.m11+a.m22*s.m21+a.m23*s.m31+a.m24*s.m41,a.m21*s.m12+a.m22*s.m22+a.m23*s.m32+a.m24*s.m42,a.m21*s.m13+a.m22*s.m23+a.m23*s.m33+a.m24*s.m43,a.m21*s.m14+a.m22*s.m24+a.m23*s.m34+a.m24*s.m44,a.m31*s.m11+a.m32*s.m21+a.m33*s.m31+a.m34*s.m41,a.m31*s.m12+a.m32*s.m22+a.m33*s.m32+a.m34*s.m42,a.m31*s.m13+a.m32*s.m23+a.m33*s.m33+a.m34*s.m43,a.m31*s.m14+a.m32*s.m24+a.m33*s.m34+a.m34*s.m44,a.m41*s.m11+a.m42*s.m21+a.m43*s.m31+a.m44*s.m41,a.m41*s.m12+a.m42*s.m22+a.m43*s.m32+a.m44*s.m42,a.m41*s.m13+a.m42*s.m23+a.m43*s.m33+a.m44*s.m43,a.m41*s.m14+a.m42*s.m24+a.m43*s.m34+a.m44*s.m44])}var _=function(){for(var a=[],f=arguments.length;f--;)a[f]=arguments[f];var d=this;if(d.a=1,d.b=0,d.c=0,d.d=1,d.e=0,d.f=0,d.m11=1,d.m12=0,d.m13=0,d.m14=0,d.m21=0,d.m22=1,d.m23=0,d.m24=0,d.m31=0,d.m32=0,d.m33=1,d.m34=0,d.m41=0,d.m42=0,d.m43=0,d.m44=1,a.length){var R=[16,6].some(function(h){return h===a.length})?a:a[0];return d.setMatrixValue(R)}return d},D={isIdentity:{configurable:!0},is2D:{configurable:!0}};return D.isIdentity.get=function(){var s=this;return 1===s.m11&&0===s.m12&&0===s.m13&&0===s.m14&&0===s.m21&&1===s.m22&&0===s.m23&&0===s.m24&&0===s.m31&&0===s.m32&&1===s.m33&&0===s.m34&&0===s.m41&&0===s.m42&&0===s.m43&&1===s.m44},D.is2D.get=function(){var s=this;return 0===s.m31&&0===s.m32&&1===s.m33&&0===s.m34&&0===s.m43&&1===s.m44},_.prototype.setMatrixValue=function(a){return"string"==typeof a&&a.length&&"none"!==a?r(a):[Array,Float64Array,Float32Array].some(function(d){return a instanceof d})?i(a):[_,DOMMatrix,Object].some(function(d){return a instanceof d})?t(a):this},_.prototype.toFloat32Array=function(a){return Float32Array.from(o(this,a))},_.prototype.toFloat64Array=function(a){return Float64Array.from(o(this,a))},_.prototype.toString=function(){var f=this.is2D;return(f?"matrix":"matrix3d")+"("+this.toFloat64Array(f).join(", ")+")"},_.prototype.toJSON=function(){var a=this;return Object.assign({},a,{is2D:a.is2D,isIdentity:a.isIdentity})},_.prototype.multiply=function(a){return k(this,a)},_.prototype.translate=function(a,f,d){var h=f,C=d;return void 0===h&&(h=0),void 0===C&&(C=0),k(this,u(a,h,C))},_.prototype.scale=function(a,f,d){var h=f,C=d;return void 0===h&&(h=a),void 0===C&&(C=1),k(this,N(a,h,C))},_.prototype.rotate=function(a,f,d){var R=a,h=f||0,C=d||0;return"number"==typeof a&&void 0===f&&void 0===d&&(C=R,R=0,h=0),k(this,y(R,h,C))},_.prototype.rotateAxisAngle=function(a,f,d,R){if([a,f,d,R].some(function(h){return Number.isNaN(+h)}))throw new TypeError("CSSMatrix: expecting 4 values");return k(this,w(a,f,d,R))},_.prototype.skewX=function(a){return k(this,Y(a))},_.prototype.skewY=function(a){return k(this,O(a))},_.prototype.skew=function(a,f){return k(this,B(a,f))},_.prototype.transformPoint=function(a){var f=this,d=f.m11*a.x+f.m21*a.y+f.m31*a.z+f.m41*a.w,R=f.m12*a.x+f.m22*a.y+f.m32*a.z+f.m42*a.w,h=f.m13*a.x+f.m23*a.y+f.m33*a.z+f.m43*a.w,C=f.m14*a.x+f.m24*a.y+f.m34*a.z+f.m44*a.w;return a instanceof DOMPoint?new DOMPoint(d,R,h,C):{x:d,y:R,z:h,w:C}},Object.defineProperties(_.prototype,D),Object.assign(_,{Translate:u,Rotate:y,RotateAxisAngle:w,Scale:N,SkewX:Y,SkewY:O,Skew:B,Multiply:k,fromArray:i,fromMatrix:t,fromString:r,toArray:o}),Object.assign(_,{Version:"1.0.3"}),_}()},5908:function(module,__unused_webpack_exports,__webpack_require__){var t;t=()=>(()=>{var __webpack_modules__=[,(p,i,t)=>{"use strict";function r(de){return function y(de){if(Array.isArray(de))return _(de)}(de)||function u(de){if(typeof Symbol<"u"&&null!=de[Symbol.iterator]||null!=de["@@iterator"])return Array.from(de)}(de)||k(de)||function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(de,Re){return function Y(de){if(Array.isArray(de))return de}(de)||function B(de,Re){var ue=null==de?null:typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(null!=ue){var nt,rt,be=[],ze=!0,Ke=!1;try{for(ue=ue.call(de);!(ze=(nt=ue.next()).done)&&(be.push(nt.value),!Re||be.length!==Re);ze=!0);}catch(it){Ke=!0,rt=it}finally{try{!ze&&null!=ue.return&&ue.return()}finally{if(Ke)throw rt}}return be}}(de,Re)||k(de,Re)||function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(de,Re){if(de){if("string"==typeof de)return _(de,Re);var ue=Object.prototype.toString.call(de).slice(8,-1);if("Object"===ue&&de.constructor&&(ue=de.constructor.name),"Map"===ue||"Set"===ue)return Array.from(de);if("Arguments"===ue||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return _(de,Re)}}function _(de,Re){(null==Re||Re>de.length)&&(Re=de.length);for(var ue=0,be=new Array(Re);ue<Re;ue++)be[ue]=de[ue];return be}function D(de){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Re){return typeof Re}:function(Re){return Re&&"function"==typeof Symbol&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re})(de)}function M(de,Re){for(var ue=0;ue<Re.length;ue++){var be=Re[ue];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(de,be.key,be)}}function L(de,Re,ue){return Re&&M(de.prototype,Re),ue&&M(de,ue),Object.defineProperty(de,"prototype",{writable:!1}),de}function s(de,Re){if(!(de instanceof Re))throw new TypeError("Cannot call a class as a function")}function a(de,Re){if("function"!=typeof Re&&null!==Re)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(Re&&Re.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),Re&&f(de,Re)}function f(de,Re){return(f=Object.setPrototypeOf||function(be,ze){return be.__proto__=ze,be})(de,Re)}function d(de){var Re=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ze,be=m(de);if(Re){var Ke=m(this).constructor;ze=Reflect.construct(be,arguments,Ke)}else ze=be.apply(this,arguments);return function R(de,Re){if(Re&&("object"===D(Re)||"function"==typeof Re))return Re;if(void 0!==Re)throw new TypeError("Derived constructors may only return object or undefined");return function h(de){if(void 0===de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}(de)}(this,ze)}}function m(de){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)})(de)}Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=W,i.arraysToBytes=function X(de){var Re=de.length;if(1===Re&&de[0]instanceof Uint8Array)return de[0];for(var ue=0,be=0;be<Re;be++)ue+=W(de[be]);for(var ze=0,Ke=new Uint8Array(ue),nt=0;nt<Re;nt++){var rt=de[nt];rt instanceof Uint8Array||(rt="string"==typeof rt?U(rt):new Uint8Array(rt));var it=rt.byteLength;Ke.set(rt,ze),ze+=it}return Ke},i.assert=function E(de,Re){de||ae(Re)},i.bytesToString=function I(de){("object"!==D(de)||null===de||void 0===de.length)&&ae("Invalid argument for bytesToString");var Re=de.length;if(Re<8192)return String.fromCharCode.apply(null,de);for(var be=[],ze=0;ze<Re;ze+=8192){var Ke=Math.min(ze+8192,Re),nt=de.subarray(ze,Ke);be.push(String.fromCharCode.apply(null,nt))}return be.join("")},i.createPromiseCapability=function et(){var de=Object.create(null),Re=!1;return Object.defineProperty(de,"settled",{get:function(){return Re}}),de.promise=new Promise(function(ue,be){de.resolve=function(ze){Re=!0,ue(ze)},de.reject=function(ze){Re=!0,be(ze)}}),de},i.createValidAbsoluteUrl=function $(de){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!de)return null;try{if(ue&&"string"==typeof de){if(ue.addDefaultProtocol&&de.startsWith("www.")){var be=de.match(/\./g);be&&be.length>=2&&(de="http://".concat(de))}if(ue.tryConvertEncoding)try{de=Ve(de)}catch{}}var ze=Re?new URL(de,Re):new URL(de);if(function A(de){if(!de)return!1;switch(de.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ze))return ze}catch{}return null},i.escapeString=function Le(de){return de.replace(/([()\\\n\r])/g,function(Re){return"\n"===Re?"\\n":"\r"===Re?"\\r":"\\".concat(Re)})},i.getModificationDate=function Ze(){var de=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[de.getUTCFullYear().toString(),(de.getUTCMonth()+1).toString().padStart(2,"0"),de.getUTCDate().toString().padStart(2,"0"),de.getUTCHours().toString().padStart(2,"0"),de.getUTCMinutes().toString().padStart(2,"0"),de.getUTCSeconds().toString().padStart(2,"0")].join("")},i.getVerbosityLevel=function Ie(){return Oe},i.info=function Me(de){Oe>=pe.INFOS&&console.log("Info: ".concat(de))},i.isArrayBuffer=function Ye(de){return"object"===D(de)&&null!==de&&void 0!==de.byteLength},i.isArrayEqual=function Je(de,Re){if(de.length!==Re.length)return!1;for(var ue=0,be=de.length;ue<be;ue++)if(de[ue]!==Re[ue])return!1;return!0},i.isAscii=function je(de){return/^[\x00-\x7F]*$/.test(de)},i.objectFromMap=function Se(de){var be,Re=Object.create(null),ue=function O(de,Re){var ue=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(!ue){if(Array.isArray(de)||(ue=k(de))||Re&&de&&"number"==typeof de.length){ue&&(de=ue);var be=0,ze=function(){};return{s:ze,n:function(){return be>=de.length?{done:!0}:{done:!1,value:de[be++]}},e:function(ct){throw ct},f:ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rt,Ke=!0,nt=!1;return{s:function(){ue=ue.call(de)},n:function(){var ct=ue.next();return Ke=ct.done,ct},e:function(ct){nt=!0,rt=ct},f:function(){try{!Ke&&null!=ue.return&&ue.return()}finally{if(nt)throw rt}}}}(de);try{for(ue.s();!(be=ue.n()).done;){var ze=w(be.value,2);Re[ze[0]]=ze[1]}}catch(rt){ue.e(rt)}finally{ue.f()}return Re},i.objectSize=function ce(de){return Object.keys(de).length},i.setVerbosityLevel=function Te(de){Number.isInteger(de)&&(Oe=de)},i.shadow=J,i.string32=function H(de){return String.fromCharCode(de>>24&255,de>>16&255,de>>8&255,255&de)},i.stringToBytes=U,i.stringToPDFString=function Xe(de){var Re;if(de[0]>="\xef"&&("\xfe"===de[0]&&"\xff"===de[1]?Re="utf-16be":"\xff"===de[0]&&"\xfe"===de[1]?Re="utf-16le":"\xef"===de[0]&&"\xbb"===de[1]&&"\xbf"===de[2]&&(Re="utf-8"),Re))try{var ue=new TextDecoder(Re,{fatal:!0}),be=U(de);return ue.decode(be)}catch(it){j('stringToPDFString: "'.concat(it,'".'))}for(var ze=[],Ke=0,nt=de.length;Ke<nt;Ke++){var rt=Be[de.charCodeAt(Ke)];ze.push(rt?String.fromCharCode(rt):de.charAt(Ke))}return ze.join("")},i.stringToUTF16BEString=function Ge(de){for(var Re=["\xfe\xff"],ue=0,be=de.length;ue<be;ue++){var ze=de.charCodeAt(ue);Re.push(String.fromCharCode(ze>>8&255),String.fromCharCode(255&ze))}return Re.join("")},i.stringToUTF8String=Ve,i.unreachable=ae,i.utf8StringToString=function Ne(de){return unescape(encodeURIComponent(de))},i.warn=j,t(2),i.IDENTITY_MATRIX=[1,0,0,1,0,0],i.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],i.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},i.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},i.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},i.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},i.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},i.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},i.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},i.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},i.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},i.AnnotationReplyType={GROUP:"Group",REPLY:"R"},i.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},i.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},i.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},i.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},i.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},i.PageActionEventType={O:"PageOpen",C:"PageClose"},i.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},i.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var pe={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=pe,i.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},i.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},i.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},i.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var Oe=pe.WARNINGS;function j(de){Oe>=pe.WARNINGS&&console.log("Warning: ".concat(de))}function ae(de){throw new Error(de)}function J(de,Re,ue){return Object.defineProperty(de,Re,{value:ue,enumerable:!0,configurable:!0,writable:!1}),ue}var Z=function(){function Re(ue,be){this.constructor===Re&&ae("Cannot initialize BaseException."),this.message=ue,this.name=be}return Re.prototype=new Error,Re.constructor=Re,Re}();function U(de){"string"!=typeof de&&ae("Invalid argument for stringToBytes");for(var Re=de.length,ue=new Uint8Array(Re),be=0;be<Re;++be)ue[be]=255&de.charCodeAt(be);return ue}function W(de){return void 0!==de.length?de.length:void 0!==de.byteLength?de.byteLength:void ae("Invalid argument for arrayByteLength")}i.BaseException=Z,i.PasswordException=function(de){a(ue,de);var Re=d(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Re.call(this,be,"PasswordException")).code=ze,Ke}return L(ue)}(Z),i.UnknownErrorException=function(de){a(ue,de);var Re=d(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Re.call(this,be,"UnknownErrorException")).details=ze,Ke}return L(ue)}(Z),i.InvalidPDFException=function(de){a(ue,de);var Re=d(ue);function ue(be){return s(this,ue),Re.call(this,be,"InvalidPDFException")}return L(ue)}(Z),i.MissingPDFException=function(de){a(ue,de);var Re=d(ue);function ue(be){return s(this,ue),Re.call(this,be,"MissingPDFException")}return L(ue)}(Z),i.UnexpectedResponseException=function(de){a(ue,de);var Re=d(ue);function ue(be,ze){var Ke;return s(this,ue),(Ke=Re.call(this,be,"UnexpectedResponseException")).status=ze,Ke}return L(ue)}(Z),i.FormatError=function(de){a(ue,de);var Re=d(ue);function ue(be){return s(this,ue),Re.call(this,be,"FormatError")}return L(ue)}(Z),i.AbortException=function(de){a(ue,de);var Re=d(ue);function ue(be){return s(this,ue),Re.call(this,be,"AbortException")}return L(ue)}(Z),i.FeatureTest=function(){function de(){s(this,de)}return L(de,null,[{key:"isLittleEndian",get:function(){return J(this,"isLittleEndian",function we(){var de=new Uint8Array(4);return de[0]=1,1===new Uint32Array(de.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function(){return J(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch{return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return J(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}]),de}();var We=r(Array(256).keys()).map(function(de){return de.toString(16).padStart(2,"0")});i.Util=function(){function de(){s(this,de)}return L(de,null,[{key:"makeHexColor",value:function(ue,be,ze){return"#".concat(We[ue]).concat(We[be]).concat(We[ze])}},{key:"scaleMinMax",value:function(ue,be){var ze;ue[0]?(ue[0]<0&&(ze=be[0],be[0]=be[1],be[1]=ze),be[0]*=ue[0],be[1]*=ue[0],ue[3]<0&&(ze=be[2],be[2]=be[3],be[3]=ze),be[2]*=ue[3],be[3]*=ue[3]):(ze=be[0],be[0]=be[2],be[2]=ze,ze=be[1],be[1]=be[3],be[3]=ze,ue[1]<0&&(ze=be[2],be[2]=be[3],be[3]=ze),be[2]*=ue[1],be[3]*=ue[1],ue[2]<0&&(ze=be[0],be[0]=be[1],be[1]=ze),be[0]*=ue[2],be[1]*=ue[2]),be[0]+=ue[4],be[1]+=ue[4],be[2]+=ue[5],be[3]+=ue[5]}},{key:"transform",value:function(ue,be){return[ue[0]*be[0]+ue[2]*be[1],ue[1]*be[0]+ue[3]*be[1],ue[0]*be[2]+ue[2]*be[3],ue[1]*be[2]+ue[3]*be[3],ue[0]*be[4]+ue[2]*be[5]+ue[4],ue[1]*be[4]+ue[3]*be[5]+ue[5]]}},{key:"applyTransform",value:function(ue,be){return[ue[0]*be[0]+ue[1]*be[2]+be[4],ue[0]*be[1]+ue[1]*be[3]+be[5]]}},{key:"applyInverseTransform",value:function(ue,be){var ze=be[0]*be[3]-be[1]*be[2];return[(ue[0]*be[3]-ue[1]*be[2]+be[2]*be[5]-be[4]*be[3])/ze,(-ue[0]*be[1]+ue[1]*be[0]+be[4]*be[1]-be[5]*be[0])/ze]}},{key:"getAxialAlignedBoundingBox",value:function(ue,be){var ze=de.applyTransform(ue,be),Ke=de.applyTransform(ue.slice(2,4),be),nt=de.applyTransform([ue[0],ue[3]],be),rt=de.applyTransform([ue[2],ue[1]],be);return[Math.min(ze[0],Ke[0],nt[0],rt[0]),Math.min(ze[1],Ke[1],nt[1],rt[1]),Math.max(ze[0],Ke[0],nt[0],rt[0]),Math.max(ze[1],Ke[1],nt[1],rt[1])]}},{key:"inverseTransform",value:function(ue){var be=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/be,-ue[1]/be,-ue[2]/be,ue[0]/be,(ue[2]*ue[5]-ue[4]*ue[3])/be,(ue[4]*ue[1]-ue[5]*ue[0])/be]}},{key:"apply3dTransform",value:function(ue,be){return[ue[0]*be[0]+ue[1]*be[1]+ue[2]*be[2],ue[3]*be[0]+ue[4]*be[1]+ue[5]*be[2],ue[6]*be[0]+ue[7]*be[1]+ue[8]*be[2]]}},{key:"singularValueDecompose2dScale",value:function(ue){var be=[ue[0],ue[2],ue[1],ue[3]],ze=ue[0]*be[0]+ue[1]*be[2],Ke=ue[0]*be[1]+ue[1]*be[3],nt=ue[2]*be[0]+ue[3]*be[2],rt=ue[2]*be[1]+ue[3]*be[3],it=(ze+rt)/2,ct=Math.sqrt(Math.pow(ze+rt,2)-4*(ze*rt-nt*Ke))/2,ht=it-ct||1;return[Math.sqrt(it+ct||1),Math.sqrt(ht)]}},{key:"normalizeRect",value:function(ue){var be=ue.slice(0);return ue[0]>ue[2]&&(be[0]=ue[2],be[2]=ue[0]),ue[1]>ue[3]&&(be[1]=ue[3],be[3]=ue[1]),be}},{key:"intersect",value:function(ue,be){var ze=Math.max(Math.min(ue[0],ue[2]),Math.min(be[0],be[2])),Ke=Math.min(Math.max(ue[0],ue[2]),Math.max(be[0],be[2]));if(ze>Ke)return null;var nt=Math.max(Math.min(ue[1],ue[3]),Math.min(be[1],be[3])),rt=Math.min(Math.max(ue[1],ue[3]),Math.max(be[1],be[3]));return nt>rt?null:[ze,nt,Ke,rt]}},{key:"bezierBoundingBox",value:function(ue,be,ze,Ke,nt,rt,it,ct){for(var pt,ft,yt,st,At,zt,Ht,Jt,Ct=[],ht=[[],[]],Mt=0;Mt<2;++Mt)if(0===Mt?(ft=6*ue-12*ze+6*nt,pt=-3*ue+9*ze-9*nt+3*it,yt=3*ze-3*ue):(ft=6*be-12*Ke+6*rt,pt=-3*be+9*Ke-9*rt+3*ct,yt=3*Ke-3*be),Math.abs(pt)<1e-12){if(Math.abs(ft)<1e-12)continue;0<(st=-yt/ft)&&st<1&&Ct.push(st)}else Ht=ft*ft-4*yt*pt,Jt=Math.sqrt(Ht),!(Ht<0)&&(0<(At=(-ft+Jt)/(2*pt))&&At<1&&Ct.push(At),0<(zt=(-ft-Jt)/(2*pt))&&zt<1&&Ct.push(zt));for(var gt,Dt=Ct.length,Lt=Dt;Dt--;)ht[0][Dt]=(gt=1-(st=Ct[Dt]))*gt*gt*ue+3*gt*gt*st*ze+3*gt*st*st*nt+st*st*st*it,ht[1][Dt]=gt*gt*gt*be+3*gt*gt*st*Ke+3*gt*st*st*rt+st*st*st*ct;return ht[0][Lt]=ue,ht[1][Lt]=be,ht[0][Lt+1]=it,ht[1][Lt+1]=ct,ht[0].length=ht[1].length=Lt+2,[Math.min.apply(Math,r(ht[0])),Math.min.apply(Math,r(ht[1])),Math.max.apply(Math,r(ht[0])),Math.max.apply(Math,r(ht[1]))]}}]),de}();var Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ve(de){return decodeURIComponent(escape(de))}},(p,i,t)=>{"use strict";var r=t(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!r.isNodeJS||(globalThis.btoa=function(u){return Buffer.from(u,"binary").toString("base64")}),globalThis.atob||!r.isNodeJS||(globalThis.atob=function(u){return Buffer.from(u,"base64").toString("binary")}),globalThis.DOMMatrix||!r.isNodeJS||(globalThis.DOMMatrix=__webpack_require__(6865)),globalThis.Promise.allSettled||(globalThis.Promise=t(4)),globalThis.ReadableStream||!r.isNodeJS||(globalThis.ReadableStream=__webpack_require__(3800).ReadableStream),globalThis.structuredClone||t(137))},(p,i)=>{"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;var r=!("object"!==(typeof process>"u"?"undefined":t(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);i.isNodeJS=r},(p,i,t)=>{t(5),t(91),t(97),t(99),t(131),t(132),t(133),t(134);var r=t(136);p.exports=r.Promise},(p,i,t)=>{t(6)},(p,i,t)=>{"use strict";var r=t(7),o=t(8),u=t(27),y=t(69),w=t(71),N=t(57),B=t(73),Y=t(46),O=t(15),k=t(77),_=t(78),D=t(79),M=t(88),L=t(36),s=t(90),a=L("toStringTag"),f=o.Error,d=[].push,R=function(m,l){var g,b=arguments.length>2?arguments[2]:void 0,P=u(h,this);w?g=w(new f,P?y(this):h):(g=P?this:B(h),Y(g,a,"Error")),void 0!==l&&Y(g,"message",M(l)),s&&Y(g,"stack",k(g.stack,1)),_(g,b);var F=[];return D(m,d,{that:F}),Y(g,"errors",F),g};w?w(R,f):N(R,f,{name:!0});var h=R.prototype=B(f.prototype,{constructor:O(1,R),message:O(1,""),name:O(1,"AggregateError")});r({global:!0},{AggregateError:R})},(p,i,t)=>{var r=t(8),o=t(9).f,u=t(46),y=t(50),w=t(40),N=t(57),B=t(68);p.exports=function(Y,O){var L,s,a,f,d,k=Y.target,_=Y.global,D=Y.stat;if(L=_?r:D?r[k]||w(k,{}):(r[k]||{}).prototype)for(s in O){if(f=O[s],a=Y.noTargetGet?(d=o(L,s))&&d.value:L[s],!B(_?s:k+(D?".":"#")+s,Y.forced)&&void 0!==a){if(typeof f==typeof a)continue;N(f,a)}(Y.sham||a&&a.sham)&&u(f,"sham",!0),y(L,s,f,Y)}}},p=>{var i=function(t){return t&&t.Math==Math&&t};p.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(p,i,t)=>{var r=t(10),o=t(12),u=t(14),y=t(15),w=t(16),N=t(21),B=t(41),Y=t(44),O=Object.getOwnPropertyDescriptor;i.f=r?O:function(_,D){if(_=w(_),D=N(D),Y)try{return O(_,D)}catch{}if(B(_,D))return y(!o(u.f,_,D),_[D])}},(p,i,t)=>{var r=t(11);p.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},p=>{p.exports=function(i){try{return!!i()}catch{return!0}}},(p,i,t)=>{var r=t(13),o=Function.prototype.call;p.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},(p,i,t)=>{var r=t(11);p.exports=!r(function(){var o=function(){}.bind();return"function"!=typeof o||o.hasOwnProperty("prototype")})},(p,i)=>{"use strict";var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!t.call({1:2},1);i.f=o?function(y){var w=r(this,y);return!!w&&w.enumerable}:t},p=>{p.exports=function(i,t){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:t}}},(p,i,t)=>{var r=t(17),o=t(20);p.exports=function(u){return r(o(u))}},(p,i,t)=>{var r=t(8),o=t(18),u=t(11),y=t(19),w=r.Object,N=o("".split);p.exports=u(function(){return!w("z").propertyIsEnumerable(0)})?function(B){return"String"==y(B)?N(B,""):w(B)}:w},(p,i,t)=>{var r=t(13),o=Function.prototype,y=o.call,w=r&&o.bind.bind(y,y);p.exports=r?function(N){return N&&w(N)}:function(N){return N&&function(){return y.apply(N,arguments)}}},(p,i,t)=>{var r=t(18),o=r({}.toString),u=r("".slice);p.exports=function(y){return u(o(y),8,-1)}},(p,i,t)=>{var o=t(8).TypeError;p.exports=function(u){if(null==u)throw o("Can't call method on "+u);return u}},(p,i,t)=>{var r=t(22),o=t(25);p.exports=function(u){var y=r(u,"string");return o(y)?y:y+""}},(p,i,t)=>{var r=t(8),o=t(12),u=t(23),y=t(25),w=t(32),N=t(35),B=t(36),Y=r.TypeError,O=B("toPrimitive");p.exports=function(k,_){if(!u(k)||y(k))return k;var M,D=w(k,O);if(D){if(void 0===_&&(_="default"),M=o(D,k,_),!u(M)||y(M))return M;throw Y("Can't convert object to primitive value")}return void 0===_&&(_="number"),N(k,_)}},(p,i,t)=>{var r=t(24);p.exports=function(o){return"object"==typeof o?null!==o:r(o)}},p=>{p.exports=function(i){return"function"==typeof i}},(p,i,t)=>{var r=t(8),o=t(26),u=t(24),y=t(27),w=t(28),N=r.Object;p.exports=w?function(B){return"symbol"==typeof B}:function(B){var Y=o("Symbol");return u(Y)&&y(Y.prototype,N(B))}},(p,i,t)=>{var r=t(8),o=t(24),u=function(y){return o(y)?y:void 0};p.exports=function(y,w){return arguments.length<2?u(r[y]):r[y]&&r[y][w]}},(p,i,t)=>{var r=t(18);p.exports=r({}.isPrototypeOf)},(p,i,t)=>{var r=t(29);p.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(p,i,t)=>{var r=t(30),o=t(11);p.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&r&&r<41})},(p,i,t)=>{var B,Y,r=t(8),o=t(31),u=r.process,y=r.Deno,w=u&&u.versions||y&&y.version,N=w&&w.v8;N&&(Y=(B=N.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!Y&&o&&(!(B=o.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=o.match(/Chrome\/(\d+)/))&&(Y=+B[1]),p.exports=Y},(p,i,t)=>{var r=t(26);p.exports=r("navigator","userAgent")||""},(p,i,t)=>{var r=t(33);p.exports=function(o,u){var y=o[u];return null==y?void 0:r(y)}},(p,i,t)=>{var r=t(8),o=t(24),u=t(34),y=r.TypeError;p.exports=function(w){if(o(w))return w;throw y(u(w)+" is not a function")}},(p,i,t)=>{var o=t(8).String;p.exports=function(u){try{return o(u)}catch{return"Object"}}},(p,i,t)=>{var r=t(8),o=t(12),u=t(24),y=t(23),w=r.TypeError;p.exports=function(N,B){var Y,O;if("string"===B&&u(Y=N.toString)&&!y(O=o(Y,N))||u(Y=N.valueOf)&&!y(O=o(Y,N))||"string"!==B&&u(Y=N.toString)&&!y(O=o(Y,N)))return O;throw w("Can't convert object to primitive value")}},(p,i,t)=>{var r=t(8),o=t(37),u=t(41),y=t(43),w=t(29),N=t(28),B=o("wks"),Y=r.Symbol,O=Y&&Y.for,k=N?Y:Y&&Y.withoutSetter||y;p.exports=function(_){if(!u(B,_)||!w&&"string"!=typeof B[_]){var D="Symbol."+_;B[_]=w&&u(Y,_)?Y[_]:N&&O?O(D):k(D)}return B[_]}},(p,i,t)=>{var r=t(38),o=t(39);(p.exports=function(u,y){return o[u]||(o[u]=void 0!==y?y:{})})("versions",[]).push({version:"3.22.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.3/LICENSE",source:"https://github.com/zloirock/core-js"})},p=>{p.exports=!1},(p,i,t)=>{var r=t(8),o=t(40),u="__core-js_shared__",y=r[u]||o(u,{});p.exports=y},(p,i,t)=>{var r=t(8),o=Object.defineProperty;p.exports=function(u,y){try{o(r,u,{value:y,configurable:!0,writable:!0})}catch{r[u]=y}return y}},(p,i,t)=>{var r=t(18),o=t(42),u=r({}.hasOwnProperty);p.exports=Object.hasOwn||function(w,N){return u(o(w),N)}},(p,i,t)=>{var r=t(8),o=t(20),u=r.Object;p.exports=function(y){return u(o(y))}},(p,i,t)=>{var r=t(18),o=0,u=Math.random(),y=r(1..toString);p.exports=function(w){return"Symbol("+(void 0===w?"":w)+")_"+y(++o+u,36)}},(p,i,t)=>{var r=t(10),o=t(11),u=t(45);p.exports=!r&&!o(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},(p,i,t)=>{var r=t(8),o=t(23),u=r.document,y=o(u)&&o(u.createElement);p.exports=function(w){return y?u.createElement(w):{}}},(p,i,t)=>{var r=t(10),o=t(47),u=t(15);p.exports=r?function(y,w,N){return o.f(y,w,u(1,N))}:function(y,w,N){return y[w]=N,y}},(p,i,t)=>{var r=t(8),o=t(10),u=t(44),y=t(48),w=t(49),N=t(21),B=r.TypeError,Y=Object.defineProperty,O=Object.getOwnPropertyDescriptor,k="enumerable",_="configurable",D="writable";i.f=o?y?function(L,s,a){if(w(L),s=N(s),w(a),"function"==typeof L&&"prototype"===s&&"value"in a&&D in a&&!a[D]){var f=O(L,s);f&&f[D]&&(L[s]=a.value,a={configurable:_ in a?a[_]:f[_],enumerable:k in a?a[k]:f[k],writable:!1})}return Y(L,s,a)}:Y:function(L,s,a){if(w(L),s=N(s),w(a),u)try{return Y(L,s,a)}catch{}if("get"in a||"set"in a)throw B("Accessors not supported");return"value"in a&&(L[s]=a.value),L}},(p,i,t)=>{var r=t(10),o=t(11);p.exports=r&&o(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},(p,i,t)=>{var r=t(8),o=t(23),u=r.String,y=r.TypeError;p.exports=function(w){if(o(w))return w;throw y(u(w)+" is not an object")}},(p,i,t)=>{var r=t(8),o=t(24),u=t(41),y=t(46),w=t(40),N=t(51),B=t(52),Y=t(56).CONFIGURABLE,O=B.get,k=B.enforce,_=String(String).split("String");(p.exports=function(D,M,L,s){var h,a=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet,R=s&&void 0!==s.name?s.name:M;o(L)&&("Symbol("===String(R).slice(0,7)&&(R="["+String(R).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(L,"name")||Y&&L.name!==R)&&y(L,"name",R),(h=k(L)).source||(h.source=_.join("string"==typeof R?R:""))),D!==r?(a?!d&&D[M]&&(f=!0):delete D[M],f?D[M]=L:y(D,M,L)):f?D[M]=L:w(M,L)})(Function.prototype,"toString",function(){return o(this)&&O(this).source||N(this)})},(p,i,t)=>{var r=t(18),o=t(24),u=t(39),y=r(Function.toString);o(u.inspectSource)||(u.inspectSource=function(w){return y(w)}),p.exports=u.inspectSource},(p,i,t)=>{var M,L,s,r=t(53),o=t(8),u=t(18),y=t(23),w=t(46),N=t(41),B=t(39),Y=t(54),O=t(55),k="Object already initialized",_=o.TypeError;if(r||B.state){var d=B.state||(B.state=new(0,o.WeakMap)),R=u(d.get),h=u(d.has),C=u(d.set);M=function(l,b){if(h(d,l))throw new _(k);return b.facade=l,C(d,l,b),b},L=function(l){return R(d,l)||{}},s=function(l){return h(d,l)}}else{var m=Y("state");O[m]=!0,M=function(l,b){if(N(l,m))throw new _(k);return b.facade=l,w(l,m,b),b},L=function(l){return N(l,m)?l[m]:{}},s=function(l){return N(l,m)}}p.exports={set:M,get:L,has:s,enforce:function(l){return s(l)?L(l):M(l,{})},getterFor:function(l){return function(b){var P;if(!y(b)||(P=L(b)).type!==l)throw _("Incompatible receiver, "+l+" required");return P}}}},(p,i,t)=>{var r=t(8),o=t(24),u=t(51),y=r.WeakMap;p.exports=o(y)&&/native code/.test(u(y))},(p,i,t)=>{var r=t(37),o=t(43),u=r("keys");p.exports=function(y){return u[y]||(u[y]=o(y))}},p=>{p.exports={}},(p,i,t)=>{var r=t(10),o=t(41),u=Function.prototype,y=r&&Object.getOwnPropertyDescriptor,w=o(u,"name"),N=w&&"something"===function(){}.name,B=w&&(!r||r&&y(u,"name").configurable);p.exports={EXISTS:w,PROPER:N,CONFIGURABLE:B}},(p,i,t)=>{var r=t(41),o=t(58),u=t(9),y=t(47);p.exports=function(w,N,B){for(var Y=o(N),O=y.f,k=u.f,_=0;_<Y.length;_++){var D=Y[_];!r(w,D)&&(!B||!r(B,D))&&O(w,D,k(N,D))}}},(p,i,t)=>{var r=t(26),o=t(18),u=t(59),y=t(67),w=t(49),N=o([].concat);p.exports=r("Reflect","ownKeys")||function(Y){var O=u.f(w(Y)),k=y.f;return k?N(O,k(Y)):O}},(p,i,t)=>{var r=t(60),u=t(66).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(w){return r(w,u)}},(p,i,t)=>{var r=t(18),o=t(41),u=t(16),y=t(61).indexOf,w=t(55),N=r([].push);p.exports=function(B,Y){var D,O=u(B),k=0,_=[];for(D in O)!o(w,D)&&o(O,D)&&N(_,D);for(;Y.length>k;)o(O,D=Y[k++])&&(~y(_,D)||N(_,D));return _}},(p,i,t)=>{var r=t(16),o=t(62),u=t(64),y=function(w){return function(N,B,Y){var D,O=r(N),k=u(O),_=o(Y,k);if(w&&B!=B){for(;k>_;)if((D=O[_++])!=D)return!0}else for(;k>_;_++)if((w||_ in O)&&O[_]===B)return w||_||0;return!w&&-1}};p.exports={includes:y(!0),indexOf:y(!1)}},(p,i,t)=>{var r=t(63),o=Math.max,u=Math.min;p.exports=function(y,w){var N=r(y);return N<0?o(N+w,0):u(N,w)}},p=>{var i=Math.ceil,t=Math.floor;p.exports=function(r){var o=+r;return o!=o||0===o?0:(o>0?t:i)(o)}},(p,i,t)=>{var r=t(65);p.exports=function(o){return r(o.length)}},(p,i,t)=>{var r=t(63),o=Math.min;p.exports=function(u){return u>0?o(r(u),9007199254740991):0}},p=>{p.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(p,i)=>{i.f=Object.getOwnPropertySymbols},(p,i,t)=>{var r=t(11),o=t(24),u=/#|\.prototype\./,y=function(O,k){var _=N[w(O)];return _==Y||_!=B&&(o(k)?r(k):!!k)},w=y.normalize=function(O){return String(O).replace(u,".").toLowerCase()},N=y.data={},B=y.NATIVE="N",Y=y.POLYFILL="P";p.exports=y},(p,i,t)=>{var r=t(8),o=t(41),u=t(24),y=t(42),w=t(54),N=t(70),B=w("IE_PROTO"),Y=r.Object,O=Y.prototype;p.exports=N?Y.getPrototypeOf:function(k){var _=y(k);if(o(_,B))return _[B];var D=_.constructor;return u(D)&&_ instanceof D?D.prototype:_ instanceof Y?O:null}},(p,i,t)=>{var r=t(11);p.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},(p,i,t)=>{var r=t(18),o=t(49),u=t(72);p.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var N,y=!1,w={};try{(N=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(w,[]),y=w instanceof Array}catch{}return function(Y,O){return o(Y),u(O),y?N(Y,O):Y.__proto__=O,Y}}():void 0)},(p,i,t)=>{var r=t(8),o=t(24),u=r.String,y=r.TypeError;p.exports=function(w){if("object"==typeof w||o(w))return w;throw y("Can't set "+u(w)+" as a prototype")}},(p,i,t)=>{var f,r=t(49),o=t(74),u=t(66),y=t(55),w=t(76),N=t(45),B=t(54),k="prototype",_="script",D=B("IE_PROTO"),M=function(){},L=function(R){return"<"+_+">"+R+"</"+_+">"},s=function(R){R.write(L("")),R.close();var h=R.parentWindow.Object;return R=null,h},d=function(){try{f=new ActiveXObject("htmlfile")}catch{}d=typeof document<"u"?document.domain&&f?s(f):function(){var C,R=N("iframe"),h="java"+_+":";return R.style.display="none",w.appendChild(R),R.src=String(h),(C=R.contentWindow.document).open(),C.write(L("document.F=Object")),C.close(),C.F}():s(f);for(var R=u.length;R--;)delete d[k][u[R]];return d()};y[D]=!0,p.exports=Object.create||function(h,C){var m;return null!==h?(M[k]=r(h),m=new M,M[k]=null,m[D]=h):m=d(),void 0===C?m:o.f(m,C)}},(p,i,t)=>{var r=t(10),o=t(48),u=t(47),y=t(49),w=t(16),N=t(75);i.f=r&&!o?Object.defineProperties:function(Y,O){y(Y);for(var L,k=w(O),_=N(O),D=_.length,M=0;D>M;)u.f(Y,L=_[M++],k[L]);return Y}},(p,i,t)=>{var r=t(60),o=t(66);p.exports=Object.keys||function(y){return r(y,o)}},(p,i,t)=>{var r=t(26);p.exports=r("document","documentElement")},(p,i,t)=>{var r=t(18),o=Error,u=r("".replace),y=String(o("zxcasd").stack),w=/\n\s*at [^:]*:[^\n]*/,N=w.test(y);p.exports=function(B,Y){if(N&&"string"==typeof B&&!o.prepareStackTrace)for(;Y--;)B=u(B,w,"");return B}},(p,i,t)=>{var r=t(23),o=t(46);p.exports=function(u,y){r(y)&&"cause"in y&&o(u,"cause",y.cause)}},(p,i,t)=>{var r=t(8),o=t(80),u=t(12),y=t(49),w=t(34),N=t(81),B=t(64),Y=t(27),O=t(83),k=t(84),_=t(87),D=r.TypeError,M=function(s,a){this.stopped=s,this.result=a},L=M.prototype;p.exports=function(s,a,f){var l,b,P,g,F,z,ee,R=!(!f||!f.AS_ENTRIES),h=!(!f||!f.IS_ITERATOR),C=!(!f||!f.INTERRUPTED),m=o(a,f&&f.that),Q=function(V){return l&&_(l,"normal",V),new M(!0,V)},oe=function(V){return R?(y(V),C?m(V[0],V[1],Q):m(V[0],V[1])):C?m(V,Q):m(V)};if(h)l=s;else{if(!(b=k(s)))throw D(w(s)+" is not iterable");if(N(b)){for(P=0,g=B(s);g>P;P++)if((F=oe(s[P]))&&Y(L,F))return F;return new M(!1)}l=O(s,b)}for(z=l.next;!(ee=u(z,l)).done;){try{F=oe(ee.value)}catch(V){_(l,"throw",V)}if("object"==typeof F&&F&&Y(L,F))return F}return new M(!1)}},(p,i,t)=>{var r=t(18),o=t(33),u=t(13),y=r(r.bind);p.exports=function(w,N){return o(w),void 0===N?w:u?y(w,N):function(){return w.apply(N,arguments)}}},(p,i,t)=>{var r=t(36),o=t(82),u=r("iterator"),y=Array.prototype;p.exports=function(w){return void 0!==w&&(o.Array===w||y[u]===w)}},p=>{p.exports={}},(p,i,t)=>{var r=t(8),o=t(12),u=t(33),y=t(49),w=t(34),N=t(84),B=r.TypeError;p.exports=function(Y,O){var k=arguments.length<2?N(Y):O;if(u(k))return y(o(k,Y));throw B(w(Y)+" is not iterable")}},(p,i,t)=>{var r=t(85),o=t(32),u=t(82),w=t(36)("iterator");p.exports=function(N){if(null!=N)return o(N,w)||o(N,"@@iterator")||u[r(N)]}},(p,i,t)=>{var r=t(8),o=t(86),u=t(24),y=t(19),N=t(36)("toStringTag"),B=r.Object,Y="Arguments"==y(function(){return arguments}());p.exports=o?y:function(k){var _,D,M;return void 0===k?"Undefined":null===k?"Null":"string"==typeof(D=function(k,_){try{return k[_]}catch{}}(_=B(k),N))?D:Y?y(_):"Object"==(M=y(_))&&u(_.callee)?"Arguments":M}},(p,i,t)=>{var u={};u[t(36)("toStringTag")]="z",p.exports="[object z]"===String(u)},(p,i,t)=>{var r=t(12),o=t(49),u=t(32);p.exports=function(y,w,N){var B,Y;o(y);try{if(!(B=u(y,"return"))){if("throw"===w)throw N;return N}B=r(B,y)}catch(O){Y=!0,B=O}if("throw"===w)throw N;if(Y)throw B;return o(B),N}},(p,i,t)=>{var r=t(89);p.exports=function(o,u){return void 0===o?arguments.length<2?"":u:r(o)}},(p,i,t)=>{var r=t(8),o=t(85),u=r.String;p.exports=function(y){if("Symbol"===o(y))throw TypeError("Cannot convert a Symbol value to a string");return u(y)}},(p,i,t)=>{var r=t(11),o=t(15);p.exports=!r(function(){var u=Error("a");return!("stack"in u)||(Object.defineProperty(u,"stack",o(1,7)),7!==u.stack)})},(p,i,t)=>{"use strict";var r=t(16),o=t(92),u=t(82),y=t(52),w=t(47).f,N=t(93),B=t(38),Y=t(10),O="Array Iterator",k=y.set,_=y.getterFor(O);p.exports=N(Array,"Array",function(M,L){k(this,{type:O,target:r(M),index:0,kind:L})},function(){var M=_(this),L=M.target,s=M.kind,a=M.index++;return!L||a>=L.length?(M.target=void 0,{value:void 0,done:!0}):"keys"==s?{value:a,done:!1}:"values"==s?{value:L[a],done:!1}:{value:[a,L[a]],done:!1}},"values");var D=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!B&&Y&&"values"!==D.name)try{w(D,"name",{value:"values"})}catch{}},(p,i,t)=>{var r=t(36),o=t(73),u=t(47),y=r("unscopables"),w=Array.prototype;null==w[y]&&u.f(w,y,{configurable:!0,value:o(null)}),p.exports=function(N){w[y][N]=!0}},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(38),y=t(56),w=t(24),N=t(94),B=t(69),Y=t(71),O=t(96),k=t(46),_=t(50),D=t(36),M=t(82),L=t(95),s=y.PROPER,a=y.CONFIGURABLE,f=L.IteratorPrototype,d=L.BUGGY_SAFARI_ITERATORS,R=D("iterator"),h="keys",C="values",m="entries",l=function(){return this};p.exports=function(b,P,g,F,z,ee,Q){N(g,P,F);var G,ie,ye,oe=function(ne){if(ne===z&&v)return v;if(!d&&ne in re)return re[ne];switch(ne){case h:case C:case m:return function(){return new g(this,ne)}}return function(){return new g(this)}},V=P+" Iterator",te=!1,re=b.prototype,c=re[R]||re["@@iterator"]||z&&re[z],v=!d&&c||oe(z),x="Array"==P&&re.entries||c;if(x&&(G=B(x.call(new b)))!==Object.prototype&&G.next&&(!u&&B(G)!==f&&(Y?Y(G,f):w(G[R])||_(G,R,l)),O(G,V,!0,!0),u&&(M[V]=l)),s&&z==C&&c&&c.name!==C&&(!u&&a?k(re,"name",C):(te=!0,v=function(){return o(c,this)})),z)if(ie={values:oe(C),keys:ee?v:oe(h),entries:oe(m)},Q)for(ye in ie)(d||te||!(ye in re))&&_(re,ye,ie[ye]);else r({target:P,proto:!0,forced:d||te},ie);return(!u||Q)&&re[R]!==v&&_(re,R,v,{name:z}),M[P]=v,ie}},(p,i,t)=>{"use strict";var r=t(95).IteratorPrototype,o=t(73),u=t(15),y=t(96),w=t(82),N=function(){return this};p.exports=function(B,Y,O,k){var _=Y+" Iterator";return B.prototype=o(r,{next:u(+!k,O)}),y(B,_,!1,!0),w[_]=N,B}},(p,i,t)=>{"use strict";var k,_,D,r=t(11),o=t(24),u=t(73),y=t(69),w=t(50),N=t(36),B=t(38),Y=N("iterator"),O=!1;[].keys&&("next"in(D=[].keys())?(_=y(y(D)))!==Object.prototype&&(k=_):O=!0),null==k||r(function(){var L={};return k[Y].call(L)!==L})?k={}:B&&(k=u(k)),o(k[Y])||w(k,Y,function(){return this}),p.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:O}},(p,i,t)=>{var r=t(47).f,o=t(41),y=t(36)("toStringTag");p.exports=function(w,N,B){w&&!B&&(w=w.prototype),w&&!o(w,y)&&r(w,y,{configurable:!0,value:N})}},(p,i,t)=>{var r=t(86),o=t(50),u=t(98);r||o(Object.prototype,"toString",u,{unsafe:!0})},(p,i,t)=>{"use strict";var r=t(86),o=t(85);p.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},(p,i,t)=>{t(100),t(123),t(126),t(127),t(128),t(129)},(p,i,t)=>{"use strict";var Pe,Oe,Ie,r=t(7),o=t(38),u=t(101),y=t(8),w=t(12),N=t(50),B=t(102),Y=t(71),O=t(96),k=t(103),_=t(33),D=t(24),M=t(23),L=t(104),s=t(105),a=t(108).set,f=t(113),d=t(116),R=t(117),h=t(118),C=t(52),m=t(119),l=t(120),b=t(122),P="Promise",g=l.CONSTRUCTOR,F=l.REJECTION_EVENT,z=l.SUBCLASSING,ee=C.getterFor(P),Q=C.set,oe=m&&m.prototype,V=m,te=oe,re=y.TypeError,c=y.document,v=y.process,x=b.f,G=x,ie=!!(c&&c.createEvent&&y.dispatchEvent),ye="unhandledrejection",Me=function(se){var ke;return!(!M(se)||!D(ke=se.then))&&ke},j=function(se,ke){var X,H,ce,ge=ke.value,T=1==ke.state,K=T?se.ok:se.fail,I=se.resolve,U=se.reject,W=se.domain;try{K?(T||(2===ke.rejection&&J(ke),ke.rejection=1),!0===K?X=ge:(W&&W.enter(),X=K(ge),W&&(W.exit(),ce=!0)),X===se.promise?U(re("Promise-chain cycle")):(H=Me(X))?w(H,X,I,U):I(X)):U(ge)}catch(Se){W&&!ce&&W.exit(),U(Se)}},ae=function(se,ke){se.notified||(se.notified=!0,f(function(){for(var T,ge=se.reactions;T=ge.get();)j(T,se);se.notified=!1,ke&&!se.rejection&&A(se)}))},E=function(se,ke,ge){var T,K;ie?((T=c.createEvent("Event")).promise=ke,T.reason=ge,T.initEvent(se,!1,!0),y.dispatchEvent(T)):T={promise:ke,reason:ge},!F&&(K=y["on"+se])?K(T):se===ye&&d("Unhandled promise rejection",ge)},A=function(se){w(a,y,function(){var K,ke=se.facade,ge=se.value;if($(se)&&(K=R(function(){u?v.emit("unhandledRejection",ge,ke):E(ye,ke,ge)}),se.rejection=u||$(se)?2:1,K.error))throw K.value})},$=function(se){return 1!==se.rejection&&!se.parent},J=function(se){w(a,y,function(){var ke=se.facade;u?v.emit("rejectionHandled",ke):E("rejectionhandled",ke,se.value)})},Z=function(se,ke,ge){return function(T){se(ke,T,ge)}},le=function(se,ke,ge){se.done||(se.done=!0,ge&&(se=ge),se.value=ke,se.state=2,ae(se,!0))},fe=function(se,ke,ge){if(!se.done){se.done=!0,ge&&(se=ge);try{if(se.facade===ke)throw re("Promise can't be resolved itself");var T=Me(ke);T?f(function(){var K={done:!1};try{w(T,ke,Z(fe,K,se),Z(le,K,se))}catch(I){le(K,I,se)}}):(se.value=ke,se.state=1,ae(se,!1))}catch(K){le({done:!1},K,se)}}};if(g&&(V=function(ke){L(this,te),_(ke),w(Pe,this);var ge=ee(this);try{ke(Z(fe,ge),Z(le,ge))}catch(T){le(ge,T)}},(Pe=function(ke){Q(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new h,rejection:!1,state:0,value:void 0})}).prototype=B(te=V.prototype,{then:function(ke,ge){var T=ee(this),K=x(s(this,V));return T.parent=!0,K.ok=!D(ke)||ke,K.fail=D(ge)&&ge,K.domain=u?v.domain:void 0,0==T.state?T.reactions.add(K):f(function(){j(K,T)}),K.promise}}),Oe=function(){var se=new Pe,ke=ee(se);this.promise=se,this.resolve=Z(fe,ke),this.reject=Z(le,ke)},b.f=x=function(se){return se===V||void 0===se?new Oe(se):G(se)},!o&&D(m)&&oe!==Object.prototype)){Ie=oe.then,z||N(oe,"then",function(ke,ge){var T=this;return new V(function(K,I){w(Ie,T,K,I)}).then(ke,ge)},{unsafe:!0});try{delete oe.constructor}catch{}Y&&Y(oe,te)}r({global:!0,wrap:!0,forced:g},{Promise:V}),O(V,P,!1,!0),k(P)},(p,i,t)=>{var r=t(19),o=t(8);p.exports="process"==r(o.process)},(p,i,t)=>{var r=t(50);p.exports=function(o,u,y){for(var w in u)r(o,w,u[w],y);return o}},(p,i,t)=>{"use strict";var r=t(26),o=t(47),u=t(36),y=t(10),w=u("species");p.exports=function(N){var B=r(N);y&&B&&!B[w]&&(0,o.f)(B,w,{configurable:!0,get:function(){return this}})}},(p,i,t)=>{var r=t(8),o=t(27),u=r.TypeError;p.exports=function(y,w){if(o(w,y))return y;throw u("Incorrect invocation")}},(p,i,t)=>{var r=t(49),o=t(106),y=t(36)("species");p.exports=function(w,N){var Y,B=r(w).constructor;return void 0===B||null==(Y=r(B)[y])?N:o(Y)}},(p,i,t)=>{var r=t(8),o=t(107),u=t(34),y=r.TypeError;p.exports=function(w){if(o(w))return w;throw y(u(w)+" is not a constructor")}},(p,i,t)=>{var r=t(18),o=t(11),u=t(24),y=t(85),w=t(26),N=t(51),B=function(){},Y=[],O=w("Reflect","construct"),k=/^\s*(?:class|function)\b/,_=r(k.exec),D=!k.exec(B),M=function(a){if(!u(a))return!1;try{return O(B,Y,a),!0}catch{return!1}},L=function(a){if(!u(a))return!1;switch(y(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!_(k,N(a))}catch{return!0}};L.sham=!0,p.exports=!O||o(function(){var s;return M(M.call)||!M(Object)||!M(function(){s=!0})||s})?L:M},(p,i,t)=>{var l,b,P,g,r=t(8),o=t(109),u=t(80),y=t(24),w=t(41),N=t(11),B=t(76),Y=t(110),O=t(45),k=t(111),_=t(112),D=t(101),M=r.setImmediate,L=r.clearImmediate,s=r.process,a=r.Dispatch,f=r.Function,d=r.MessageChannel,R=r.String,h=0,C={},m="onreadystatechange";try{l=r.location}catch{}var F=function(oe){if(w(C,oe)){var V=C[oe];delete C[oe],V()}},z=function(oe){return function(){F(oe)}},ee=function(oe){F(oe.data)},Q=function(oe){r.postMessage(R(oe),l.protocol+"//"+l.host)};(!M||!L)&&(M=function(V){k(arguments.length,1);var te=y(V)?V:f(V),re=Y(arguments,1);return C[++h]=function(){o(te,void 0,re)},b(h),h},L=function(V){delete C[V]},D?b=function(oe){s.nextTick(z(oe))}:a&&a.now?b=function(oe){a.now(z(oe))}:d&&!_?(g=(P=new d).port2,P.port1.onmessage=ee,b=u(g.postMessage,g)):r.addEventListener&&y(r.postMessage)&&!r.importScripts&&l&&"file:"!==l.protocol&&!N(Q)?(b=Q,r.addEventListener("message",ee,!1)):b=m in O("script")?function(oe){B.appendChild(O("script"))[m]=function(){B.removeChild(this),F(oe)}}:function(oe){setTimeout(z(oe),0)}),p.exports={set:M,clear:L}},(p,i,t)=>{var r=t(13),o=Function.prototype,u=o.apply,y=o.call;p.exports="object"==typeof Reflect&&Reflect.apply||(r?y.bind(u):function(){return y.apply(u,arguments)})},(p,i,t)=>{var r=t(18);p.exports=r([].slice)},(p,i,t)=>{var o=t(8).TypeError;p.exports=function(u,y){if(u<y)throw o("Not enough arguments");return u}},(p,i,t)=>{var r=t(31);p.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(p,i,t)=>{var s,a,f,d,R,h,C,m,r=t(8),o=t(80),u=t(9).f,y=t(108).set,w=t(112),N=t(114),B=t(115),Y=t(101),O=r.MutationObserver||r.WebKitMutationObserver,k=r.document,_=r.process,D=r.Promise,M=u(r,"queueMicrotask"),L=M&&M.value;L||(s=function(){var l,b;for(Y&&(l=_.domain)&&l.exit();a;){b=a.fn,a=a.next;try{b()}catch(P){throw a?d():f=void 0,P}}f=void 0,l&&l.enter()},w||Y||B||!O||!k?!N&&D&&D.resolve?((C=D.resolve(void 0)).constructor=D,m=o(C.then,C),d=function(){m(s)}):Y?d=function(){_.nextTick(s)}:(y=o(y,r),d=function(){y(s)}):(R=!0,h=k.createTextNode(""),new O(s).observe(h,{characterData:!0}),d=function(){h.data=R=!R})),p.exports=L||function(l){var b={fn:l,next:void 0};f&&(f.next=b),a||(a=b,d()),f=b}},(p,i,t)=>{var r=t(31),o=t(8);p.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},(p,i,t)=>{var r=t(31);p.exports=/web0s(?!.*chrome)/i.test(r)},(p,i,t)=>{var r=t(8);p.exports=function(o,u){var y=r.console;y&&y.error&&(1==arguments.length?y.error(o):y.error(o,u))}},p=>{p.exports=function(i){try{return{error:!1,value:i()}}catch(t){return{error:!0,value:t}}}},p=>{var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var r={item:t,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},p.exports=i},(p,i,t)=>{var r=t(8);p.exports=r.Promise},(p,i,t)=>{var r=t(8),o=t(119),u=t(24),y=t(68),w=t(51),N=t(36),B=t(121),Y=t(38),O=t(30),k=o&&o.prototype,_=N("species"),D=!1,M=u(r.PromiseRejectionEvent),L=y("Promise",function(){var s=w(o),a=s!==String(o);if(!a&&66===O||Y&&(!k.catch||!k.finally))return!0;if(O>=51&&/native code/.test(s))return!1;var f=new o(function(h){h(1)}),d=function(h){h(function(){},function(){})};return(f.constructor={})[_]=d,!(D=f.then(function(){})instanceof d)||!a&&B&&!M});p.exports={CONSTRUCTOR:L,REJECTION_EVENT:M,SUBCLASSING:D}},p=>{p.exports="object"==typeof window&&"object"!=typeof Deno},(p,i,t)=>{"use strict";var r=t(33),o=function(u){var y,w;this.promise=new u(function(N,B){if(void 0!==y||void 0!==w)throw TypeError("Bad Promise constructor");y=N,w=B}),this.resolve=r(y),this.reject=r(w)};p.exports.f=function(u){return new o(u)}},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),y=t(122),w=t(117),N=t(79);r({target:"Promise",stat:!0,forced:t(124)},{all:function(O){var k=this,_=y.f(k),D=_.resolve,M=_.reject,L=w(function(){var s=u(k.resolve),a=[],f=0,d=1;N(O,function(R){var h=f++,C=!1;d++,o(s,k,R).then(function(m){C||(C=!0,a[h]=m,--d||D(a))},M)}),--d||D(a)});return L.error&&M(L.value),_.promise}})},(p,i,t)=>{var r=t(119),o=t(125),u=t(120).CONSTRUCTOR;p.exports=u||!o(function(y){r.all(y).then(void 0,function(){})})},(p,i,t)=>{var o=t(36)("iterator"),u=!1;try{var y=0,w={next:function(){return{done:!!y++}},return:function(){u=!0}};w[o]=function(){return this},Array.from(w,function(){throw 2})}catch{}p.exports=function(N,B){if(!B&&!u)return!1;var Y=!1;try{var O={};O[o]=function(){return{next:function(){return{done:Y=!0}}}},N(O)}catch{}return Y}},(p,i,t)=>{"use strict";var r=t(7),o=t(38),u=t(120).CONSTRUCTOR,y=t(119),w=t(26),N=t(24),B=t(50),Y=y&&y.prototype;if(r({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(k){return this.then(void 0,k)}}),!o&&N(y)){var O=w("Promise").prototype.catch;Y.catch!==O&&B(Y,"catch",O,{unsafe:!0})}},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),y=t(122),w=t(117),N=t(79);r({target:"Promise",stat:!0,forced:t(124)},{race:function(O){var k=this,_=y.f(k),D=_.reject,M=w(function(){var L=u(k.resolve);N(O,function(s){o(L,k,s).then(_.resolve,D)})});return M.error&&D(M.value),_.promise}})},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(122);r({target:"Promise",stat:!0,forced:t(120).CONSTRUCTOR},{reject:function(N){var B=u.f(this);return o(B.reject,void 0,N),B.promise}})},(p,i,t)=>{"use strict";var r=t(7),o=t(26),u=t(38),y=t(119),w=t(120).CONSTRUCTOR,N=t(130),B=o("Promise"),Y=u&&!w;r({target:"Promise",stat:!0,forced:u||w},{resolve:function(k){return N(Y&&this===B?y:this,k)}})},(p,i,t)=>{var r=t(49),o=t(23),u=t(122);p.exports=function(y,w){if(r(y),o(w)&&w.constructor===y)return w;var N=u.f(y);return(0,N.resolve)(w),N.promise}},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),y=t(122),w=t(117),N=t(79);r({target:"Promise",stat:!0},{allSettled:function(Y){var O=this,k=y.f(O),_=k.resolve,D=k.reject,M=w(function(){var L=u(O.resolve),s=[],a=0,f=1;N(Y,function(d){var R=a++,h=!1;f++,o(L,O,d).then(function(C){h||(h=!0,s[R]={status:"fulfilled",value:C},--f||_(s))},function(C){h||(h=!0,s[R]={status:"rejected",reason:C},--f||_(s))})}),--f||_(s)});return M.error&&D(M.value),k.promise}})},(p,i,t)=>{"use strict";var r=t(7),o=t(12),u=t(33),y=t(26),w=t(122),N=t(117),B=t(79),Y="No one promise resolved";r({target:"Promise",stat:!0},{any:function(k){var _=this,D=y("AggregateError"),M=w.f(_),L=M.resolve,s=M.reject,a=N(function(){var f=u(_.resolve),d=[],R=0,h=1,C=!1;B(k,function(m){var l=R++,b=!1;h++,o(f,_,m).then(function(P){b||C||(C=!0,L(P))},function(P){b||C||(b=!0,d[l]=P,--h||s(new D(d,Y)))})}),--h||s(new D(d,Y))});return a.error&&s(a.value),M.promise}})},(p,i,t)=>{"use strict";var r=t(7),o=t(38),u=t(119),y=t(11),w=t(26),N=t(24),B=t(105),Y=t(130),O=t(50),k=u&&u.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!u&&y(function(){k.finally.call({then:function(){}},function(){})})},{finally:function(M){var L=B(this,w("Promise")),s=N(M);return this.then(s?function(a){return Y(L,M()).then(function(){return a})}:M,s?function(a){return Y(L,M()).then(function(){throw a})}:M)}}),!o&&N(u)){var D=w("Promise").prototype.finally;k.finally!==D&&O(k,"finally",D,{unsafe:!0})}},(p,i,t)=>{"use strict";var r=t(135).charAt,o=t(89),u=t(52),y=t(93),w="String Iterator",N=u.set,B=u.getterFor(w);y(String,"String",function(Y){N(this,{type:w,string:o(Y),index:0})},function(){var D,O=B(this),k=O.string,_=O.index;return _>=k.length?{value:void 0,done:!0}:(D=r(k,_),O.index+=D.length,{value:D,done:!1})})},(p,i,t)=>{var r=t(18),o=t(63),u=t(89),y=t(20),w=r("".charAt),N=r("".charCodeAt),B=r("".slice),Y=function(O){return function(k,_){var s,a,D=u(y(k)),M=o(_),L=D.length;return M<0||M>=L?O?"":void 0:(s=N(D,M))<55296||s>56319||M+1===L||(a=N(D,M+1))<56320||a>57343?O?w(D,M):s:O?B(D,M,M+2):a-56320+(s-55296<<10)+65536}};p.exports={codeAt:Y(!1),charAt:Y(!0)}},(p,i,t)=>{var r=t(8);p.exports=r},(p,i,t)=>{t(91),t(97),t(138),t(150),t(152);var r=t(136);p.exports=r.structuredClone},(p,i,t)=>{t(139)},(p,i,t)=>{"use strict";t(140)("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},t(149))},(p,i,t)=>{"use strict";var r=t(7),o=t(8),u=t(18),y=t(68),w=t(50),N=t(141),B=t(79),Y=t(104),O=t(24),k=t(23),_=t(11),D=t(125),M=t(96),L=t(148);p.exports=function(s,a,f){var d=-1!==s.indexOf("Map"),R=-1!==s.indexOf("Weak"),h=d?"set":"add",C=o[s],m=C&&C.prototype,l=C,b={},P=function(V){var te=u(m[V]);w(m,V,"add"==V?function(c){return te(this,0===c?0:c),this}:"delete"==V?function(re){return!(R&&!k(re))&&te(this,0===re?0:re)}:"get"==V?function(c){return R&&!k(c)?void 0:te(this,0===c?0:c)}:"has"==V?function(c){return!(R&&!k(c))&&te(this,0===c?0:c)}:function(c,v){return te(this,0===c?0:c,v),this})};if(y(s,!O(C)||!(R||m.forEach&&!_(function(){(new C).entries().next()}))))l=f.getConstructor(a,s,d,h),N.enable();else if(y(s,!0)){var F=new l,z=F[h](R?{}:-0,1)!=F,ee=_(function(){F.has(1)}),Q=D(function(V){new C(V)}),oe=!R&&_(function(){for(var V=new C,te=5;te--;)V[h](te,te);return!V.has(-0)});Q||((l=a(function(V,te){Y(V,m);var re=L(new C,V,l);return null!=te&&B(te,re[h],{that:re,AS_ENTRIES:d}),re})).prototype=m,m.constructor=l),(ee||oe)&&(P("delete"),P("has"),d&&P("get")),(oe||z)&&P(h),R&&m.clear&&delete m.clear}return b[s]=l,r({global:!0,forced:l!=C},b),M(l,s),R||f.setStrong(l,s,d),l}},(p,i,t)=>{var r=t(7),o=t(18),u=t(55),y=t(23),w=t(41),N=t(47).f,B=t(59),Y=t(142),O=t(145),k=t(43),_=t(147),D=!1,M=k("meta"),L=0,s=function(C){N(C,M,{value:{objectID:"O"+L++,weakData:{}}})},h=p.exports={enable:function(){h.enable=function(){},D=!0;var C=B.f,m=o([].splice),l={};l[M]=1,C(l).length&&(B.f=function(b){for(var P=C(b),g=0,F=P.length;g<F;g++)if(P[g]===M){m(P,g,1);break}return P},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Y.f}))},fastKey:function(C,m){if(!y(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!w(C,M)){if(!O(C))return"F";if(!m)return"E";s(C)}return C[M].objectID},getWeakData:function(C,m){if(!w(C,M)){if(!O(C))return!0;if(!m)return!1;s(C)}return C[M].weakData},onFreeze:function(C){return _&&D&&O(C)&&!w(C,M)&&s(C),C}};u[M]=!0},(p,i,t)=>{var r=t(19),o=t(16),u=t(59).f,y=t(143),w="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];p.exports.f=function(Y){return w&&"Window"==r(Y)?function(B){try{return u(B)}catch{return y(w)}}(Y):u(o(Y))}},(p,i,t)=>{var r=t(8),o=t(62),u=t(64),y=t(144),w=r.Array,N=Math.max;p.exports=function(B,Y,O){for(var k=u(B),_=o(Y,k),D=o(void 0===O?k:O,k),M=w(N(D-_,0)),L=0;_<D;_++,L++)y(M,L,B[_]);return M.length=L,M}},(p,i,t)=>{"use strict";var r=t(21),o=t(47),u=t(15);p.exports=function(y,w,N){var B=r(w);B in y?o.f(y,B,u(0,N)):y[B]=N}},(p,i,t)=>{var r=t(11),o=t(23),u=t(19),y=t(146),w=Object.isExtensible,N=r(function(){w(1)});p.exports=N||y?function(Y){return!(!o(Y)||y&&"ArrayBuffer"==u(Y))&&(!w||w(Y))}:w},(p,i,t)=>{var r=t(11);p.exports=r(function(){if("function"==typeof ArrayBuffer){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},(p,i,t)=>{var r=t(11);p.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},(p,i,t)=>{var r=t(24),o=t(23),u=t(71);p.exports=function(y,w,N){var B,Y;return u&&r(B=w.constructor)&&B!==N&&o(Y=B.prototype)&&Y!==N.prototype&&u(y,Y),y}},(p,i,t)=>{"use strict";var r=t(47).f,o=t(73),u=t(102),y=t(80),w=t(104),N=t(79),B=t(93),Y=t(103),O=t(10),k=t(141).fastKey,_=t(52),D=_.set,M=_.getterFor;p.exports={getConstructor:function(L,s,a,f){var d=L(function(l,b){w(l,R),D(l,{type:s,index:o(null),first:void 0,last:void 0,size:0}),O||(l.size=0),null!=b&&N(b,l[f],{that:l,AS_ENTRIES:a})}),R=d.prototype,h=M(s),C=function(l,b,P){var z,ee,g=h(l),F=m(l,b);return F?F.value=P:(g.last=F={index:ee=k(b,!0),key:b,value:P,previous:z=g.last,next:void 0,removed:!1},g.first||(g.first=F),z&&(z.next=F),O?g.size++:l.size++,"F"!==ee&&(g.index[ee]=F)),l},m=function(l,b){var F,P=h(l),g=k(b);if("F"!==g)return P.index[g];for(F=P.first;F;F=F.next)if(F.key==b)return F};return u(R,{clear:function(){for(var P=h(this),g=P.index,F=P.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),delete g[F.index],F=F.next;P.first=P.last=void 0,O?P.size=0:this.size=0},delete:function(l){var b=this,P=h(b),g=m(b,l);if(g){var F=g.next,z=g.previous;delete P.index[g.index],g.removed=!0,z&&(z.next=F),F&&(F.previous=z),P.first==g&&(P.first=F),P.last==g&&(P.last=z),O?P.size--:b.size--}return!!g},forEach:function(b){for(var F,P=h(this),g=y(b,arguments.length>1?arguments[1]:void 0);F=F?F.next:P.first;)for(g(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(b){return!!m(this,b)}}),u(R,a?{get:function(b){var P=m(this,b);return P&&P.value},set:function(b,P){return C(this,0===b?0:b,P)}}:{add:function(b){return C(this,b=0===b?0:b,b)}}),O&&r(R,"size",{get:function(){return h(this).size}}),d},setStrong:function(L,s,a){var f=s+" Iterator",d=M(s),R=M(f);B(L,s,function(h,C){D(this,{type:f,target:h,state:d(h),kind:C,last:void 0})},function(){for(var h=R(this),C=h.kind,m=h.last;m&&m.removed;)m=m.previous;return h.target&&(h.last=m=m?m.next:h.state.first)?"keys"==C?{value:m.key,done:!1}:"values"==C?{value:m.value,done:!1}:{value:[m.key,m.value],done:!1}:(h.target=void 0,{value:void 0,done:!0})},a?"entries":"values",!a,!0),Y(s)}}},(p,i,t)=>{t(151)},(p,i,t)=>{"use strict";t(140)("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},t(149))},(p,i,t)=>{var T,r=t(38),o=t(7),u=t(8),y=t(26),w=t(18),N=t(11),B=t(43),Y=t(24),O=t(107),k=t(23),_=t(25),D=t(79),M=t(49),L=t(85),s=t(41),a=t(144),f=t(46),d=t(64),R=t(111),h=t(153),C=t(90),m=u.Object,l=u.Date,b=u.Error,P=u.EvalError,g=u.RangeError,F=u.ReferenceError,z=u.SyntaxError,ee=u.TypeError,Q=u.URIError,oe=u.PerformanceMark,V=u.WebAssembly,te=V&&V.CompileError||b,re=V&&V.LinkError||b,c=V&&V.RuntimeError||b,v=y("DOMException"),x=y("Set"),G=y("Map"),ie=G.prototype,ye=w(ie.has),ne=w(ie.get),Ee=w(ie.set),pe=w(x.prototype.add),_e=y("Object","keys"),he=w([].push),Ae=w((!0).valueOf),Pe=w(1..valueOf),Oe=w("".valueOf),Te=w(l.prototype.getTime),Ie=B("structuredClone"),Me="DataCloneError",j="Transferring",ae=function(T){return!N(function(){var K=new u.Set([7]),I=T(K),U=T(m(7));return I==K||!I.has(7)||"object"!=typeof U||7!=U})&&T},A=u.structuredClone,$=r||(T=A,!(!N(function(){var K=T(new u.AggregateError([1],Ie,{cause:3}));return"AggregateError"!=K.name||1!=K.errors[0]||K.message!=Ie||3!=K.cause})&&T)),J=!A&&ae(function(T){return new oe(Ie,{detail:T}).detail}),Z=ae(A)||J,le=function(T){throw new v("Uncloneable type: "+T,Me)},fe=function(T,K){throw new v((K||"Cloning")+" of "+T+" cannot be properly polyfilled in this engine",Me)},se=function(T,K){if(_(T)&&le("Symbol"),!k(T))return T;if(K){if(ye(K,T))return ne(K,T)}else K=new G;var W,X,H,ce,Se,we,Ce,Fe,We,De,I=L(T),U=!1;switch(I){case"Array":H=[],U=!0;break;case"Object":H={},U=!0;break;case"Map":H=new G,U=!0;break;case"Set":H=new x,U=!0;break;case"RegExp":H=new RegExp(T.source,h(T));break;case"Error":switch(X=T.name){case"AggregateError":H=y("AggregateError")([]);break;case"EvalError":H=P();break;case"RangeError":H=g();break;case"ReferenceError":H=F();break;case"SyntaxError":H=z();break;case"TypeError":H=ee();break;case"URIError":H=Q();break;case"CompileError":H=te();break;case"LinkError":H=re();break;case"RuntimeError":H=c();break;default:H=b()}U=!0;break;case"DOMException":H=new v(T.message,T.name),U=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":k(W=u[I])||fe(I),H=new W(se(T.buffer,K),T.byteOffset,"DataView"===I?T.byteLength:T.length);break;case"DOMQuad":try{H=new DOMQuad(se(T.p1,K),se(T.p2,K),se(T.p3,K),se(T.p4,K))}catch{Z?H=Z(T):fe(I)}break;case"FileList":if(O(W=u.DataTransfer)){for(ce=new W,Se=0,we=d(T);Se<we;Se++)ce.items.add(se(T[Se],K));H=ce.files}else Z?H=Z(T):fe(I);break;case"ImageData":try{H=new ImageData(se(T.data,K),T.width,T.height,{colorSpace:T.colorSpace})}catch{Z?H=Z(T):fe(I)}break;default:if(Z)H=Z(T);else switch(I){case"BigInt":H=m(T.valueOf());break;case"Boolean":H=m(Ae(T));break;case"Number":H=m(Pe(T));break;case"String":H=m(Oe(T));break;case"Date":H=new l(Te(T));break;case"ArrayBuffer":!(W=u.DataView)&&"function"!=typeof T.slice&&fe(I);try{if("function"==typeof T.slice)H=T.slice(0);else for(we=T.byteLength,H=new ArrayBuffer(we),We=new W(T),De=new W(H),Se=0;Se<we;Se++)De.setUint8(Se,We.getUint8(Se))}catch{throw new v("ArrayBuffer is detached",Me)}break;case"SharedArrayBuffer":H=T;break;case"Blob":try{H=T.slice(0,T.size,T.type)}catch{fe(I)}break;case"DOMPoint":case"DOMPointReadOnly":W=u[I];try{H=W.fromPoint?W.fromPoint(T):new W(T.x,T.y,T.z,T.w)}catch{fe(I)}break;case"DOMRect":case"DOMRectReadOnly":W=u[I];try{H=W.fromRect?W.fromRect(T):new W(T.x,T.y,T.width,T.height)}catch{fe(I)}break;case"DOMMatrix":case"DOMMatrixReadOnly":W=u[I];try{H=W.fromMatrix?W.fromMatrix(T):new W(T)}catch{fe(I)}break;case"AudioData":case"VideoFrame":Y(T.clone)||fe(I);try{H=T.clone()}catch{le(I)}break;case"File":try{H=new File([T],T.name,T)}catch{fe(I)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(I);default:le(I)}}if(Ee(K,T,H),U)switch(I){case"Array":case"Object":for(Ce=_e(T),Se=0,we=d(Ce);Se<we;Se++)a(H,Fe=Ce[Se],se(T[Fe],K));break;case"Map":T.forEach(function(Be,Xe){Ee(H,se(Xe,K),se(Be,K))});break;case"Set":T.forEach(function(Be){pe(H,se(Be,K))});break;case"Error":f(H,"message",se(T.message,K)),s(T,"cause")&&f(H,"cause",se(T.cause,K)),"AggregateError"==X&&(H.errors=se(T.errors,K));case"DOMException":C&&f(H,"stack",se(T.stack,K))}return H},ke=A&&!N(function(){var T=new ArrayBuffer(8),K=A(T,{transfer:[T]});return 0!=T.byteLength||8!=K.byteLength}),ge=function(T,K){if(!k(T))throw ee("Transfer option cannot be converted to a sequence");var I=[];D(T,function(We){he(I,M(We))});var X,H,ce,Se,we,Ce,U=0,W=d(I);if(ke)for(Se=A(I,{transfer:I});U<W;)Ee(K,I[U],Se[U++]);else for(;U<W;){if(X=I[U++],ye(K,X))throw new v("Duplicate transferable",Me);switch(H=L(X)){case"ImageBitmap":O(ce=u.OffscreenCanvas)||fe(H,j);try{(Ce=new ce(X.width,X.height)).getContext("bitmaprenderer").transferFromImageBitmap(X),we=Ce.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!Y(X.clone)||!Y(X.close))&&fe(H,j);try{we=X.clone(),X.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(H,j)}if(void 0===we)throw new v("This object cannot be transferred: "+H,Me);Ee(K,X,we)}};o({global:!0,enumerable:!0,sham:!ke,forced:$},{structuredClone:function(K){var W,I=R(arguments.length,1)>1&&null!=arguments[1]?M(arguments[1]):void 0,U=I?I.transfer:void 0;return void 0!==U&&(W=new G,ge(U,W)),se(K,W)}})},(p,i,t)=>{var r=t(12),o=t(41),u=t(27),y=t(154),w=RegExp.prototype;p.exports=function(N){var B=N.flags;return void 0!==B||"flags"in w||o(N,"flags")||!u(w,N)?B:r(y,N)}},(p,i,t)=>{"use strict";var r=t(49);p.exports=function(){var o=r(this),u="";return o.hasIndices&&(u+="d"),o.global&&(u+="g"),o.ignoreCase&&(u+="i"),o.multiline&&(u+="m"),o.dotAll&&(u+="s"),o.unicode&&(u+="u"),o.sticky&&(u+="y"),u}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(156)),_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(158),_font_loader=__w_pdfjs_require__(160),_annotation_storage=__w_pdfjs_require__(161),_canvas=__w_pdfjs_require__(163),_worker_options=__w_pdfjs_require__(166),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(167),_metadata=__w_pdfjs_require__(168),_optional_content_config=__w_pdfjs_require__(169),_transport_stream=__w_pdfjs_require__(170),_xfa_text=__w_pdfjs_require__(171);function _interopRequireDefault(p){return p&&p.__esModule?p:{default:p}}function _classPrivateMethodInitSpec(p,i){_checkPrivateRedeclaration(p,i),i.add(p)}function _classPrivateMethodGet(p,i,t){if(!i.has(p))throw new TypeError("attempted to get private field on non-instance");return t}function _classPrivateFieldInitSpec(p,i,t){_checkPrivateRedeclaration(p,i),i.set(p,t)}function _checkPrivateRedeclaration(p,i){if(i.has(p))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(p,i,t){return _classApplyDescriptorSet(p,_classExtractFieldDescriptor(p,i,"set"),t),t}function _classPrivateFieldGet(p,i){return _classApplyDescriptorGet(p,_classExtractFieldDescriptor(p,i,"get"))}function _classExtractFieldDescriptor(p,i,t){if(!i.has(p))throw new TypeError("attempted to "+t+" private field on non-instance");return i.get(p)}function _toConsumableArray(p){return _arrayWithoutHoles(p)||_iterableToArray(p)||_unsupportedIterableToArray(p)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(p){if(typeof Symbol<"u"&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)}function _arrayWithoutHoles(p){if(Array.isArray(p))return _arrayLikeToArray(p)}function _createForOfIteratorHelper(p,i){var t=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!t){if(Array.isArray(p)||(t=_unsupportedIterableToArray(p))||i&&p&&"number"==typeof p.length){t&&(p=t);var r=0,o=function(){};return{s:o,n:function(){return r>=p.length?{done:!0}:{done:!1,value:p[r++]}},e:function(B){throw B},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,u=!0,y=!1;return{s:function(){t=t.call(p)},n:function(){var B=t.next();return u=B.done,B},e:function(B){y=!0,w=B},f:function(){try{!u&&null!=t.return&&t.return()}finally{if(y)throw w}}}}function _classCallCheck(p,i){if(!(p instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(p,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(p,r.key,r)}}function _createClass(p,i,t){return i&&_defineProperties(p.prototype,i),t&&_defineProperties(p,t),Object.defineProperty(p,"prototype",{writable:!1}),p}function _classStaticPrivateFieldSpecSet(p,i,t,r){return _classCheckPrivateStaticAccess(p,i),_classCheckPrivateStaticFieldDescriptor(t,"set"),_classApplyDescriptorSet(p,t,r),r}function _classApplyDescriptorSet(p,i,t){if(i.set)i.set.call(p,t);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=t}}function _classStaticPrivateFieldSpecGet(p,i,t){return _classCheckPrivateStaticAccess(p,i),_classCheckPrivateStaticFieldDescriptor(t,"get"),_classApplyDescriptorGet(p,t)}function _classCheckPrivateStaticFieldDescriptor(p,i){if(void 0===p)throw new TypeError("attempted to "+i+" private static field before its declaration")}function _classCheckPrivateStaticAccess(p,i){if(p!==i)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(p,i){return i.get?i.get.call(p):i.value}function asyncGeneratorStep(p,i,t,r,o,u,y){try{var w=p[u](y),N=w.value}catch(B){return void t(B)}w.done?i(N):Promise.resolve(N).then(r,o)}function _asyncToGenerator(p){return function(){var i=this,t=arguments;return new Promise(function(r,o){var u=p.apply(i,t);function y(N){asyncGeneratorStep(u,r,o,y,w,"next",N)}function w(N){asyncGeneratorStep(u,r,o,y,w,"throw",N)}y(void 0)})}}function _slicedToArray(p,i){return _arrayWithHoles(p)||_iterableToArrayLimit(p,i)||_unsupportedIterableToArray(p,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(p,i){if(p){if("string"==typeof p)return _arrayLikeToArray(p,i);var t=Object.prototype.toString.call(p).slice(8,-1);if("Object"===t&&p.constructor&&(t=p.constructor.name),"Map"===t||"Set"===t)return Array.from(p);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(p,i)}}function _arrayLikeToArray(p,i){(null==i||i>p.length)&&(i=p.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=p[t];return r}function _iterableToArrayLimit(p,i){var t=null==p?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(null!=t){var y,w,r=[],o=!0,u=!1;try{for(t=t.call(p);!(o=(y=t.next()).done)&&(r.push(y.value),!i||r.length!==i);o=!0);}catch(N){u=!0,w=N}finally{try{!o&&null!=t.return&&t.return()}finally{if(u)throw w}}return r}}function _arrayWithHoles(p){if(Array.isArray(p))return p}function _typeof(p){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(p)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){var _require=__w_pdfjs_require__(172),NodeCanvasFactory=_require.NodeCanvasFactory,NodeCMapReaderFactory=_require.NodeCMapReaderFactory,NodeStandardFontDataFactory=_require.NodeStandardFontDataFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}function setPDFNetworkStreamFactory(p){createPDFNetworkStream=p}function getDocument(p){var t,i=new PDFDocumentLoadingTask;if("string"==typeof p||p instanceof URL)t={url:p};else if((0,_util.isArrayBuffer)(p))t={data:p};else if(p instanceof PDFDataRangeTransport)t={range:p};else{if("object"!==_typeof(p))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!p.url&&!p.data&&!p.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=p}var r=Object.create(null),o=null,u=null;for(var y in t){var w=t[y];switch(y){case"url":if(typeof window<"u")try{r[y]=new URL(w,window.location).href;continue}catch(Y){(0,_util.warn)('Cannot create valid URL: "'.concat(Y,'".'))}else if("string"==typeof w||w instanceof URL){r[y]=w.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=w;continue;case"worker":u=w;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&w instanceof Buffer)r[y]=new Uint8Array(w);else{if(w instanceof Uint8Array)break;if("string"==typeof w)r[y]=(0,_util.stringToBytes)(w);else if("object"!==_typeof(w)||null===w||isNaN(w.length)){if(!(0,_util.isArrayBuffer)(w))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[y]=new Uint8Array(w)}else r[y]=new Uint8Array(w)}continue}r[y]=w}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!==_typeof(r.ownerDocument)||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!u){var N={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=N.port?PDFWorker.fromPort(N):new PDFWorker(N),i._worker=u}var B=i.docId;return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");var Y=_fetchDocument(u,r,o,B),O=new Promise(function(k){var _;o?_=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},o):r.data||(_=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),k(_)});return Promise.all([Y,O]).then(function(k){var _=_slicedToArray(k,2),D=_[0],M=_[1];if(i.destroyed)throw new Error("Loading aborted");var L=new _message_handler.MessageHandler(B,D,u.port),s=new WorkerTransport(L,i,M,r);i._transport=s,L.send("Ready",null)})}).catch(i._capability.reject),i}function _fetchDocument(p,i,t,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function p(i,t,r,o){var u;return _regenerator.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!i.destroyed){w.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone,t.contentDispositionFilename=r.contentDispositionFilename),w.next=5,i.messageHandler.sendWithPromise("GetDocRequest",{docId:o,apiVersion:"2.14.305",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});case 5:if(u=w.sent,!i.destroyed){w.next=8;break}throw new Error("Worker was destroyed");case 8:return w.abrupt("return",u);case 9:case"end":return w.stop()}},p)}))).apply(this,arguments)}var PDFDocumentLoadingTask=function(){function p(){var i,t;_classCallCheck(this,p),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(p,p,_docId,(i=_classStaticPrivateFieldSpecGet(p,p,_docId),t=i++,i)),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(p,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o;return _regenerator.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return this.destroyed=!0,y.next=3,null===(o=this._transport)||void 0===o?void 0:o.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return y.stop()}},r,this)})),function t(){return i.apply(this,arguments)})}]),p;var i}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0},PDFDataRangeTransport=function(){function p(i,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,p),this.length=i,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(p,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,r){var u,o=_createForOfIteratorHelper(this._rangeListeners);try{for(o.s();!(u=o.n()).done;)(0,u.value)(t,r)}catch(w){o.e(w)}finally{o.f()}}},{key:"onDataProgress",value:function(t,r){var o=this;this._readyCapability.promise.then(function(){var y,u=_createForOfIteratorHelper(o._progressListeners);try{for(u.s();!(y=u.n()).done;)(0,y.value)(t,r)}catch(N){u.e(N)}finally{u.f()}})}},{key:"onDataProgressiveRead",value:function(t){var r=this;this._readyCapability.promise.then(function(){var u,o=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(o.s();!(u=o.n()).done;)(0,u.value)(t)}catch(w){o.e(w)}finally{o.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var o,r=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(r.s();!(o=r.n()).done;)(0,o.value)()}catch(y){r.e(y)}finally{r.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),p}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function p(i,t){var o,r=this;_classCallCheck(this,p),this._pdfInfo=i,this._transport=t,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(o=_asyncToGenerator(_regenerator.default.mark(function y(){return _regenerator.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),N.abrupt("return",r.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return N.stop()}},y)})),function u(){return o.apply(this,arguments)})})}return _createClass(p,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){return this._transport.startCleanup(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),p}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function p(i,t,r,o){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,p),this._pageIndex=i,this._pageInfo=t,this._ownerDocument=o,this._transport=r,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(p,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.rotation,y=t.offsetX,N=t.offsetY,Y=t.dontFlip;return new _display_utils.PageViewport({viewBox:this.view,scale:t.scale,rotation:void 0===o?this.rotate:o,offsetX:void 0===y?0:y,offsetY:void 0===N?0:N,dontFlip:void 0!==Y&&Y})}},{key:"getAnnotations",value:function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,u=this._transport.getRenderingIntent(void 0===r?"display":r),y=this._annotationPromises.get(u.cacheKey);return y||(y=this._transport.getAnnotations(this._pageIndex,u.renderingIntent),this._annotationPromises.set(u.cacheKey,y),y=y.then(function(w){var B,N=_createForOfIteratorHelper(w);try{var Y=function(){var k=B.value;void 0!==k.titleObj&&Object.defineProperty(k,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),k.titleObj.str}}),void 0!==k.contentsObj&&Object.defineProperty(k,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),k.contentsObj.str}})};for(N.s();!(B=N.n()).done;)Y()}catch(O){N.e(O)}finally{N.f()}return w})),y}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o;return _regenerator.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(null===(o=this._transport._htmlForXfa)||void 0===o?void 0:o.children[this._pageIndex])||null);case 1:case"end":return y.stop()}},r,this)})),function t(){return i.apply(this,arguments)})},{key:"render",value:function(t){var r,o,y,u=this,w=t.canvasContext,N=t.viewport,B=t.intent,Y=void 0===B?"display":B,O=t.annotationMode,k=void 0===O?_util.AnnotationMode.ENABLE:O,_=t.transform,D=void 0===_?null:_,M=t.imageLayer,L=void 0===M?null:M,s=t.canvasFactory,a=void 0===s?null:s,f=t.background,d=void 0===f?null:f,R=t.optionalContentConfigPromise,h=void 0===R?null:R,C=t.annotationCanvasMap,m=void 0===C?null:C,l=t.pageColors,b=void 0===l?null:l;void 0!==(null===(r=arguments[0])||void 0===r?void 0:r.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(o=arguments[0])||void 0===o?void 0:o.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var P=this._transport.getRenderingIntent(Y,k);this.pendingCleanup=!1,h||(h=this._transport.getOptionalContentConfig());var g=this._intentStates.get(P.cacheKey);g||this._intentStates.set(P.cacheKey,g=Object.create(null)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);var F=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),z=!!(P.renderingIntent&_util.RenderingIntentFlag.PRINT);g.displayReadyCapability||(g.displayReadyCapability=(0,_util.createPromiseCapability)(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(P));var ee=function(te){g.renderTasks.delete(Q),(u.cleanupAfterRender||z)&&(u.pendingCleanup=!0),u._tryCleanup(),te?(Q.capability.reject(te),u._abortOperatorList({intentState:g,reason:te instanceof Error?te:new Error(te)})):Q.capability.resolve(),u._stats&&(u._stats.timeEnd("Rendering"),u._stats.timeEnd("Overall"))},Q=new InternalRenderTask({callback:ee,params:{canvasContext:w,viewport:N,transform:D,imageLayer:L,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:F,useRequestAnimationFrame:!z,pdfBug:this._pdfBug,pageColors:b});((y=g).renderTasks||(y.renderTasks=new Set)).add(Q);var oe=Q.task;return Promise.all([g.displayReadyCapability.promise,h]).then(function(V){var te=_slicedToArray(V,2),re=te[0],c=te[1];u.pendingCleanup?ee():(u._stats&&u._stats.time("Rendering"),Q.initializeGraphics({transparency:re,optionalContentConfig:c}),Q.operatorListChanged())}).catch(ee),oe}},{key:"getOperatorList",value:function(){var Y,O,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,u=t.annotationMode,N=this._transport.getRenderingIntent(void 0===r?"display":r,void 0===u?_util.AnnotationMode.ENABLE:u,!0),B=this._intentStates.get(N.cacheKey);return B||this._intentStates.set(N.cacheKey,B=Object.create(null)),B.opListReadCapability||((Y=Object.create(null)).operatorListChanged=function w(){B.operatorList.lastChunk&&(B.opListReadCapability.resolve(B.operatorList),B.renderTasks.delete(Y))},B.opListReadCapability=(0,_util.createPromiseCapability)(),((O=B).renderTasks||(O.renderTasks=new Set)).add(Y),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(N)),B.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.disableCombineTextItems,u=t.includeMarkedContent;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==(void 0!==r&&r),includeMarkedContent:!0===(void 0!==u&&u)},{highWaterMark:100,size:function(B){return B.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(o){return _xfa_text.XfaText.textContent(o)});var r=this.streamTextContent(t);return new Promise(function(o,u){var w=r.getReader(),N={items:[],styles:Object.create(null)};!function y(){w.read().then(function(B){var Y,O=B.value;B.done?o(N):(Object.assign(N.styles,O.styles),(Y=N.items).push.apply(Y,_toConsumableArray(O.items)),y())},u)}()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var o,t=[],r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(o=r.n()).done;){var u=o.value;if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability){var w,y=_createForOfIteratorHelper(u.renderTasks);try{for(y.s();!(w=y.n()).done;){var N=w.value;t.push(N.completed),N.cancel()}}catch(k){y.e(k)}finally{y.f()}}}}catch(k){r.e(k)}finally{r.f()}this.objs.clear();var Y,B=_createForOfIteratorHelper(this._bitmaps);try{for(B.s();!(Y=B.n()).done;)Y.value.close()}catch(k){B.e(k)}finally{B.f()}return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var o,r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(o=r.n()).done;){var u=o.value;if(u.renderTasks.size>0||!u.operatorList.lastChunk)return!1}}catch(O){r.e(O)}finally{r.f()}this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);var B,N=_createForOfIteratorHelper(this._bitmaps);try{for(N.s();!(B=N.n()).done;)B.value.close()}catch(O){N.e(O)}finally{N.f()}return this._bitmaps.clear(),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,r){var o=this._intentStates.get(r);o&&(this._stats&&this._stats.timeEnd("Page Request"),o.displayReadyCapability&&o.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,r){for(var o=0,u=t.length;o<u;o++)r.operatorList.fnArray.push(t.fnArray[o]),r.operatorList.argsArray.push(t.argsArray[o]);r.operatorList.lastChunk=t.lastChunk;var w,y=_createForOfIteratorHelper(r.renderTasks);try{for(y.s();!(w=y.n()).done;)w.value.operatorListChanged()}catch(B){y.e(B)}finally{y.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var r=this,o=t.renderingIntent,u=t.cacheKey,w=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:u,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),N=this._intentStates.get(u);N.streamReader=w,function Y(){w.read().then(function(O){var k=O.value;O.done?N.streamReader=null:r._transport.destroyed||(r._renderPageChunk(k,N),Y())},function(O){if(N.streamReader=null,!r._transport.destroyed){if(N.operatorList){N.operatorList.lastChunk=!0;var _,k=_createForOfIteratorHelper(N.renderTasks);try{for(k.s();!(_=k.n()).done;)_.value.operatorListChanged()}catch(M){k.e(M)}finally{k.f()}r._tryCleanup()}if(N.displayReadyCapability)N.displayReadyCapability.reject(O);else{if(!N.opListReadCapability)throw O;N.opListReadCapability.reject(O)}}})}()}},{key:"_abortOperatorList",value:function(t){var r=this,o=t.intentState,u=t.reason,y=t.force;if(o.streamReader){if(void 0===y||!y){if(o.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:o,reason:u,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(u.message)).catch(function(){}),o.streamReader=null,!this._transport.destroyed){var B,N=_createForOfIteratorHelper(this._intentStates);try{for(N.s();!(B=N.n()).done;){var Y=_slicedToArray(B.value,2);if(Y[1]===o){this._intentStates.delete(Y[0]);break}}}catch(_){N.e(_)}finally{N.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),p;var i}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function p(){_classCallCheck(this,p),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(p,[{key:"postMessage",value:function(t,r){var o=this,u={data:structuredClone(t,r)};this._deferred.then(function(){var w,y=_createForOfIteratorHelper(o._listeners);try{for(y.s();!(w=y.n()).done;)w.value.call(o,u)}catch(B){y.e(B)}finally{y.f()}})}},{key:"addEventListener",value:function(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function(t,r){var o=this._listeners.indexOf(r);this._listeners.splice(o,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),p}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===(typeof document>"u"?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(p,i){var t;try{if(!(t=new URL(p)).origin||"null"===t.origin)return!1}catch{return!1}var r=new URL(i,t);return t.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(p){var i='importScripts("'.concat(p,'");');return URL.createObjectURL(new Blob([i]))};var PDFWorker=function(){function PDFWorker(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=p.name,t=void 0===i?null:i,r=p.port,o=void 0===r?null:r,u=p.verbosity,y=void 0===u?(0,_util.getVerbosityLevel)():u;if(_classCallCheck(this,PDFWorker),o&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=y,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var i=this;if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var r=new Worker(t),o=new _message_handler.MessageHandler("main","worker",r),u=function(){r.removeEventListener("error",y),o.destroy(),r.terminate(),i.destroyed?i._readyCapability.reject(new Error("Worker was destroyed")):i._setupFakeWorker()},y=function(){i._webWorker||u()};r.addEventListener("error",y),o.on("test",function(N){r.removeEventListener("error",y),i.destroyed?u():N?(i._messageHandler=o,i._port=r,i._webWorker=r,i._readyCapability.resolve(),o.send("configure",{verbosity:i.verbosity})):(i._setupFakeWorker(),o.destroy(),r.terminate())}),o.on("ready",function(N){if(r.removeEventListener("error",y),i.destroyed)u();else try{w()}catch{i._setupFakeWorker()}});var w=function(){var B=new Uint8Array;o.send("test",B,[B.buffer])};return void w()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var i=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(i.destroyed)i._readyCapability.reject(new Error("Worker was destroyed"));else{var r=new LoopbackPort;i._port=r;var o="fake".concat(PDFWorkerUtil.fakeWorkerId++),u=new _message_handler.MessageHandler(o+"_worker",o,r);t.setup(u,r);var y=new _message_handler.MessageHandler(o,o+"_worker",r);i._messageHandler=y,i._readyCapability.resolve(),y.send("configure",{verbosity:i.verbosity})}}).catch(function(t){i._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(i){if(null==i||!i.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(i.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(i.port):new PDFWorker(i)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var i;return(null===(i=globalThis.pdfjsWorker)||void 0===i?void 0:i.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function p(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function p(i,t,r,o){_classCallCheck(this,p),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=i,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(p,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=_util.RenderingIntentFlag.DISPLAY,y="";switch(t){case"any":u=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(r){case _util.AnnotationMode.DISABLE:u+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:u+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:u+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,y=this.annotationStorage.hash;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(r))}return o&&(u+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:u,cacheKey:"".concat(u,"_").concat(y)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var u,r=[],o=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(o.s();!(u=o.n()).done;)r.push(u.value._destroy())}catch(N){o.e(N)}finally{o.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var w=this.messageHandler.sendWithPromise("Terminate",null);return r.push(w),Promise.all(r).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,r=this.messageHandler,o=this.loadingTask;r.on("GetReader",function(u,y){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(w){t._lastProgress={loaded:w.loaded,total:w.total}},y.onPull=function(){t._fullReader.read().then(function(w){var N=w.value;w.done?y.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(N),1,[N]))}).catch(function(w){y.error(w)})},y.onCancel=function(w){t._fullReader.cancel(w),y.ready.catch(function(N){if(!t.destroyed)throw N})}}),r.on("ReaderHeadersReady",function(u){var y=(0,_util.createPromiseCapability)(),w=t._fullReader;return w.headersReady.then(function(){var N;w.isStreamingSupported&&w.isRangeSupported||(t._lastProgress&&(null===(N=o.onProgress)||void 0===N||N.call(o,t._lastProgress)),w.onProgress=function(B){var Y;null===(Y=o.onProgress)||void 0===Y||Y.call(o,{loaded:B.loaded,total:B.total})}),y.resolve({isStreamingSupported:w.isStreamingSupported,isRangeSupported:w.isRangeSupported,contentLength:w.contentLength})},y.reject),y.promise}),r.on("GetRangeReader",function(u,y){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var w=t._networkStream.getRangeReader(u.begin,u.end);w?(y.onPull=function(){w.read().then(function(N){var B=N.value;N.done?y.close():((0,_util.assert)((0,_util.isArrayBuffer)(B),"GetRangeReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(B),1,[B]))}).catch(function(N){y.error(N)})},y.onCancel=function(N){w.cancel(N),y.ready.catch(function(B){if(!t.destroyed)throw B})}):y.close()}),r.on("GetDoc",function(u){var y=u.pdfInfo;t._numPages=y.numPages,t._htmlForXfa=y.htmlForXfa,delete y.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(y,t))}),r.on("DocException",function(u){var y;switch(u.name){case"PasswordException":y=new _util.PasswordException(u.message,u.code);break;case"InvalidPDFException":y=new _util.InvalidPDFException(u.message);break;case"MissingPDFException":y=new _util.MissingPDFException(u.message);break;case"UnexpectedResponseException":y=new _util.UnexpectedResponseException(u.message,u.status);break;case"UnknownErrorException":y=new _util.UnknownErrorException(u.message,u.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(y)}),r.on("PasswordRequest",function(u){if(t._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword)try{o.onPassword(function(N){N instanceof Error?t._passwordCapability.reject(N):t._passwordCapability.resolve({password:N})},u.code)}catch(w){t._passwordCapability.reject(w)}else t._passwordCapability.reject(new _util.PasswordException(u.message,u.code));return t._passwordCapability.promise}),r.on("DataLoaded",function(u){var y;null===(y=o.onProgress)||void 0===y||y.call(o,{loaded:u.length,total:u.length}),t.downloadInfoCapability.resolve(u)}),r.on("StartRenderPage",function(u){t.destroyed||_classPrivateFieldGet(t,_pageCache).get(u.pageIndex)._startRenderPage(u.transparency,u.cacheKey)}),r.on("commonobj",function(u){var y,w=_slicedToArray(u,3),N=w[0],B=w[1],Y=w[2];if(!t.destroyed&&!t.commonObjs.has(N))switch(B){case"Font":var O=t._params;if("error"in Y){var k=Y.error;(0,_util.warn)("Error during font loading: ".concat(k)),t.commonObjs.resolve(N,k);break}var _=null;O.pdfBug&&null!==(y=globalThis.FontInspector)&&void 0!==y&&y.enabled&&(_={registerFont:function(L,s){globalThis.FontInspector.fontAdded(L,s)}});var D=new _font_loader.FontFaceObject(Y,{isEvalSupported:O.isEvalSupported,disableFontFace:O.disableFontFace,ignoreErrors:O.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:_});t.fontLoader.bind(D).catch(function(M){return r.sendWithPromise("FontFallback",{id:N})}).finally(function(){!O.fontExtraProperties&&D.data&&(D.data=null),t.commonObjs.resolve(N,D)});break;case"FontPath":case"Image":t.commonObjs.resolve(N,Y);break;default:throw new Error("Got unknown common object type ".concat(B))}}),r.on("obj",function(u){var y=_slicedToArray(u,4),w=y[0],N=y[1],B=y[2],Y=y[3];if(!t.destroyed){var O=_classPrivateFieldGet(t,_pageCache).get(N);if(!O.objs.has(w))switch(B){case"Image":var _,s;O.objs.resolve(w,Y),Y&&(Y.bitmap?(_=Y.width*Y.height*4,O._bitmaps.add(Y.bitmap)):_=(null===(s=Y.data)||void 0===s?void 0:s.length)||0,_>8e6&&(O.cleanupAfterRender=!0));break;case"Pattern":O.objs.resolve(w,Y);break;default:throw new Error("Got unknown object type ".concat(B))}}}),r.on("DocProgress",function(u){var y;t.destroyed||null===(y=o.onProgress)||void 0===y||y.call(o,{loaded:u.loaded,total:u.total})}),r.on("DocStats",function(u){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(u.streamTypes),fontTypes:Object.freeze(u.fontTypes)}))}),r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),r.on("FetchBuiltInCMap",function(u){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(u):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),r.on("FetchStandardFontData",function(u){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(u):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var r,o;this.destroyed||null===(r=(o=this.loadingTask).onUnsupportedFeature)||void 0===r||r.call(o,t.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var o=t-1,u=_classPrivateFieldGet(this,_pagePromises).get(o);if(u)return u;var y=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(function(w){if(r.destroyed)throw new Error("Transport destroyed");var N=new PDFPageProxy(o,w,r,r._params.ownerDocument,r._params.pdfBug);return _classPrivateFieldGet(r,_pageCache).set(o,N),N});return _classPrivateFieldGet(this,_pagePromises).set(o,y),y}},{key:"getPageIndex",value:function(t){return"object"!==_typeof(t)||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}},{key:"getAnnotations",value:function(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"saveDocument",value:function(){var t,r,o=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(r=this._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null}).finally(function(){o.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(r){var o,u,y,w;return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:null!==(o=null===(u=t._fullReader)||void 0===u?void 0:u.filename)&&void 0!==o?o:null,contentLength:null!==(y=null===(w=t._fullReader)||void 0===w?void 0:w.contentLength)&&void 0!==y?y:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){var o,u,y,w,B=arguments;return _regenerator.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=B.length>0&&void 0!==B[0]&&B[0],O.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){O.next=5;break}return O.abrupt("return");case 5:u=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),O.prev=6,u.s();case 8:if((y=u.n()).done){O.next=15;break}if((w=y.value).cleanup()){O.next=13;break}throw new Error("startCleanup: Page ".concat(w.pageNumber," is currently rendering."));case 13:O.next=8;break;case 15:O.next=20;break;case 17:O.prev=17,O.t0=O.catch(6),u.e(O.t0);case 20:return O.prev=20,u.f(),O.finish(20);case 23:this.commonObjs.clear(),o||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return O.stop()}},r,this,[[6,17,20,23]])})),function t(){return i.apply(this,arguments)})},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),p;var i}(),_objs=new WeakMap,_ensureObj=new WeakSet,PDFObjects=function(){function p(){_classCallCheck(this,p),_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}return _createClass(p,[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r){var o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);return o.capability.promise.then(function(){return r(o.data)}),null}var u=_classPrivateFieldGet(this,_objs)[t];if(null==u||!u.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return u.data}},{key:"has",value:function(t){return _classPrivateFieldGet(this,_objs)[t]?.capability.settled||!1}},{key:"resolve",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);o.data=r,o.capability.resolve()}},{key:"clear",value:function(){_classPrivateFieldSet(this,_objs,Object.create(null))}}]),p}();function _ensureObj2(p){return _classPrivateFieldGet(this,_objs)[p]||(_classPrivateFieldGet(this,_objs)[p]={capability:(0,_util.createPromiseCapability)(),data:null})}var RenderTask=function(){function p(i){_classCallCheck(this,p),this._internalRenderTask=i,this.onContinue=null}return _createClass(p,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),p}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function p(i){var t=i.callback,r=i.params,o=i.objs,u=i.commonObjs,y=i.annotationCanvasMap,w=i.operatorList,N=i.pageIndex,B=i.canvasFactory,Y=i.useRequestAnimationFrame,O=void 0!==Y&&Y,k=i.pdfBug,_=void 0!==k&&k,D=i.pageColors,M=void 0===D?null:D;_classCallCheck(this,p),this.callback=t,this.params=r,this.objs=o,this.commonObjs=u,this.annotationCanvasMap=y,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=N,this.canvasFactory=B,this._pdfBug=_,this.pageColors=M,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===O&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(p,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var r,o=t.transparency,u=void 0!==o&&o,y=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(p,p,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(p,p,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(r=globalThis.StepperManager)&&void 0!==r&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var w=this.params,B=w.viewport,Y=w.transform,k=w.background;this.gfx=new _canvas.CanvasGraphics(w.canvasContext,this.commonObjs,this.objs,this.canvasFactory,w.imageLayer,y,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Y,viewport:B,transparency:u,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(p,p,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(i=_asyncToGenerator(_regenerator.default.mark(function r(){return _regenerator.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.cancelled){u.next=2;break}return u.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(p,p,_canvasInUse).delete(this._canvas),this.callback()));case 4:case"end":return u.stop()}},r,this)})),function t(){return i.apply(this,arguments)})}]),p;var i}(),_canvasInUse={writable:!0,value:new WeakSet},version="2.14.305";exports.version=version;var build="eaaa8b4ad";exports.build=build},(p,i,t)=>{"use strict";p.exports=t(157)},(p,i,t)=>{"use strict";function r(u){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(u)}var o=function(u){var N,y=Object.prototype,w=y.hasOwnProperty,B="function"==typeof Symbol?Symbol:{},Y=B.iterator||"@@iterator",O=B.asyncIterator||"@@asyncIterator",k=B.toStringTag||"@@toStringTag";function _(c,v,x){return Object.defineProperty(c,v,{value:x,enumerable:!0,configurable:!0,writable:!0}),c[v]}try{_({},"")}catch{_=function(x,G,ie){return x[G]=ie}}function D(c,v,x,G){var ye=Object.create((v&&v.prototype instanceof R?v:R).prototype),ne=new V(G||[]);return ye._invoke=function z(c,v,x){var G=L;return function(ye,ne){if(G===a)throw new Error("Generator is already running");if(G===f){if("throw"===ye)throw ne;return re()}for(x.method=ye,x.arg=ne;;){var Ee=x.delegate;if(Ee){var pe=ee(Ee,x);if(pe){if(pe===d)continue;return pe}}if("next"===x.method)x.sent=x._sent=x.arg;else if("throw"===x.method){if(G===L)throw G=f,x.arg;x.dispatchException(x.arg)}else"return"===x.method&&x.abrupt("return",x.arg);G=a;var _e=M(c,v,x);if("normal"===_e.type){if(G=x.done?f:s,_e.arg===d)continue;return{value:_e.arg,done:x.done}}"throw"===_e.type&&(G=f,x.method="throw",x.arg=_e.arg)}}}(c,x,ne),ye}function M(c,v,x){try{return{type:"normal",arg:c.call(v,x)}}catch(G){return{type:"throw",arg:G}}}u.wrap=D;var L="suspendedStart",s="suspendedYield",a="executing",f="completed",d={};function R(){}function h(){}function C(){}var m={};_(m,Y,function(){return this});var l=Object.getPrototypeOf,b=l&&l(l(te([])));b&&b!==y&&w.call(b,Y)&&(m=b);var P=C.prototype=R.prototype=Object.create(m);function g(c){["next","throw","return"].forEach(function(v){_(c,v,function(x){return this._invoke(v,x)})})}function F(c,v){function x(ye,ne,Ee,pe){var _e=M(c[ye],c,ne);if("throw"!==_e.type){var he=_e.arg,Ae=he.value;return Ae&&"object"===r(Ae)&&w.call(Ae,"__await")?v.resolve(Ae.__await).then(function(Pe){x("next",Pe,Ee,pe)},function(Pe){x("throw",Pe,Ee,pe)}):v.resolve(Ae).then(function(Pe){he.value=Pe,Ee(he)},function(Pe){return x("throw",Pe,Ee,pe)})}pe(_e.arg)}var G;this._invoke=function ie(ye,ne){function Ee(){return new v(function(pe,_e){x(ye,ne,pe,_e)})}return G=G?G.then(Ee,Ee):Ee()}}function ee(c,v){var x=c.iterator[v.method];if(x===N){if(v.delegate=null,"throw"===v.method){if(c.iterator.return&&(v.method="return",v.arg=N,ee(c,v),"throw"===v.method))return d;v.method="throw",v.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var G=M(x,c.iterator,v.arg);if("throw"===G.type)return v.method="throw",v.arg=G.arg,v.delegate=null,d;var ie=G.arg;return ie?ie.done?(v[c.resultName]=ie.value,v.next=c.nextLoc,"return"!==v.method&&(v.method="next",v.arg=N),v.delegate=null,d):ie:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,d)}function Q(c){var v={tryLoc:c[0]};1 in c&&(v.catchLoc=c[1]),2 in c&&(v.finallyLoc=c[2],v.afterLoc=c[3]),this.tryEntries.push(v)}function oe(c){var v=c.completion||{};v.type="normal",delete v.arg,c.completion=v}function V(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(Q,this),this.reset(!0)}function te(c){if(c){var v=c[Y];if(v)return v.call(c);if("function"==typeof c.next)return c;if(!isNaN(c.length)){var x=-1,G=function ie(){for(;++x<c.length;)if(w.call(c,x))return ie.value=c[x],ie.done=!1,ie;return ie.value=N,ie.done=!0,ie};return G.next=G}}return{next:re}}function re(){return{value:N,done:!0}}return h.prototype=C,_(P,"constructor",C),_(C,"constructor",h),h.displayName=_(C,k,"GeneratorFunction"),u.isGeneratorFunction=function(c){var v="function"==typeof c&&c.constructor;return!!v&&(v===h||"GeneratorFunction"===(v.displayName||v.name))},u.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,C):(c.__proto__=C,_(c,k,"GeneratorFunction")),c.prototype=Object.create(P),c},u.awrap=function(c){return{__await:c}},g(F.prototype),_(F.prototype,O,function(){return this}),u.AsyncIterator=F,u.async=function(c,v,x,G,ie){void 0===ie&&(ie=Promise);var ye=new F(D(c,v,x,G),ie);return u.isGeneratorFunction(v)?ye:ye.next().then(function(ne){return ne.done?ne.value:ye.next()})},g(P),_(P,k,"Generator"),_(P,Y,function(){return this}),_(P,"toString",function(){return"[object Generator]"}),u.keys=function(c){var v=[];for(var x in c)v.push(x);return v.reverse(),function G(){for(;v.length;){var ie=v.pop();if(ie in c)return G.value=ie,G.done=!1,G}return G.done=!0,G}},u.values=te,V.prototype={constructor:V,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=N,this.done=!1,this.delegate=null,this.method="next",this.arg=N,this.tryEntries.forEach(oe),!v)for(var x in this)"t"===x.charAt(0)&&w.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=N)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if("throw"===x.type)throw x.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var x=this;function G(_e,he){return ne.type="throw",ne.arg=v,x.next=_e,he&&(x.method="next",x.arg=N),!!he}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ye=this.tryEntries[ie],ne=ye.completion;if("root"===ye.tryLoc)return G("end");if(ye.tryLoc<=this.prev){var Ee=w.call(ye,"catchLoc"),pe=w.call(ye,"finallyLoc");if(Ee&&pe){if(this.prev<ye.catchLoc)return G(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return G(ye.finallyLoc)}else if(Ee){if(this.prev<ye.catchLoc)return G(ye.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<ye.finallyLoc)return G(ye.finallyLoc)}}}},abrupt:function(v,x){for(var G=this.tryEntries.length-1;G>=0;--G){var ie=this.tryEntries[G];if(ie.tryLoc<=this.prev&&w.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ye=ie;break}}ye&&("break"===v||"continue"===v)&&ye.tryLoc<=x&&x<=ye.finallyLoc&&(ye=null);var ne=ye?ye.completion:{};return ne.type=v,ne.arg=x,ye?(this.method="next",this.next=ye.finallyLoc,d):this.complete(ne)},complete:function(v,x){if("throw"===v.type)throw v.arg;return"break"===v.type||"continue"===v.type?this.next=v.arg:"return"===v.type?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):"normal"===v.type&&x&&(this.next=x),d},finish:function(v){for(var x=this.tryEntries.length-1;x>=0;--x){var G=this.tryEntries[x];if(G.finallyLoc===v)return this.complete(G.completion,G.afterLoc),oe(G),d}},catch:function(v){for(var x=this.tryEntries.length-1;x>=0;--x){var G=this.tryEntries[x];if(G.tryLoc===v){var ie=G.completion;if("throw"===ie.type){var ye=ie.arg;oe(G)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(v,x,G){return this.delegate={iterator:te(v),resultName:x,nextLoc:G},"next"===this.method&&(this.arg=N),d}},u}("object"===r(p=t.nmd(p))?p.exports:{});try{regeneratorRuntime=o}catch{"object"===(typeof globalThis>"u"?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},(p,i,t)=>{"use strict";function r(pe){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(pe)}Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=function ie(pe){console.log("Deprecated API usage: "+pe)},i.getFilenameFromUrl=function re(pe){var _e=pe.indexOf("#"),he=pe.indexOf("?"),Ae=Math.min(_e>0?_e:pe.length,he>0?he:pe.length);return pe.substring(pe.lastIndexOf("/",Ae)+1,Ae)},i.getPdfFilenameFromUrl=function c(pe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof pe)return _e;if(V(pe))return(0,y.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),_e;var Ae=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(pe),Oe=Ae.exec(Pe[1])||Ae.exec(Pe[2])||Ae.exec(Pe[3]);if(Oe&&(Oe=Oe[0]).includes("%"))try{Oe=Ae.exec(decodeURIComponent(Oe))[0]}catch{}return Oe||_e},i.getXfaPageViewport=function Ee(pe,_e){var he=_e.scale,Ae=void 0===he?1:he,Pe=_e.rotation,Oe=void 0===Pe?0:Pe,Te=pe.attributes.style,Me=Te.height,j=[0,0,parseInt(Te.width),parseInt(Me)];return new Q({viewBox:j,scale:Ae,rotation:Oe})},i.isDataScheme=V,i.isPdfFile=function te(pe){return"string"==typeof pe&&/\.pdf$/i.test(pe)},i.isValidFetchUrl=x,i.loadScript=function G(pe){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(he,Ae){var Pe=document.createElement("script");Pe.src=pe,Pe.onload=function(Oe){_e&&Pe.remove(),he(Oe)},Pe.onerror=function(){Ae(new Error("Cannot load script at: ".concat(Pe.src)))},(document.head||document.documentElement).appendChild(Pe)})};var o=function w(pe){return pe&&pe.__esModule?pe:{default:pe}}(t(156)),u=t(159),y=t(1);function N(pe,_e){var he=typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(!he){if(Array.isArray(pe)||(he=function B(pe,_e){if(pe){if("string"==typeof pe)return Y(pe,_e);var he=Object.prototype.toString.call(pe).slice(8,-1);if("Object"===he&&pe.constructor&&(he=pe.constructor.name),"Map"===he||"Set"===he)return Array.from(pe);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return Y(pe,_e)}}(pe))||_e&&pe&&"number"==typeof pe.length){he&&(pe=he);var Ae=0,Pe=function(){};return{s:Pe,n:function(){return Ae>=pe.length?{done:!0}:{done:!1,value:pe[Ae++]}},e:function(j){throw j},f:Pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,Oe=!0,Te=!1;return{s:function(){he=he.call(pe)},n:function(){var j=he.next();return Oe=j.done,j},e:function(j){Te=!0,Ie=j},f:function(){try{!Oe&&null!=he.return&&he.return()}finally{if(Te)throw Ie}}}}function Y(pe,_e){(null==_e||_e>pe.length)&&(_e=pe.length);for(var he=0,Ae=new Array(_e);he<_e;he++)Ae[he]=pe[he];return Ae}function O(pe,_e,he,Ae,Pe,Oe,Te){try{var Ie=pe[Oe](Te),Me=Ie.value}catch(j){return void he(j)}Ie.done?_e(Me):Promise.resolve(Me).then(Ae,Pe)}function _(pe,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),Object.defineProperty(pe,"prototype",{writable:!1}),_e&&D(pe,_e)}function D(pe,_e){return(D=Object.setPrototypeOf||function(Ae,Pe){return Ae.__proto__=Pe,Ae})(pe,_e)}function M(pe){var _e=function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Pe,Ae=f(pe);if(_e){var Oe=f(this).constructor;Pe=Reflect.construct(Ae,arguments,Oe)}else Pe=Ae.apply(this,arguments);return function L(pe,_e){if(_e&&("object"===r(_e)||"function"==typeof _e))return _e;if(void 0!==_e)throw new TypeError("Derived constructors may only return object or undefined");return function s(pe){if(void 0===pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(pe)}(this,Pe)}}function f(pe){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)})(pe)}function d(pe,_e){for(var he=0;he<_e.length;he++){var Ae=_e[he];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(pe,Ae.key,Ae)}}function R(pe,_e,he){return _e&&d(pe.prototype,_e),he&&d(pe,he),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function h(pe,_e){if(!(pe instanceof _e))throw new TypeError("Cannot call a class as a function")}function C(pe,_e,he){return _e in pe?Object.defineProperty(pe,_e,{value:he,enumerable:!0,configurable:!0,writable:!0}):pe[_e]=he,pe}var l=R(function pe(){h(this,pe)});i.PixelsPerInch=l,C(l,"CSS",96),C(l,"PDF",72),C(l,"PDF_TO_CSS_UNITS",l.CSS/l.PDF);var b=function(pe){_(he,pe);var _e=M(he);function he(){var Ae,Oe=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,Te=void 0===Oe?globalThis.document:Oe;return h(this,he),(Ae=_e.call(this))._document=Te,Ae}return R(he,[{key:"_createCanvas",value:function(Pe,Oe){var Te=this._document.createElement("canvas");return Te.width=Pe,Te.height=Oe,Te}}]),he}(u.BaseCanvasFactory);function P(pe){return g.apply(this,arguments)}function g(){return g=function k(pe){return function(){var _e=this,he=arguments;return new Promise(function(Ae,Pe){var Oe=pe.apply(_e,he);function Te(Me){O(Oe,Ae,Pe,Te,Ie,"next",Me)}function Ie(Me){O(Oe,Ae,Pe,Te,Ie,"throw",Me)}Te(void 0)})}}(o.default.mark(function pe(_e){var he,Ae,Pe=arguments;return o.default.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(he=Pe.length>1&&void 0!==Pe[1]&&Pe[1],!x(_e,document.baseURI)){Te.next=21;break}return Te.next=4,fetch(_e);case 4:if((Ae=Te.sent).ok){Te.next=7;break}throw new Error(Ae.statusText);case 7:if(!he){Te.next=15;break}return Te.t1=Uint8Array,Te.next=11,Ae.arrayBuffer();case 11:Te.t2=Te.sent,Te.t0=new Te.t1(Te.t2),Te.next=20;break;case 15:return Te.t3=y.stringToBytes,Te.next=18,Ae.text();case 18:Te.t4=Te.sent,Te.t0=(0,Te.t3)(Te.t4);case 20:return Te.abrupt("return",Te.t0);case 21:return Te.abrupt("return",new Promise(function(Ie,Me){var j=new XMLHttpRequest;j.open("GET",_e,!0),he&&(j.responseType="arraybuffer"),j.onreadystatechange=function(){if(j.readyState===XMLHttpRequest.DONE){var ae;if((200===j.status||0===j.status)&&(he&&j.response?ae=new Uint8Array(j.response):!he&&j.responseText&&(ae=(0,y.stringToBytes)(j.responseText)),ae))return void Ie(ae);Me(new Error(j.statusText))}},j.send(null)}));case 22:case"end":return Te.stop()}},pe)})),g.apply(this,arguments)}i.DOMCanvasFactory=b;var F=function(pe){_(he,pe);var _e=M(he);function he(){return h(this,he),_e.apply(this,arguments)}return R(he,[{key:"_fetchData",value:function(Pe,Oe){return P(Pe,this.isCompressed).then(function(Te){return{cMapData:Te,compressionType:Oe}})}}]),he}(u.BaseCMapReaderFactory);i.DOMCMapReaderFactory=F;var z=function(pe){_(he,pe);var _e=M(he);function he(){return h(this,he),_e.apply(this,arguments)}return R(he,[{key:"_fetchData",value:function(Pe){return P(Pe,!0)}}]),he}(u.BaseStandardFontDataFactory);i.DOMStandardFontDataFactory=z;var ee=function(pe){_(he,pe);var _e=M(he);function he(){return h(this,he),_e.apply(this,arguments)}return R(he,[{key:"_createSVG",value:function(Pe){return document.createElementNS("http://www.w3.org/2000/svg",Pe)}}]),he}(u.BaseSVGFactory);i.DOMSVGFactory=ee;var ye,Q=function(){function pe(_e){var he=_e.viewBox,Ae=_e.scale,Pe=_e.rotation,Oe=_e.offsetX,Te=void 0===Oe?0:Oe,Ie=_e.offsetY,Me=void 0===Ie?0:Ie,j=_e.dontFlip,ae=void 0!==j&&j;h(this,pe),this.viewBox=he,this.scale=Ae,this.rotation=Pe,this.offsetX=Te,this.offsetY=Me;var $,J,Z,le,fe,se,ke,ge,E=(he[2]+he[0])/2,A=(he[3]+he[1])/2;switch((Pe%=360)<0&&(Pe+=360),Pe){case 180:$=-1,J=0,Z=0,le=1;break;case 90:$=0,J=1,Z=1,le=0;break;case 270:$=0,J=-1,Z=-1,le=0;break;case 0:$=1,J=0,Z=0,le=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ae&&(Z=-Z,le=-le),0===$?(fe=Math.abs(A-he[1])*Ae+Te,se=Math.abs(E-he[0])*Ae+Me,ke=Math.abs(he[3]-he[1])*Ae,ge=Math.abs(he[2]-he[0])*Ae):(fe=Math.abs(E-he[0])*Ae+Te,se=Math.abs(A-he[1])*Ae+Me,ke=Math.abs(he[2]-he[0])*Ae,ge=Math.abs(he[3]-he[1])*Ae),this.transform=[$*Ae,J*Ae,Z*Ae,le*Ae,fe-$*Ae*E-Z*Ae*A,se-J*Ae*E-le*Ae*A],this.width=ke,this.height=ge}return R(pe,[{key:"clone",value:function(){var he=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ae=he.scale,Pe=void 0===Ae?this.scale:Ae,Oe=he.rotation,Te=void 0===Oe?this.rotation:Oe,Ie=he.offsetX,Me=void 0===Ie?this.offsetX:Ie,j=he.offsetY,ae=void 0===j?this.offsetY:j,E=he.dontFlip,A=void 0!==E&&E;return new pe({viewBox:this.viewBox.slice(),scale:Pe,rotation:Te,offsetX:Me,offsetY:ae,dontFlip:A})}},{key:"convertToViewportPoint",value:function(he,Ae){return y.Util.applyTransform([he,Ae],this.transform)}},{key:"convertToViewportRectangle",value:function(he){var Ae=y.Util.applyTransform([he[0],he[1]],this.transform),Pe=y.Util.applyTransform([he[2],he[3]],this.transform);return[Ae[0],Ae[1],Pe[0],Pe[1]]}},{key:"convertToPdfPoint",value:function(he,Ae){return y.Util.applyInverseTransform([he,Ae],this.transform)}}]),pe}();function V(pe){for(var _e=pe.length,he=0;he<_e&&""===pe[he].trim();)he++;return"data:"===pe.substring(he,he+5).toLowerCase()}function x(pe,_e){try{var Ae=(_e?new URL(pe,_e):new URL(pe)).protocol;return"http:"===Ae||"https:"===Ae}catch{return!1}}i.PageViewport=Q,i.RenderingCancelledException=function(pe){_(he,pe);var _e=M(he);function he(Ae,Pe){var Oe;return h(this,he),(Oe=_e.call(this,Ae,"RenderingCancelledException")).type=Pe,Oe}return R(he)}(y.BaseException),i.StatTimer=function(){function pe(){h(this,pe),this.started=Object.create(null),this.times=[]}return R(pe,[{key:"time",value:function(he){he in this.started&&(0,y.warn)("Timer is already running for ".concat(he)),this.started[he]=Date.now()}},{key:"timeEnd",value:function(he){he in this.started||(0,y.warn)("Timer has not been started for ".concat(he)),this.times.push({name:he,start:this.started[he],end:Date.now()}),delete this.started[he]}},{key:"toString",value:function(){var Oe,he=[],Ae=0,Pe=N(this.times);try{for(Pe.s();!(Oe=Pe.n()).done;){var Ie=Oe.value.name;Ie.length>Ae&&(Ae=Ie.length)}}catch(A){Pe.e(A)}finally{Pe.f()}var j,Me=N(this.times);try{for(Me.s();!(j=Me.n()).done;){var ae=j.value,E=ae.end-ae.start;he.push("".concat(ae.name.padEnd(Ae)," ").concat(E,"ms\n"))}}catch(A){Me.e(A)}finally{Me.f()}return he.join("")}}]),pe}(),i.PDFDateString=function(){function pe(){h(this,pe)}return R(pe,null,[{key:"toDateObject",value:function(he){if(!he||"string"!=typeof he)return null;ye||(ye=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var Ae=ye.exec(he);if(!Ae)return null;var Pe=parseInt(Ae[1],10),Oe=parseInt(Ae[2],10);Oe=Oe>=1&&Oe<=12?Oe-1:0;var Te=parseInt(Ae[3],10);Te=Te>=1&&Te<=31?Te:1;var Ie=parseInt(Ae[4],10);Ie=Ie>=0&&Ie<=23?Ie:0;var Me=parseInt(Ae[5],10);Me=Me>=0&&Me<=59?Me:0;var j=parseInt(Ae[6],10);j=j>=0&&j<=59?j:0;var ae=Ae[7]||"Z",E=parseInt(Ae[8],10);E=E>=0&&E<=23?E:0;var A=parseInt(Ae[9],10)||0;return A=A>=0&&A<=59?A:0,"-"===ae?(Ie+=E,Me+=A):"+"===ae&&(Ie-=E,Me-=A),new Date(Date.UTC(Pe,Oe,Te,Ie,Me,j))}}]),pe}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var r=function u(M){return M&&M.__esModule?M:{default:M}}(t(156)),o=t(1);function y(M,L,s,a,f,d,R){try{var h=M[d](R),C=h.value}catch(m){return void s(m)}h.done?L(C):Promise.resolve(C).then(a,f)}function w(M){return function(){var L=this,s=arguments;return new Promise(function(a,f){var d=M.apply(L,s);function R(C){y(d,a,f,R,h,"next",C)}function h(C){y(d,a,f,R,h,"throw",C)}R(void 0)})}}function N(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function B(M,L){for(var s=0;s<L.length;s++){var a=L[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(M,a.key,a)}}function Y(M,L,s){return L&&B(M.prototype,L),s&&B(M,s),Object.defineProperty(M,"prototype",{writable:!1}),M}i.BaseCanvasFactory=function(){function M(){N(this,M),this.constructor===M&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return Y(M,[{key:"create",value:function(s,a){if(s<=0||a<=0)throw new Error("Invalid canvas size");var f=this._createCanvas(s,a);return{canvas:f,context:f.getContext("2d")}}},{key:"reset",value:function(s,a,f){if(!s.canvas)throw new Error("Canvas is not specified");if(a<=0||f<=0)throw new Error("Invalid canvas size");s.canvas.width=a,s.canvas.height=f}},{key:"destroy",value:function(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}},{key:"_createCanvas",value:function(s,a){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}]),M}();var k=function(){function M(L){var s=L.baseUrl,a=void 0===s?null:s,f=L.isCompressed,d=void 0!==f&&f;N(this,M),this.constructor===M&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=d}return Y(M,[{key:"fetch",value:(L=w(r.default.mark(function a(f){var R,h,d=this;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R=f.name,this.baseUrl){l.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(R){l.next=5;break}throw new Error("CMap name must be specified.");case 5:return l.abrupt("return",this._fetchData(h=this.baseUrl+R+(this.isCompressed?".bcmap":""),this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE).catch(function(b){throw new Error("Unable to load ".concat(d.isCompressed?"binary ":"","CMap at: ").concat(h))}));case 8:case"end":return l.stop()}},a,this)})),function s(a){return L.apply(this,arguments)})},{key:"_fetchData",value:function(s,a){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),M;var L}();i.BaseCMapReaderFactory=k;var _=function(){function M(L){var s=L.baseUrl,a=void 0===s?null:s;N(this,M),this.constructor===M&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}return Y(M,[{key:"fetch",value:(L=w(r.default.mark(function a(f){var d,R;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(d=f.filename,this.baseUrl){C.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(d){C.next=5;break}throw new Error("Font filename must be specified.");case 5:return R="".concat(this.baseUrl).concat(d),C.abrupt("return",this._fetchData(R).catch(function(m){throw new Error("Unable to load font data at: ".concat(R))}));case 7:case"end":return C.stop()}},a,this)})),function s(a){return L.apply(this,arguments)})},{key:"_fetchData",value:function(s){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),M;var L}();i.BaseStandardFontDataFactory=_,i.BaseSVGFactory=function(){function M(){N(this,M),this.constructor===M&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}return Y(M,[{key:"create",value:function(s,a){if(s<=0||a<=0)throw new Error("Invalid SVG dimensions");var f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width","".concat(s,"px")),f.setAttribute("height","".concat(a,"px")),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox","0 0 ".concat(s," ").concat(a)),f}},{key:"createElement",value:function(s){if("string"!=typeof s)throw new Error("Invalid SVG element type");return this._createSVG(s)}},{key:"_createSVG",value:function(s){(0,o.unreachable)("Abstract method `_createSVG` called.")}}]),M}()},(p,i,t)=>{"use strict";function r(l){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(l)}Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=function y(l){return l&&l.__esModule?l:{default:l}}(t(156)),u=t(1);function N(l,b){return(N=Object.setPrototypeOf||function(g,F){return g.__proto__=F,g})(l,b)}function _(l){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(l)}function D(l,b,P,g,F,z,ee){try{var Q=l[z](ee),oe=Q.value}catch(V){return void P(V)}Q.done?b(oe):Promise.resolve(oe).then(g,F)}function L(l,b){var P=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!P){if(Array.isArray(l)||(P=function s(l,b){if(l){if("string"==typeof l)return a(l,b);var P=Object.prototype.toString.call(l).slice(8,-1);if("Object"===P&&l.constructor&&(P=l.constructor.name),"Map"===P||"Set"===P)return Array.from(l);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return a(l,b)}}(l))||b&&l&&"number"==typeof l.length){P&&(l=P);var g=0,F=function(){};return{s:F,n:function(){return g>=l.length?{done:!0}:{done:!1,value:l[g++]}},e:function(V){throw V},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,z=!0,ee=!1;return{s:function(){P=P.call(l)},n:function(){var V=P.next();return z=V.done,V},e:function(V){ee=!0,Q=V},f:function(){try{!z&&null!=P.return&&P.return()}finally{if(ee)throw Q}}}}function a(l,b){(null==b||b>l.length)&&(b=l.length);for(var P=0,g=new Array(b);P<b;P++)g[P]=l[P];return g}function f(l,b){if(!(l instanceof b))throw new TypeError("Cannot call a class as a function")}function d(l,b){for(var P=0;P<b.length;P++){var g=b[P];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}function R(l,b,P){return b&&d(l.prototype,b),P&&d(l,P),Object.defineProperty(l,"prototype",{writable:!1}),l}var C,h=function(){function l(b){var P=b.docId,g=b.onUnsupportedFeature,F=b.ownerDocument,z=void 0===F?globalThis.document:F;f(this,l),this.constructor===l&&(0,u.unreachable)("Cannot initialize BaseFontLoader."),this.docId=P,this._onUnsupportedFeature=g,this._document=z,this.nativeFontFaces=[],this.styleElement=null}return R(l,[{key:"addNativeFontFace",value:function(P){this.nativeFontFaces.push(P),this._document.fonts.add(P)}},{key:"insertRule",value:function(P){var g=this.styleElement;g||((g=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(g));var F=g.sheet;F.insertRule(P,F.cssRules.length)}},{key:"clear",value:function(){var g,P=L(this.nativeFontFaces);try{for(P.s();!(g=P.n()).done;)this._document.fonts.delete(g.value)}catch(z){P.e(z)}finally{P.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(b=function M(l){return function(){var b=this,P=arguments;return new Promise(function(g,F){var z=l.apply(b,P);function ee(oe){D(z,g,F,ee,Q,"next",oe)}function Q(oe){D(z,g,F,ee,Q,"throw",oe)}ee(void 0)})}}(o.default.mark(function g(F){var ee,Q,z=this;return o.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!F.attached&&!F.missingFile){V.next=2;break}return V.abrupt("return");case 2:if(F.attached=!0,!this.isFontLoadingAPISupported){V.next=19;break}if(!(ee=F.createNativeFontFace())){V.next=18;break}return this.addNativeFontFace(ee),V.prev=7,V.next=10,ee.loaded;case 10:V.next=18;break;case 12:throw V.prev=12,V.t0=V.catch(7),this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,u.warn)("Failed to load font '".concat(ee.family,"': '").concat(V.t0,"'.")),F.disableFontFace=!0,V.t0;case 18:return V.abrupt("return");case 19:if(!(Q=F.createFontFaceRule())){V.next=26;break}if(this.insertRule(Q),!this.isSyncFontLoadingSupported){V.next=24;break}return V.abrupt("return");case 24:return V.next=26,new Promise(function(te){var re=z._queueLoadingCallback(te);z._prepareFontLoadEvent([Q],[F],re)});case 26:case"end":return V.stop()}},g,this,[[7,12]])})),function P(g){return b.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(P){(0,u.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var P,g=!(null===(P=this._document)||void 0===P||!P.fonts);return(0,u.shadow)(this,"isFontLoadingAPISupported",g)}},{key:"isSyncFontLoadingSupported",get:function(){(0,u.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,u.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(P,g,F){(0,u.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),l;var b}();i.FontLoader=C,i.FontLoader=C=function(l){!function w(l,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(b&&b.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),b&&N(l,b)}(P,l);var b=function B(l){var b=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,g=_(l);if(b){var z=_(this).constructor;F=Reflect.construct(g,arguments,z)}else F=g.apply(this,arguments);return function Y(l,b){if(b&&("object"===r(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return function O(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l)}(this,F)}}(P);function P(g){var F;return f(this,P),(F=b.call(this,g)).loadingContext={requests:[],nextRequestId:0},F.loadTestFontId=0,F}return R(P,[{key:"isSyncFontLoadingSupported",get:function(){var F=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(F=!0),(0,u.shadow)(this,"isSyncFontLoadingSupported",F)}},{key:"_queueLoadingCallback",value:function(F){var ee=this.loadingContext,Q={id:"pdfjs-font-loading-".concat(ee.nextRequestId++),done:!1,complete:function z(){for((0,u.assert)(!Q.done,"completeRequest() cannot be called twice."),Q.done=!0;ee.requests.length>0&&ee.requests[0].done;){var oe=ee.requests.shift();setTimeout(oe.callback,0)}},callback:F};return ee.requests.push(Q),Q}},{key:"_loadTestFont",get:function(){return(0,u.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(F,z,ee){function Q(A,$){return A.charCodeAt($)<<24|A.charCodeAt($+1)<<16|A.charCodeAt($+2)<<8|255&A.charCodeAt($+3)}function oe(A,$,J,Z){return A.substring(0,$)+Z+A.substring($+J)}var V,te,re=this._document.createElement("canvas");re.width=1,re.height=1;var c=re.getContext("2d"),v=0,G="lt".concat(Date.now()).concat(this.loadTestFontId++),ie=this._loadTestFont,Ee=1482184792,pe=Q(ie=oe(ie,976,G.length,G),16);for(V=0,te=G.length-3;V<te;V+=4)pe=pe-Ee+Q(G,V)|0;V<G.length&&(pe=pe-Ee+Q(G+"XXX",V)|0),ie=oe(ie,16,4,(0,u.string32)(pe));var _e="url(data:font/opentype;base64,".concat(btoa(ie),");"),he='@font-face {font-family:"'.concat(G,'";src:').concat(_e,"}");this.insertRule(he);var Oe,Ae=[],Pe=L(z);try{for(Pe.s();!(Oe=Pe.n()).done;)Ae.push(Oe.value.loadedName)}catch(A){Pe.e(A)}finally{Pe.f()}Ae.push(G);var Ie=this._document.createElement("div");Ie.style.visibility="hidden",Ie.style.width=Ie.style.height="10px",Ie.style.position="absolute",Ie.style.top=Ie.style.left="0px";for(var Me=0,j=Ae;Me<j.length;Me++){var ae=j[Me],E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=ae,Ie.appendChild(E)}this._document.body.appendChild(Ie),function x(A,$){if(++v>30)return(0,u.warn)("Load test font never loaded."),void $();c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?$():setTimeout(x.bind(null,A,$))}(G,function(){Ie.remove(),ee.complete()})}}]),P}(h),i.FontFaceObject=function(){function l(b,P){var g=P.isEvalSupported,F=void 0===g||g,z=P.disableFontFace,ee=void 0!==z&&z,Q=P.ignoreErrors,oe=void 0!==Q&&Q,V=P.onUnsupportedFeature,te=P.fontRegistry,re=void 0===te?null:te;for(var c in f(this,l),this.compiledGlyphs=Object.create(null),b)this[c]=b[c];this.isEvalSupported=!1!==F,this.disableFontFace=!0===ee,this.ignoreErrors=!0===oe,this._onUnsupportedFeature=V,this.fontRegistry=re}return R(l,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var P;if(this.cssFontInfo){var g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),P=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}else P=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),P}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var F,P=(0,u.bytesToString)(this.data),g="url(data:".concat(this.mimetype,";base64,").concat(btoa(P),");");if(this.cssFontInfo){var z="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(z+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),F='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(z,"src:").concat(g,"}")}else F='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(g,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,g),F}},{key:"getPathGenerator",value:function(P,g){if(void 0!==this.compiledGlyphs[g])return this.compiledGlyphs[g];var F;try{F=P.get(this.loadedName+"_path_"+g)}catch(te){if(!this.ignoreErrors)throw te;return this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,u.warn)('getPathGenerator - ignoring character: "'.concat(te,'".')),this.compiledGlyphs[g]=function(re,c){}}if(this.isEvalSupported&&u.FeatureTest.isEvalSupported){var Q,z=[],ee=L(F);try{for(ee.s();!(Q=ee.n()).done;){var oe=Q.value,V=void 0!==oe.args?oe.args.join(","):"";z.push("c.",oe.cmd,"(",V,");\n")}}catch(te){ee.e(te)}finally{ee.f()}return this.compiledGlyphs[g]=new Function("c","size",z.join(""))}return this.compiledGlyphs[g]=function(te,re){var v,c=L(F);try{for(c.s();!(v=c.n()).done;){var x=v.value;"scale"===x.cmd&&(x.args=[re,-re]),te[x.cmd].apply(te,x.args)}}catch(G){c.e(G)}finally{c.f()}}}}]),l}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationStorage=void 0;var r=t(162),o=t(1);function y(L,s){return function O(L){if(Array.isArray(L))return L}(L)||function Y(L,s){var a=null==L?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(null!=a){var h,C,f=[],d=!0,R=!1;try{for(a=a.call(L);!(d=(h=a.next()).done)&&(f.push(h.value),!s||f.length!==s);d=!0);}catch(m){R=!0,C=m}finally{try{!d&&null!=a.return&&a.return()}finally{if(R)throw C}}return f}}(L,s)||N(L,s)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(L,s){if(L){if("string"==typeof L)return B(L,s);var a=Object.prototype.toString.call(L).slice(8,-1);if("Object"===a&&L.constructor&&(a=L.constructor.name),"Map"===a||"Set"===a)return Array.from(L);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B(L,s)}}function B(L,s){(null==s||s>L.length)&&(s=L.length);for(var a=0,f=new Array(s);a<s;a++)f[a]=L[a];return f}function _(L,s){for(var a=0;a<s.length;a++){var f=s[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(L,f.key,f)}}i.AnnotationStorage=function(){function L(){(function k(L,s){if(!(L instanceof s))throw new TypeError("Cannot call a class as a function")})(this,L),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return function D(L,s,a){s&&_(L.prototype,s),a&&_(L,a),Object.defineProperty(L,"prototype",{writable:!1})}(L,[{key:"getValue",value:function(a,f){var d=this._storage.get(a);return void 0===d?f:Object.assign(f,d)}},{key:"getRawValue",value:function(a){return this._storage.get(a)}},{key:"setValue",value:function(a,f){var d=this._storage.get(a),R=!1;if(void 0!==d)for(var h=0,C=Object.entries(f);h<C.length;h++){var m=y(C[h],2),l=m[0],b=m[1];d[l]!==b&&(R=!0,d[l]=b)}else R=!0,this._storage.set(a,f);R&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"hash",get:function(){var d,a=new r.MurmurHash3_64,f=function u(L,s){var a=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!a){if(Array.isArray(L)||(a=N(L))||s&&L&&"number"==typeof L.length){a&&(L=a);var f=0,d=function(){};return{s:d,n:function(){return f>=L.length?{done:!0}:{done:!1,value:L[f++]}},e:function(l){throw l},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,R=!0,h=!1;return{s:function(){a=a.call(L)},n:function(){var l=a.next();return R=l.done,l},e:function(l){h=!0,C=l},f:function(){try{!R&&null!=a.return&&a.return()}finally{if(h)throw C}}}}(this._storage);try{for(f.s();!(d=f.n()).done;){var R=y(d.value,2),C=R[1];a.update("".concat(R[0],":").concat(JSON.stringify(C)))}}catch(m){f.e(m)}finally{f.f()}return a.hexdigest()}}]),L}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var r=t(1);function u(O,k){for(var _=0;_<k.length;_++){var D=k[_];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}var w=3285377520,N=4294901760,B=65535;i.MurmurHash3_64=function(){function O(k){(function o(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")})(this,O),this.h1=k?4294967295&k:w,this.h2=k?4294967295&k:w}return function y(O,k,_){k&&u(O.prototype,k),_&&u(O,_),Object.defineProperty(O,"prototype",{writable:!1})}(O,[{key:"update",value:function(_){var D,M;if("string"==typeof _){D=new Uint8Array(2*_.length),M=0;for(var L=0,s=_.length;L<s;L++){var a=_.charCodeAt(L);a<=255?D[M++]=a:(D[M++]=a>>>8,D[M++]=255&a)}}else{if(!(0,r.isArrayBuffer)(_))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");M=(D=_.slice()).byteLength}for(var f=M>>2,d=M-4*f,R=new Uint32Array(D.buffer,0,f),h=0,C=0,m=this.h1,l=this.h2,b=3432918353,P=461845907,g=b&B,F=P&B,z=0;z<f;z++)1&z?m=5*(m=(m^=h=(h=(h=(h=R[z])*b&N|h*g&B)<<15|h>>>17)*P&N|h*F&B)<<13|m>>>19)+3864292196:l=5*(l=(l^=C=(C=(C=(C=R[z])*b&N|C*g&B)<<15|C>>>17)*P&N|C*F&B)<<13|l>>>19)+3864292196;switch(h=0,d){case 3:h^=D[4*f+2]<<16;case 2:h^=D[4*f+1]<<8;case 1:h=(h=(h=(h^=D[4*f])*b&N|h*g&B)<<15|h>>>17)*P&N|h*F&B,1&f?m^=h:l^=h}this.h1=m,this.h2=l}},{key:"hexdigest",value:function(){var _=this.h1,D=this.h2;_=3981806797*(_^=D>>>1)&N|36045*_&B,_=444984403*(_^=(D=4283543511*D&N|(2950163797*(D<<16|_>>>16)&N)>>>16)>>>1)&N|60499*_&B;var M=((_^=(D=3301882366*D&N|(3120437893*(D<<16|_>>>16)&N)>>>16)>>>1)>>>0).toString(16),L=(D>>>0).toString(16);return M.padStart(8,"0")+L.padStart(8,"0")}}]),O}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var r=t(1),o=t(164),u=t(165),y=t(3),w=t(158);function k(j){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(j)}function _(j,ae){var E=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!E){if(Array.isArray(j)||(E=f(j))||ae&&j&&"number"==typeof j.length){E&&(j=E);var A=0,$=function(){};return{s:$,n:function(){return A>=j.length?{done:!0}:{done:!1,value:j[A++]}},e:function(se){throw se},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le,J=!0,Z=!1;return{s:function(){E=E.call(j)},n:function(){var se=E.next();return J=se.done,se},e:function(se){Z=!0,le=se},f:function(){try{!J&&null!=E.return&&E.return()}finally{if(Z)throw le}}}}function D(j,ae){if(!(j instanceof ae))throw new TypeError("Cannot call a class as a function")}function M(j,ae){for(var E=0;E<ae.length;E++){var A=ae[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}function L(j,ae,E){return ae&&M(j.prototype,ae),E&&M(j,E),Object.defineProperty(j,"prototype",{writable:!1}),j}function s(j,ae){return function h(j){if(Array.isArray(j))return j}(j)||function R(j,ae){var E=null==j?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(null!=E){var Z,le,A=[],$=!0,J=!1;try{for(E=E.call(j);!($=(Z=E.next()).done)&&(A.push(Z.value),!ae||A.length!==ae);$=!0);}catch(fe){J=!0,le=fe}finally{try{!$&&null!=E.return&&E.return()}finally{if(J)throw le}}return A}}(j,ae)||f(j,ae)||function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(j,ae){if(j){if("string"==typeof j)return d(j,ae);var E=Object.prototype.toString.call(j).slice(8,-1);if("Object"===E&&j.constructor&&(E=j.constructor.name),"Map"===E||"Set"===E)return Array.from(j);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return d(j,ae)}}function d(j,ae){(null==ae||ae>j.length)&&(ae=j.length);for(var E=0,A=new Array(ae);E<ae;E++)A[E]=j[E];return A}var l=4096,z=16,ee=1.000001;function oe(j){if(j._transformStack&&(j._transformStack=[]),!j.mozCurrentTransform){j._originalSave=j.save,j._originalRestore=j.restore,j._originalRotate=j.rotate,j._originalScale=j.scale,j._originalTranslate=j.translate,j._originalTransform=j.transform,j._originalSetTransform=j.setTransform,j._originalResetTransform=j.resetTransform,j._transformMatrix=j._transformMatrix||[1,0,0,1,0,0],j._transformStack=[];try{var ae=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(j),"lineWidth");j._setLineWidth=ae.set,j._getLineWidth=ae.get,Object.defineProperty(j,"lineWidth",{set:function(A){this._setLineWidth(A*ee)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(j,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(j,"mozCurrentTransformInverse",{get:function(){var A=s(this._transformMatrix,6),$=A[0],J=A[1],Z=A[2],le=A[3],fe=A[4],se=A[5],ke=$*le-J*Z,ge=J*Z-$*le;return[le/ke,J/ge,Z/ge,$/ke,(le*fe-Z*se)/ge,(J*fe-$*se)/ke]}}),j.save=function(){var A=this._transformMatrix;this._transformStack.push(A),this._transformMatrix=A.slice(0,6),this._originalSave()},j.restore=function(){0===this._transformStack.length&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");var A=this._transformStack.pop();A&&(this._transformMatrix=A,this._originalRestore())},j.translate=function(A,$){var J=this._transformMatrix;J[4]=J[0]*A+J[2]*$+J[4],J[5]=J[1]*A+J[3]*$+J[5],this._originalTranslate(A,$)},j.scale=function(A,$){var J=this._transformMatrix;J[0]*=A,J[1]*=A,J[2]*=$,J[3]*=$,this._originalScale(A,$)},j.transform=function(A,$,J,Z,le,fe){var se=this._transformMatrix;this._transformMatrix=[se[0]*A+se[2]*$,se[1]*A+se[3]*$,se[0]*J+se[2]*Z,se[1]*J+se[3]*Z,se[0]*le+se[2]*fe+se[4],se[1]*le+se[3]*fe+se[5]],j._originalTransform(A,$,J,Z,le,fe)},j.setTransform=function(A,$,J,Z,le,fe){this._transformMatrix=[A,$,J,Z,le,fe],j._originalSetTransform(A,$,J,Z,le,fe)},j.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],j._originalResetTransform()},j.rotate=function(A){var $=Math.cos(A),J=Math.sin(A),Z=this._transformMatrix;this._transformMatrix=[Z[0]*$+Z[2]*J,Z[1]*$+Z[3]*J,Z[0]*-J+Z[2]*$,Z[1]*-J+Z[3]*$,Z[4],Z[5]],this._originalRotate(A)}}}var V=function(){function j(ae){D(this,j),this.canvasFactory=ae,this.cache=Object.create(null)}return L(j,[{key:"getCanvas",value:function(E,A,$,J){var Z;return void 0!==this.cache[E]?(this.canvasFactory.reset(Z=this.cache[E],A,$),Z.context.setTransform(1,0,0,1,0,0)):(Z=this.canvasFactory.create(A,$),this.cache[E]=Z),J&&oe(Z.context),Z}},{key:"delete",value:function(E){delete this.cache[E]}},{key:"clear",value:function(){for(var E in this.cache)this.canvasFactory.destroy(this.cache[E]),delete this.cache[E]}}]),j}();function te(j,ae,E,A,$,J,Z,le,fe,se){var ke=s(j.mozCurrentTransform,6),ge=ke[0],T=ke[1],K=ke[2],I=ke[3],U=ke[4],W=ke[5];if(0===T&&0===K){var H=Math.round(Z*ge+U),Se=Math.round(le*I+W),Ce=Math.abs(Math.round((Z+fe)*ge+U)-H)||1,We=Math.abs(Math.round((le+se)*I+W)-Se)||1;return j.setTransform(Math.sign(ge),0,0,Math.sign(I),H,Se),j.drawImage(ae,E,A,$,J,0,0,Ce,We),j.setTransform(ge,T,K,I,U,W),[Ce,We]}if(0===ge&&0===I){var Be=Math.round(le*K+U),Le=Math.round(Z*T+W),Ge=Math.abs(Math.round((le+se)*K+U)-Be)||1,Ne=Math.abs(Math.round((Z+fe)*T+W)-Le)||1;return j.setTransform(0,Math.sign(T),Math.sign(K),0,Be,Le),j.drawImage(ae,E,A,$,J,0,0,Ne,Ge),j.setTransform(ge,T,K,I,U,W),[Ne,Ge]}return j.drawImage(ae,E,A,$,J,Z,le,fe,se),[Math.hypot(ge,T)*fe,Math.hypot(K,I)*se]}var c=function(){function j(ae,E){D(this,j),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ae,E])}return L(j,[{key:"clone",value:function(){var E=Object.create(this);return E.clipBox=this.clipBox.slice(),E}},{key:"setCurrentPoint",value:function(E,A){this.x=E,this.y=A}},{key:"updatePathMinMax",value:function(E,A,$){var Z=s(r.Util.applyTransform([A,$],E),2);A=Z[0],$=Z[1],this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,$),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,$)}},{key:"updateRectMinMax",value:function(E,A){var $=r.Util.applyTransform(A,E),J=r.Util.applyTransform(A.slice(2),E);this.minX=Math.min(this.minX,$[0],J[0]),this.minY=Math.min(this.minY,$[1],J[1]),this.maxX=Math.max(this.maxX,$[0],J[0]),this.maxY=Math.max(this.maxY,$[1],J[1])}},{key:"updateScalingPathMinMax",value:function(E,A){r.Util.scaleMinMax(E,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}},{key:"updateCurvePathMinMax",value:function(E,A,$,J,Z,le,fe,se,ke,ge){var T=r.Util.bezierBoundingBox(A,$,J,Z,le,fe,se,ke);if(ge)return ge[0]=Math.min(ge[0],T[0],T[2]),ge[1]=Math.max(ge[1],T[0],T[2]),ge[2]=Math.min(ge[2],T[1],T[3]),void(ge[3]=Math.max(ge[3],T[1],T[3]));this.updateRectMinMax(E,T)}},{key:"getPathBoundingBox",value:function(){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,$=[this.minX,this.minY,this.maxX,this.maxY];if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL)===o.PathType.STROKE){A||(0,r.unreachable)("Stroke bounding box must include transform.");var J=r.Util.singularValueDecompose2dScale(A),Z=J[0]*this.lineWidth/2,le=J[1]*this.lineWidth/2;$[0]-=Z,$[1]-=le,$[2]+=Z,$[3]+=le}return $}},{key:"updateClipFromPath",value:function(){var E=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(E||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(E){this.clipBox=E,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null))}}]),j}();function v(j,ae){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(typeof ImageData<"u"&&ae instanceof ImageData)j.putImageData(ae,0,0);else{var ke,K,I,U,W,X,H,ce,Se,A=ae.height,$=ae.width,J=A%z,Z=(A-J)/z,le=0===J?Z:Z+1,fe=j.createImageData($,z),se=0,ge=ae.data,T=fe.data;if(E)switch(E.length){case 1:X=E[0],H=E[0],ce=E[0],Se=E[0];break;case 4:X=E[0],H=E[1],ce=E[2],Se=E[3]}if(ae.kind===r.ImageKind.GRAYSCALE_1BPP){var we=ge.byteLength,Ce=new Uint32Array(T.buffer,0,T.byteLength>>2),Fe=Ce.length,We=$+7>>3,De=4294967295,Be=r.FeatureTest.isLittleEndian?4278190080:255;if(Se&&255===Se[0]&&0===Se[255]){var Xe=[Be,De];De=Xe[0],Be=Xe[1]}for(K=0;K<le;K++){for(U=K<Z?z:J,ke=0,I=0;I<U;I++){for(var Le=we-se,je=0,Ge=Le>We?$:8*Le-7,Ve=-8&Ge,Ne=0,Ye=0;je<Ve;je+=8)Ye=ge[se++],Ce[ke++]=128&Ye?De:Be,Ce[ke++]=64&Ye?De:Be,Ce[ke++]=32&Ye?De:Be,Ce[ke++]=16&Ye?De:Be,Ce[ke++]=8&Ye?De:Be,Ce[ke++]=4&Ye?De:Be,Ce[ke++]=2&Ye?De:Be,Ce[ke++]=1&Ye?De:Be;for(;je<Ge;je++)0===Ne&&(Ye=ge[se++],Ne=128),Ce[ke++]=Ye&Ne?De:Be,Ne>>=1}for(;ke<Fe;)Ce[ke++]=0;j.putImageData(fe,0,K*z)}}else if(ae.kind===r.ImageKind.RGBA_32BPP){var Je=!!(X||H||ce);for(I=0,W=$*z*4,K=0;K<Z;K++){if(T.set(ge.subarray(se,se+W)),se+=W,Je)for(var Ze=0;Ze<W;Ze+=4)X&&(T[Ze+0]=X[T[Ze+0]]),H&&(T[Ze+1]=H[T[Ze+1]]),ce&&(T[Ze+2]=ce[T[Ze+2]]);j.putImageData(fe,0,I),I+=z}if(K<le){if(T.set(ge.subarray(se,se+(W=$*J*4))),Je)for(var et=0;et<W;et+=4)X&&(T[et+0]=X[T[et+0]]),H&&(T[et+1]=H[T[et+1]]),ce&&(T[et+2]=ce[T[et+2]]);j.putImageData(fe,0,I)}}else{if(ae.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(ae.kind));var de=!!(X||H||ce);for(W=$*(U=z),K=0;K<le;K++){for(K>=Z&&(W=$*(U=J)),ke=0,I=W;I--;)T[ke++]=ge[se++],T[ke++]=ge[se++],T[ke++]=ge[se++],T[ke++]=255;if(de)for(var Re=0;Re<ke;Re+=4)X&&(T[Re+0]=X[T[Re+0]]),H&&(T[Re+1]=H[T[Re+1]]),ce&&(T[Re+2]=ce[T[Re+2]]);j.putImageData(fe,0,K*z)}}}}function x(j,ae){if(ae.bitmap)j.drawImage(ae.bitmap,0,0);else for(var E=ae.height,A=ae.width,$=E%z,J=(E-$)/z,Z=0===$?J:J+1,le=j.createImageData(A,z),fe=0,se=ae.data,ke=le.data,ge=0;ge<Z;ge++)fe=(0,u.applyMaskImageData)({src:se,srcPos:fe,dest:ke,width:A,height:ge<J?z:$}).srcPos,j.putImageData(le,0,ge*z)}function G(j,ae){for(var E=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],A=0,$=E.length;A<$;A++){var J=E[A];void 0!==j[J]&&(ae[J]=j[J])}void 0!==j.setLineDash&&(ae.setLineDash(j.getLineDash()),ae.lineDashOffset=j.lineDashOffset)}function ie(j,ae){j.strokeStyle=j.fillStyle=ae||"#000000",j.fillRule="nonzero",j.globalAlpha=1,j.lineWidth=1,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=10,j.globalCompositeOperation="source-over",j.font="10px sans-serif",void 0!==j.setLineDash&&(j.setLineDash([]),j.lineDashOffset=0)}function ye(j,ae,E,A){for(var $=j.length,J=3;J<$;J+=4){var Z=j[J];if(0===Z)j[J-3]=ae,j[J-2]=E,j[J-1]=A;else if(Z<255){var le=255-Z;j[J-3]=j[J-3]*Z+ae*le>>8,j[J-2]=j[J-2]*Z+E*le>>8,j[J-1]=j[J-1]*Z+A*le>>8}}}function ne(j,ae,E){for(var A=j.length,J=3;J<A;J+=4)ae[J]=ae[J]*(E?E[j[J]]:j[J])*.00392156862745098|0}function Ee(j,ae,E){for(var A=j.length,$=3;$<A;$+=4){var J=77*j[$-3]+152*j[$-2]+28*j[$-1];ae[$]=E?ae[$]*E[J>>8]>>8:ae[$]*J>>16}}function he(j,ae){var E=r.Util.singularValueDecompose2dScale(j);E[0]=Math.fround(E[0]),E[1]=Math.fround(E[1]);var A=Math.fround((globalThis.devicePixelRatio||1)*w.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==ae?ae:E[0]<=A||E[1]<=A}var Ae=["butt","round","square"],Pe=["miter","round","bevel"],Oe={},Te={},Ie=function(){function j(ae,E,A,$,J,Z,le,fe){D(this,j),this.ctx=ae,this.current=new c(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=E,this.objs=A,this.canvasFactory=$,this.imageLayer=J,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Z,this.cachedCanvases=new V(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=le,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=fe?.background||null,this.foregroundColor=fe?.foreground||null,ae&&oe(ae),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return L(j,[{key:"getObject",value:function(E){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof E?E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E):A}},{key:"beginDrawing",value:function(E){var A=E.transform,$=E.viewport,J=E.transparency,Z=void 0!==J&&J,le=E.background,se=this.ctx.canvas.width,ke=this.ctx.canvas.height,ge=(void 0===le?null:le)||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;var T=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;var I,K=this.backgroundColor=this.ctx.fillStyle,U=ge;if(this.ctx.fillStyle=ge,I="string"==typeof(U=this.ctx.fillStyle)&&/^#[0-9A-Fa-f]{6}$/.test(U),"#000000"===T&&"#ffffff"===K||T===K||!I)this.foregroundColor=this.backgroundColor=null;else{var W=parseInt(U.slice(1),16),H=(W&&65280)>>8,ce=W&&255,Se=function(We){return(We/=255)<=.03928?We/12.92:Math.pow((We+.055)/1.055,2.4)},we=Math.round(.2126*Se((W&&16711680)>>16)+.7152*Se(H)+.0722*Se(ce));this.selectColor=function(Fe,We,De){var Be=.2126*Se(Fe)+.7152*Se(We)+.0722*Se(De);return Math.round(Be)===we?K:T}}}if(this.ctx.fillStyle=this.backgroundColor||ge,this.ctx.fillRect(0,0,se,ke),this.ctx.restore(),Z){var Ce=this.cachedCanvases.getCanvas("transparent",se,ke,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Ce.canvas,this.ctx=Ce.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ie(this.ctx,this.foregroundColor),A&&(this.ctx.transform.apply(this.ctx,A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform.apply(this.ctx,$.transform),this.viewportScale=$.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(E,A,$,J){var Z=E.argsArray,le=E.fnArray,fe=A||0,se=Z.length;if(se===fe)return fe;for(var U,ke=se-fe>10&&"function"==typeof $,ge=ke?Date.now()+15:0,T=0,K=this.commonObjs,I=this.objs;;){if(void 0!==J&&fe===J.nextBreakPoint)return J.breakIt(fe,$),fe;if((U=le[fe])!==r.OPS.dependency)this[U].apply(this,Z[fe]);else{var X,W=_(Z[fe]);try{for(W.s();!(X=W.n()).done;){var H=X.value,ce=H.startsWith("g_")?K:I;if(!ce.has(H))return ce.get(H,$),fe}}catch(Se){W.e(Se)}finally{W.f()}}if(++fe===se)return fe;if(ke&&++T>10){if(Date.now()>ge)return $(),fe;T=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();var A,E=_(this._cachedBitmapsMap.values());try{for(E.s();!(A=E.n()).done;){var Z,$=A.value,J=_($.values());try{for(J.s();!(Z=J.n()).done;){var le=Z.value;typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement&&(le.width=le.height=0)}}catch(fe){J.e(fe)}finally{J.f()}$.clear()}}catch(fe){E.e(fe)}finally{E.f()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(E,A){for(var ge,T,$=E.width,J=E.height,Z=Math.max(Math.hypot(A[0],A[1]),1),le=Math.max(Math.hypot(A[2],A[3]),1),fe=$,se=J,ke="prescale1";Z>2&&fe>1||le>2&&se>1;){var K=fe,I=se;Z>2&&fe>1&&(Z/=fe/(K=Math.ceil(fe/2))),le>2&&se>1&&(le/=se/(I=Math.ceil(se/2))),(T=(ge=this.cachedCanvases.getCanvas(ke,K,I,!1)).context).clearRect(0,0,K,I),T.drawImage(E,0,0,fe,se,0,0,K,I),E=ge.canvas,fe=K,se=I,ke="prescale1"===ke?"prescale2":"prescale1"}return{img:E,paintWidth:fe,paintHeight:se}}},{key:"_createMaskCanvas",value:function(E){var se,ke,ge,T,A=this.ctx,$=E.width,J=E.height,Z=this.current.fillColor,le=this.current.patternFill,fe=A.mozCurrentTransform;if((E.bitmap||E.data)&&E.count>1){var K=E.bitmap||E.data.buffer,I=fe.slice(0,4);ke=JSON.stringify(le?I:[I,Z]),(se=this._cachedBitmapsMap.get(K))||this._cachedBitmapsMap.set(K,se=new Map);var U=se.get(ke);if(U&&!le)return{canvas:U,offsetX:Math.round(Math.min(fe[0],fe[2])+fe[4]),offsetY:Math.round(Math.min(fe[1],fe[3])+fe[5])};ge=U}ge||x((T=this.cachedCanvases.getCanvas("maskCanvas",$,J,!1)).context,E);var H=r.Util.transform(fe,[1/$,0,0,-1/J,0,0]);H=r.Util.transform(H,[1,0,0,1,0,-J]);var ce=r.Util.applyTransform([0,0],H),Se=r.Util.applyTransform([$,J],H),we=r.Util.normalizeRect([ce[0],ce[1],Se[0],Se[1]]),Ce=Math.round(we[2]-we[0])||1,Fe=Math.round(we[3]-we[1])||1,We=this.cachedCanvases.getCanvas("fillCanvas",Ce,Fe,!0),De=We.context,Be=Math.min(ce[0],Se[0]),Xe=Math.min(ce[1],Se[1]);De.translate(-Be,-Xe),De.transform.apply(De,H),ge||(ge=(ge=this._scaleImage(T.canvas,De.mozCurrentTransformInverse)).img,se&&le&&se.set(ke,ge)),De.imageSmoothingEnabled=he(De.mozCurrentTransform,E.interpolate),te(De,ge,0,0,ge.width,ge.height,0,0,$,J),De.globalCompositeOperation="source-in";var Le=r.Util.transform(De.mozCurrentTransformInverse,[1,0,0,1,-Be,-Xe]);return De.fillStyle=le?Z.getPattern(A,this,Le,o.PathType.FILL):Z,De.fillRect(0,0,$,J),se&&!le&&(this.cachedCanvases.delete("fillCanvas"),se.set(ke,We.canvas)),{canvas:We.canvas,offsetX:Math.round(Be),offsetY:Math.round(Xe)}}},{key:"setLineWidth",value:function(E){E!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=E,this.ctx.lineWidth=E}},{key:"setLineCap",value:function(E){this.ctx.lineCap=Ae[E]}},{key:"setLineJoin",value:function(E){this.ctx.lineJoin=Pe[E]}},{key:"setMiterLimit",value:function(E){this.ctx.miterLimit=E}},{key:"setDash",value:function(E,A){var $=this.ctx;void 0!==$.setLineDash&&($.setLineDash(E),$.lineDashOffset=A)}},{key:"setRenderingIntent",value:function(E){}},{key:"setFlatness",value:function(E){}},{key:"setGState",value:function(E){for(var A=0,$=E.length;A<$;A++){var J=E[A],le=J[1];switch(J[0]){case"LW":this.setLineWidth(le);break;case"LC":this.setLineCap(le);break;case"LJ":this.setLineJoin(le);break;case"ML":this.setMiterLimit(le);break;case"D":this.setDash(le[0],le[1]);break;case"RI":this.setRenderingIntent(le);break;case"FL":this.setFlatness(le);break;case"Font":this.setFont(le[0],le[1]);break;case"CA":this.current.strokeAlpha=J[1];break;case"ca":this.current.fillAlpha=J[1],this.ctx.globalAlpha=J[1];break;case"BM":this.ctx.globalCompositeOperation=le;break;case"SMask":this.current.activeSMask=le?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=le}}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var E=this.inSMaskMode;this.current.activeSMask&&!E?this.beginSMaskMode():!this.current.activeSMask&&E&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var J=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=J.context;var Z=this.ctx;Z.setTransform.apply(Z,this.suspendedCtx.mozCurrentTransform),G(this.suspendedCtx,Z),function Q(j,ae){if(j._removeMirroring)throw new Error("Context is already forwarding operations.");j.__originalSave=j.save,j.__originalRestore=j.restore,j.__originalRotate=j.rotate,j.__originalScale=j.scale,j.__originalTranslate=j.translate,j.__originalTransform=j.transform,j.__originalSetTransform=j.setTransform,j.__originalResetTransform=j.resetTransform,j.__originalClip=j.clip,j.__originalMoveTo=j.moveTo,j.__originalLineTo=j.lineTo,j.__originalBezierCurveTo=j.bezierCurveTo,j.__originalRect=j.rect,j.__originalClosePath=j.closePath,j.__originalBeginPath=j.beginPath,j._removeMirroring=function(){j.save=j.__originalSave,j.restore=j.__originalRestore,j.rotate=j.__originalRotate,j.scale=j.__originalScale,j.translate=j.__originalTranslate,j.transform=j.__originalTransform,j.setTransform=j.__originalSetTransform,j.resetTransform=j.__originalResetTransform,j.clip=j.__originalClip,j.moveTo=j.__originalMoveTo,j.lineTo=j.__originalLineTo,j.bezierCurveTo=j.__originalBezierCurveTo,j.rect=j.__originalRect,j.closePath=j.__originalClosePath,j.beginPath=j.__originalBeginPath,delete j._removeMirroring},j.save=function(){ae.save(),this.__originalSave()},j.restore=function(){ae.restore(),this.__originalRestore()},j.translate=function(A,$){ae.translate(A,$),this.__originalTranslate(A,$)},j.scale=function(A,$){ae.scale(A,$),this.__originalScale(A,$)},j.transform=function(A,$,J,Z,le,fe){ae.transform(A,$,J,Z,le,fe),this.__originalTransform(A,$,J,Z,le,fe)},j.setTransform=function(A,$,J,Z,le,fe){ae.setTransform(A,$,J,Z,le,fe),this.__originalSetTransform(A,$,J,Z,le,fe)},j.resetTransform=function(){ae.resetTransform(),this.__originalResetTransform()},j.rotate=function(A){ae.rotate(A),this.__originalRotate(A)},j.clip=function(A){ae.clip(A),this.__originalClip(A)},j.moveTo=function(E,A){ae.moveTo(E,A),this.__originalMoveTo(E,A)},j.lineTo=function(E,A){ae.lineTo(E,A),this.__originalLineTo(E,A)},j.bezierCurveTo=function(E,A,$,J,Z,le){ae.bezierCurveTo(E,A,$,J,Z,le),this.__originalBezierCurveTo(E,A,$,J,Z,le)},j.rect=function(E,A,$,J){ae.rect(E,A,$,J),this.__originalRect(E,A,$,J)},j.closePath=function(){ae.closePath(),this.__originalClosePath()},j.beginPath=function(){ae.beginPath(),this.__originalBeginPath()}}(Z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),G(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(E){this.current.activeSMask&&(E?(E[0]=Math.floor(E[0]),E[1]=Math.floor(E[1]),E[2]=Math.ceil(E[2]),E[3]=Math.ceil(E[3])):E=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function _e(j,ae,E,A){var $=A[0],J=A[1],Z=A[2]-$,le=A[3]-J;0===Z||0===le||(function pe(j,ae,E,A,$,J,Z,le,fe,se,ke){var U,ge=!!J,T=ge?J[0]:0,K=ge?J[1]:0,I=ge?J[2]:0;U="Luminosity"===$?Ee:ne;for(var X=Math.min(A,Math.ceil(1048576/E)),H=0;H<A;H+=X){var ce=Math.min(X,A-H),Se=j.getImageData(le-se,H+(fe-ke),E,ce),we=ae.getImageData(le,H+fe,E,ce);ge&&ye(Se.data,T,K,I),U(Se.data,we.data,Z),ae.putImageData(we,le,H+fe)}}(ae.context,E,Z,le,ae.subtype,ae.backdrop,ae.transferMap,$,J,ae.offsetX,ae.offsetY),j.save(),j.globalAlpha=1,j.globalCompositeOperation="source-over",j.setTransform(1,0,0,1,0,0),j.drawImage(E.canvas,0,0),j.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,E),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}},{key:"save",value:function(){this.inSMaskMode?(G(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var E=this.current;this.stateStack.push(E),this.current=E.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),G(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(E,A,$,J,Z,le){this.ctx.transform(E,A,$,J,Z,le),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(E,A,$){for(var se,ke,J=this.ctx,Z=this.current,le=Z.x,fe=Z.y,ge=J.mozCurrentTransform,T=0===ge[0]&&0===ge[3]||0===ge[1]&&0===ge[2],K=T?$.slice(0):null,I=0,U=0,W=E.length;I<W;I++)switch(0|E[I]){case r.OPS.rectangle:le=A[U++],fe=A[U++];var X=A[U++],H=A[U++],ce=le+X,Se=fe+H;J.moveTo(le,fe),0===X||0===H?J.lineTo(ce,Se):(J.lineTo(ce,fe),J.lineTo(ce,Se),J.lineTo(le,Se)),T||Z.updateRectMinMax(ge,[le,fe,ce,Se]),J.closePath();break;case r.OPS.moveTo:le=A[U++],fe=A[U++],J.moveTo(le,fe),T||Z.updatePathMinMax(ge,le,fe);break;case r.OPS.lineTo:le=A[U++],fe=A[U++],J.lineTo(le,fe),T||Z.updatePathMinMax(ge,le,fe);break;case r.OPS.curveTo:se=le,ke=fe,J.bezierCurveTo(A[U],A[U+1],A[U+2],A[U+3],le=A[U+4],fe=A[U+5]),Z.updateCurvePathMinMax(ge,se,ke,A[U],A[U+1],A[U+2],A[U+3],le,fe,K),U+=6;break;case r.OPS.curveTo2:se=le,ke=fe,J.bezierCurveTo(le,fe,A[U],A[U+1],A[U+2],A[U+3]),Z.updateCurvePathMinMax(ge,se,ke,le,fe,A[U],A[U+1],A[U+2],A[U+3],K),le=A[U+2],fe=A[U+3],U+=4;break;case r.OPS.curveTo3:se=le,ke=fe,J.bezierCurveTo(A[U],A[U+1],le=A[U+2],fe=A[U+3],le,fe),Z.updateCurvePathMinMax(ge,se,ke,A[U],A[U+1],le,fe,le,fe,K),U+=4;break;case r.OPS.closePath:J.closePath()}T&&Z.updateScalingPathMinMax(ge,K),Z.setCurrentPoint(le,fe)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(E){E=!(typeof E<"u")||E;var A=this.ctx,$=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===k($)&&null!=$&&$.getPattern?(A.save(),A.strokeStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),E&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(E){E=!(typeof E<"u")||E;var A=this.ctx,$=this.current.fillColor,Z=!1;this.current.patternFill&&(A.save(),A.fillStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.FILL),Z=!0);var le=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==le&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),Z&&A.restore(),E&&this.consumePath(le)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Oe}},{key:"eoClip",value:function(){this.pendingClip=Te}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var E=this.pendingTextPaths,A=this.ctx;if(void 0!==E){A.save(),A.beginPath();for(var $=0;$<E.length;$++){var J=E[$];A.setTransform.apply(A,J.transform),A.translate(J.x,J.y),J.addToPath(A,J.fontSize)}A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}else A.beginPath()}},{key:"setCharSpacing",value:function(E){this.current.charSpacing=E}},{key:"setWordSpacing",value:function(E){this.current.wordSpacing=E}},{key:"setHScale",value:function(E){this.current.textHScale=E/100}},{key:"setLeading",value:function(E){this.current.leading=-E}},{key:"setFont",value:function(E,A){var $=this.commonObjs.get(E),J=this.current;if(!$)throw new Error("Can't find font for ".concat(E));if(J.fontMatrix=$.fontMatrix||r.FONT_IDENTITY_MATRIX,(0===J.fontMatrix[0]||0===J.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+E),A<0?(A=-A,J.fontDirection=-1):J.fontDirection=1,this.current.font=$,this.current.fontSize=A,!$.isType3Font){var le="normal";$.black?le="900":$.bold&&(le="bold");var fe=$.italic?"italic":"normal",se='"'.concat($.loadedName||"sans-serif",'", ').concat($.fallbackName),ke=A;A<16?ke=16:A>100&&(ke=100),this.current.fontSizeScale=A/ke,this.ctx.font="".concat(fe," ").concat(le," ").concat(ke,"px ").concat(se)}}},{key:"setTextRenderingMode",value:function(E){this.current.textRenderingMode=E}},{key:"setTextRise",value:function(E){this.current.textRise=E}},{key:"moveText",value:function(E,A){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=A}},{key:"setLeadingMoveText",value:function(E,A){this.setLeading(-A),this.moveText(E,A)}},{key:"setTextMatrix",value:function(E,A,$,J,Z,le){this.current.textMatrix=[E,A,$,J,Z,le],this.current.textMatrixScale=Math.hypot(E,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(E,A,$,J){var I,Z=this.ctx,le=this.current,fe=le.font,se=le.textRenderingMode,ke=le.fontSize/le.fontSizeScale,ge=se&r.TextRenderingMode.FILL_STROKE_MASK,T=!!(se&r.TextRenderingMode.ADD_TO_PATH_FLAG),K=le.patternFill&&!fe.missingFile;(fe.disableFontFace||T||K)&&(I=fe.getPathGenerator(this.commonObjs,E)),fe.disableFontFace||K?(Z.save(),Z.translate(A,$),Z.beginPath(),I(Z,ke),J&&Z.setTransform.apply(Z,J),(ge===r.TextRenderingMode.FILL||ge===r.TextRenderingMode.FILL_STROKE)&&Z.fill(),(ge===r.TextRenderingMode.STROKE||ge===r.TextRenderingMode.FILL_STROKE)&&Z.stroke(),Z.restore()):((ge===r.TextRenderingMode.FILL||ge===r.TextRenderingMode.FILL_STROKE)&&Z.fillText(E,A,$),(ge===r.TextRenderingMode.STROKE||ge===r.TextRenderingMode.FILL_STROKE)&&Z.strokeText(E,A,$)),T&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Z.mozCurrentTransform,x:A,y:$,fontSize:ke,addToPath:I})}},{key:"isFontSubpixelAAEnabled",get:function(){var A=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1).context;A.scale(1.5,1),A.fillText("I",0,10);for(var $=A.getImageData(0,0,10,10).data,J=!1,Z=3;Z<$.length;Z+=4)if($[Z]>0&&$[Z]<255){J=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",J)}},{key:"showText",value:function(E){var A=this.current,$=A.font;if($.isType3Font)return this.showType3Text(E);var J=A.fontSize;if(0!==J){var H,Z=this.ctx,le=A.fontSizeScale,fe=A.charSpacing,se=A.wordSpacing,ke=A.fontDirection,ge=A.textHScale*ke,T=E.length,K=$.vertical,I=K?1:-1,U=$.defaultVMetrics,W=J*A.fontMatrix[0],X=A.textRenderingMode===r.TextRenderingMode.FILL&&!$.disableFontFace&&!A.patternFill;if(Z.save(),Z.transform.apply(Z,A.textMatrix),Z.translate(A.x,A.y+A.textRise),Z.scale(ge,ke>0?-1:1),A.patternFill){Z.save();var ce=A.fillColor.getPattern(Z,this,Z.mozCurrentTransformInverse,o.PathType.FILL);H=Z.mozCurrentTransform,Z.restore(),Z.fillStyle=ce}var Se=A.lineWidth,we=A.textMatrixScale;if(0===we||0===Se){var Ce=A.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Ce===r.TextRenderingMode.STROKE||Ce===r.TextRenderingMode.FILL_STROKE)&&(Se=this.getSinglePixelWidth())}else Se/=we;1!==le&&(Z.scale(le,le),Se/=le),Z.lineWidth=Se;var We,Fe=0;for(We=0;We<T;++We){var De=E[We];if("number"!=typeof De){var Be=!1,Xe=(De.isSpace?se:0)+fe,Le=De.fontChar,je=De.accent,Ge=void 0,Ve=void 0,Ne=De.width;if(K){var Ye=De.vmetric||U,Je=-(De.vmetric?Ye[1]:.5*Ne)*W;Ne=Ye?-Ye[0]:Ne,Ge=Je/le,Ve=(Fe+Ye[2]*W)/le}else Ge=Fe/le,Ve=0;if($.remeasure&&Ne>0){var et=1e3*Z.measureText(Le).width/J*le;if(Ne<et&&this.isFontSubpixelAAEnabled){var de=Ne/et;Be=!0,Z.save(),Z.scale(de,1),Ge/=de}else Ne!==et&&(Ge+=(Ne-et)/2e3*J/le)}this.contentVisible&&(De.isInFont||$.missingFile)&&(X&&!je?Z.fillText(Le,Ge,Ve):(this.paintChar(Le,Ge,Ve,H),je&&this.paintChar(je.fontChar,Ge+J*je.offset.x/le,Ve-J*je.offset.y/le,H))),Fe+=K?Ne*W-Xe*ke:Ne*W+Xe*ke,Be&&Z.restore()}else Fe+=I*De*J/1e3}K?A.y-=Fe:A.x+=Fe*ge,Z.restore(),this.compose()}}},{key:"showType3Text",value:function(E){var U,W,X,H,A=this.ctx,$=this.current,J=$.font,Z=$.fontSize,le=$.fontDirection,fe=J.vertical?1:-1,se=$.charSpacing,ke=$.wordSpacing,ge=$.textHScale*le,T=$.fontMatrix||r.FONT_IDENTITY_MATRIX,K=E.length;if($.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==Z){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,A.save(),A.transform.apply(A,$.textMatrix),A.translate($.x,$.y),A.scale(ge,le),U=0;U<K;++U)if("number"!=typeof(W=E[U])){var ce=(W.isSpace?ke:0)+se,Se=J.charProcOperatorList[W.operatorListId];if(Se){this.contentVisible&&(this.processingType3=W,this.save(),A.scale(Z,Z),A.transform.apply(A,T),this.executeOperatorList(Se),this.restore());var we=r.Util.applyTransform([W.width,0],T);A.translate(X=we[0]*Z+ce,0),$.x+=X*ge}else(0,r.warn)('Type3 character "'.concat(W.operatorListId,'" is not available.'))}else this.ctx.translate(H=fe*W*Z/1e3,0),$.x+=H*ge;A.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(E,A){}},{key:"setCharWidthAndBounds",value:function(E,A,$,J,Z,le){this.ctx.rect($,J,Z-$,le-J),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(E){var $,A=this;if("TilingPattern"===E[0]){var J=E[1],Z=this.baseTransform||this.ctx.mozCurrentTransform.slice();$=new o.TilingPattern(E,J,this.ctx,{createCanvasGraphics:function(se){return new j(se,A.commonObjs,A.objs,A.canvasFactory)}},Z)}else $=this._getPattern(E[1],E[2]);return $}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(E,A,$){var J,Z=(null===(J=this.selectColor)||void 0===J?void 0:J.call(this,E,A,$))||r.Util.makeHexColor(E,A,$);this.ctx.strokeStyle=Z,this.current.strokeColor=Z}},{key:"setFillRGBColor",value:function(E,A,$){var J,Z=(null===(J=this.selectColor)||void 0===J?void 0:J.call(this,E,A,$))||r.Util.makeHexColor(E,A,$);this.ctx.fillStyle=Z,this.current.fillColor=Z,this.current.patternFill=!1}},{key:"_getPattern",value:function(E){var $,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(E)?$=this.cachedPatterns.get(E):($=(0,o.getShadingPattern)(this.objs.get(E)),this.cachedPatterns.set(E,$)),A&&($.matrix=A),$}},{key:"shadingFill",value:function(E){if(this.contentVisible){var A=this.ctx;this.save();var $=this._getPattern(E);A.fillStyle=$.getPattern(A,this,A.mozCurrentTransformInverse,o.PathType.SHADING);var J=A.mozCurrentTransformInverse;if(J){var Z=A.canvas,le=Z.width,fe=Z.height,se=r.Util.applyTransform([0,0],J),ke=r.Util.applyTransform([0,fe],J),ge=r.Util.applyTransform([le,0],J),T=r.Util.applyTransform([le,fe],J),K=Math.min(se[0],ke[0],ge[0],T[0]),I=Math.min(se[1],ke[1],ge[1],T[1]),U=Math.max(se[0],ke[0],ge[0],T[0]),W=Math.max(se[1],ke[1],ge[1],T[1]);this.ctx.fillRect(K,I,U-K,W-I)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(E,A){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&6===E.length&&this.transform.apply(this,E),this.baseTransform=this.ctx.mozCurrentTransform,A)&&(this.ctx.rect(A[0],A[1],A[2]-A[0],A[3]-A[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,A),this.clip(),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(E){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var A=this.ctx;E.isolated||(0,r.info)("TODO: Support non-isolated groups."),E.knockout&&(0,r.warn)("Knockout groups not supported.");var $=A.mozCurrentTransform;if(E.matrix&&A.transform.apply(A,E.matrix),!E.bbox)throw new Error("Bounding box is required.");var J=r.Util.getAxialAlignedBoundingBox(E.bbox,A.mozCurrentTransform);J=r.Util.intersect(J,[0,0,A.canvas.width,A.canvas.height])||[0,0,0,0];var le=Math.floor(J[0]),fe=Math.floor(J[1]),se=Math.max(Math.ceil(J[2])-le,1),ke=Math.max(Math.ceil(J[3])-fe,1),ge=1,T=1;se>l&&(ge=se/l,se=l),ke>l&&(T=ke/l,ke=l),this.current.startNewPathAndClipBox([0,0,se,ke]);var K="groupAt"+this.groupLevel;E.smask&&(K+="_smask_"+this.smaskCounter++%2);var I=this.cachedCanvases.getCanvas(K,se,ke,!0),U=I.context;U.scale(1/ge,1/T),U.translate(-le,-fe),U.transform.apply(U,$),E.smask?this.smaskStack.push({canvas:I.canvas,context:U,offsetX:le,offsetY:fe,scaleX:ge,scaleY:T,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(le,fe),A.scale(ge,T),A.save()),G(A,U),this.ctx=U,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}}},{key:"endGroup",value:function(E){if(this.contentVisible){this.groupLevel--;var A=this.ctx,$=this.groupStack.pop();if(this.ctx=$,this.ctx.imageSmoothingEnabled=!1,E.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var J=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,J);var Z=r.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],J);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(Z)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(E,A,$,J,Z){if(this.save(),Array.isArray(A)&&4===A.length){var le=A[2]-A[0],fe=A[3]-A[1];if(Z&&this.annotationCanvasMap){($=$.slice())[4]-=A[0],$[5]-=A[1],(A=A.slice())[0]=A[1]=0,A[2]=le,A[3]=fe;var ke=s(r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),ge=ke[0],T=ke[1],K=this.viewportScale,I=Math.ceil(le*this.outputScaleX*K),U=Math.ceil(fe*this.outputScaleY*K);this.annotationCanvas=this.canvasFactory.create(I,U);var W=this.annotationCanvas,X=W.canvas,H=W.context,ce="var(--zoom-factor) * ".concat(w.PixelsPerInch.PDF_TO_CSS_UNITS);X.style.width="calc(".concat(le,"px * ").concat(ce,")"),X.style.height="calc(".concat(fe,"px * ").concat(ce,")"),this.annotationCanvasMap.set(E,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=H,this.ctx.setTransform(ge,0,0,-T,0,fe*T),oe(this.ctx),ie(this.ctx,this.foregroundColor)}else ie(this.ctx,this.foregroundColor),this.ctx.rect(A[0],A[1],le,fe),this.ctx.clip(),this.endPath()}this.current=new c(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,$),this.transform.apply(this,J)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(E){if(this.contentVisible){var A=E.count;(E=this.getObject(E.data,E)).count=A;var $=this.ctx,J=this.processingType3;if(J&&(void 0===J.compiled&&(J.compiled=function re(j){var ae=j.width,E=j.height;if(ae>1e3||E>1e3)return null;var le,fe,se,I,$=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),J=ae+1,Z=new Uint8Array(J*(E+1)),ke=ae+7&-8,ge=new Uint8Array(ke*E),T=0,K=_(j.data);try{for(K.s();!(I=K.n()).done;)for(var U=I.value,W=128;W>0;)ge[T++]=U&W?0:255,W>>=1}catch(Ge){K.e(Ge)}finally{K.f()}var X=0;for(0!==ge[T=0]&&(Z[0]=1,++X),fe=1;fe<ae;fe++)ge[T]!==ge[T+1]&&(Z[fe]=ge[T]?2:1,++X),T++;for(0!==ge[T]&&(Z[fe]=2,++X),le=1;le<E;le++){se=le*J,ge[(T=le*ke)-ke]!==ge[T]&&(Z[se]=ge[T]?1:8,++X);var H=(ge[T]?4:0)+(ge[T-ke]?8:0);for(fe=1;fe<ae;fe++)$[H=(H>>2)+(ge[T+1]?4:0)+(ge[T-ke+1]?8:0)]&&(Z[se+fe]=$[H],++X),T++;if(ge[T-ke]!==ge[T]&&(Z[se+fe]=ge[T]?2:4,++X),X>1e3)return null}for(se=le*J,0!==ge[T=ke*(E-1)]&&(Z[se]=8,++X),fe=1;fe<ae;fe++)ge[T]!==ge[T+1]&&(Z[se+fe]=ge[T]?4:8,++X),T++;if(0!==ge[T]&&(Z[se+fe]=4,++X),X>1e3)return null;var Se,we,Ce,ce=new Int32Array([0,J,-1,0,-J,0,0,0,1]);for(y.isNodeJS?we=[]:Se=new Path2D,le=0;X&&le<=E;le++){for(var Fe=le*J,We=Fe+ae;Fe<We&&!Z[Fe];)Fe++;if(Fe!==We){Se?Se.moveTo(Fe%J,le):Ce=[Fe%J,le];var De=Fe,Be=Z[Fe];do{var Xe=ce[Be];do{Fe+=Xe}while(!Z[Fe]);var Le=Z[Fe];5!==Le&&10!==Le?(Be=Le,Z[Fe]=0):Z[Fe]&=(Be=Le&51*Be>>4)>>2|Be<<2,Se?Se.lineTo(Fe%J,Fe/J|0):Ce.push(Fe%J,Fe/J|0),Z[Fe]||--X}while(De!==Fe);Se||we.push(Ce),--le}}return ge=null,Z=null,function(Ve){if(Ve.save(),Ve.scale(1/ae,-1/E),Ve.translate(0,-E),Se)Ve.fill(Se);else{Ve.beginPath();var Ye,Ne=_(we);try{for(Ne.s();!(Ye=Ne.n()).done;){var Je=Ye.value;Ve.moveTo(Je[0],Je[1]);for(var Ze=2,et=Je.length;Ze<et;Ze+=2)Ve.lineTo(Je[Ze],Je[Ze+1])}}catch(de){Ne.e(de)}finally{Ne.f()}Ve.fill()}Ve.beginPath(),Ve.restore()}}(E)),J.compiled))return void J.compiled($);var Z=this._createMaskCanvas(E),le=Z.canvas;$.save(),$.setTransform(1,0,0,1,0,0),$.drawImage(le,Z.offsetX,Z.offsetY),$.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(E,A){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,Z=arguments.length>4?arguments[4]:void 0,le=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){E=this.getObject(E.data,E);var fe=this.ctx;fe.save();var se=fe.mozCurrentTransform;fe.transform(A,$,J,Z,0,0);var ke=this._createMaskCanvas(E);fe.setTransform(1,0,0,1,0,0);for(var ge=0,T=le.length;ge<T;ge+=2){var K=r.Util.transform(se,[A,$,J,Z,le[ge],le[ge+1]]),U=s(r.Util.applyTransform([0,0],K),2);fe.drawImage(ke.canvas,U[0],U[1])}fe.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(E){if(this.contentVisible){for(var A=this.ctx,$=this.current.fillColor,J=this.current.patternFill,Z=0,le=E.length;Z<le;Z++){var fe=E[Z],se=fe.width,ke=fe.height,ge=this.cachedCanvases.getCanvas("maskCanvas",se,ke,!1),T=ge.context;T.save(),x(T,fe),T.globalCompositeOperation="source-in",T.fillStyle=J?$.getPattern(T,this,A.mozCurrentTransformInverse,o.PathType.FILL):$,T.fillRect(0,0,se,ke),T.restore(),A.save(),A.transform.apply(A,fe.transform),A.scale(1,-1),te(A,ge.canvas,0,0,se,ke,0,-1,1,1),A.restore()}this.compose()}}},{key:"paintImageXObject",value:function(E){if(this.contentVisible){var A=this.getObject(E);if(!A)return void(0,r.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(A)}}},{key:"paintImageXObjectRepeat",value:function(E,A,$,J){if(this.contentVisible){var Z=this.getObject(E);if(!Z)return void(0,r.warn)("Dependent image isn't ready yet");for(var le=Z.width,fe=Z.height,se=[],ke=0,ge=J.length;ke<ge;ke+=2)se.push({transform:[A,0,0,$,J[ke],J[ke+1]],x:0,y:0,w:le,h:fe});this.paintInlineImageXObjectGroup(Z,se)}}},{key:"paintInlineImageXObject",value:function(E){if(this.contentVisible){var Z,A=E.width,$=E.height,J=this.ctx;if(this.save(),J.scale(1/A,-1/$),"function"==typeof HTMLElement&&E instanceof HTMLElement||!E.data)Z=E;else{var le=this.cachedCanvases.getCanvas("inlineImage",A,$,!1);v(le.context,E,this.current.transferMaps),Z=le.canvas}var se=this._scaleImage(Z,J.mozCurrentTransformInverse);J.imageSmoothingEnabled=he(J.mozCurrentTransform,E.interpolate);var ge=s(te(J,se.img,0,0,se.paintWidth,se.paintHeight,0,-$,A,$),2),T=ge[0],K=ge[1];if(this.imageLayer){var I=this.getCanvasPosition(0,-$);this.imageLayer.appendImage({imgData:E,left:I[0],top:I[1],width:T,height:K})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(E,A){if(this.contentVisible){var $=this.ctx,J=E.width,Z=E.height,le=this.cachedCanvases.getCanvas("inlineImage",J,Z,!1);v(le.context,E,this.current.transferMaps);for(var se=0,ke=A.length;se<ke;se++){var ge=A[se];if($.save(),$.transform.apply($,ge.transform),$.scale(1,-1),te($,le.canvas,ge.x,ge.y,ge.w,ge.h,0,-1,1,1),this.imageLayer){var T=this.getCanvasPosition(ge.x,ge.y);this.imageLayer.appendImage({imgData:E,left:T[0],top:T[1],width:J,height:Z})}$.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(E){}},{key:"markPointProps",value:function(E,A){}},{key:"beginMarkedContent",value:function(E){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(E,A){this.markedContentStack.push("OC"===E?{visible:this.optionalContentConfig.isVisible(A)}:{visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(E){var A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(E);var $=this.ctx;this.pendingClip&&(A||(this.pendingClip===Te?$.clip("evenodd"):$.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),$.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var E=this.ctx.mozCurrentTransform;if(0===E[1]&&0===E[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(E[0]),Math.abs(E[3]));else{var A=Math.abs(E[0]*E[3]-E[2]*E[1]),$=Math.hypot(E[0],E[2]),J=Math.hypot(E[1],E[3]);this._cachedGetSinglePixelWidth=Math.max($,J)/A}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var $,J,E=this.current.lineWidth,A=this.ctx.mozCurrentTransform;if(0===A[1]&&0===A[2]){var Z=Math.abs(A[0]),le=Math.abs(A[3]);if(0===E)$=1/Z,J=1/le;else{var fe=Z*E,se=le*E;$=fe<1?1/fe:1,J=se<1?1/se:1}}else{var ke=Math.abs(A[0]*A[3]-A[2]*A[1]),ge=Math.hypot(A[0],A[1]),T=Math.hypot(A[2],A[3]);if(0===E)$=T/ke,J=ge/ke;else{var K=E*ke;$=T>K?T/K:1,J=ge>K?ge/K:1}}this._cachedScaleForStroking=[$,J]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(E){var A=this.ctx,$=this.current.lineWidth,Z=s(this.getScaleForStroking(),2),le=Z[0],fe=Z[1];if(A.lineWidth=$||1,1!==le||1!==fe){var se,ke,ge;E&&(se=A.mozCurrentTransform.slice(),ke=A.getLineDash().slice(),ge=A.lineDashOffset),A.scale(le,fe);var T=Math.max(le,fe);A.setLineDash(A.getLineDash().map(function(K){return K/T})),A.lineDashOffset/=T,A.stroke(),E&&(A.setTransform.apply(A,function N(j){return function O(j){if(Array.isArray(j))return d(j)}(j)||function Y(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||f(j)||function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(se)),A.setLineDash(ke),A.lineDashOffset=ge)}else A.stroke()}},{key:"getCanvasPosition",value:function(E,A){var $=this.ctx.mozCurrentTransform;return[$[0]*E+$[2]*A+$[4],$[1]*E+$[3]*A+$[5]]}},{key:"isContentVisible",value:function(){for(var E=this.markedContentStack.length-1;E>=0;E--)if(!this.markedContentStack[E].visible)return!1;return!0}}]),j}();for(var Me in i.CanvasGraphics=Ie,r.OPS)void 0!==Ie.prototype[Me]&&(Ie.prototype[r.OPS[Me]]=Ie.prototype[Me])},(p,i,t)=>{"use strict";function r(z){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(z)}Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=function P(z){switch(z[0]){case"RadialAxial":return new h(z);case"Mesh":return new l(z);case"Dummy":return new b}throw new Error("Unknown IR type: ".concat(z[0]))};var o=t(1),u=t(3);function y(z,ee){var Q=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!Q){if(Array.isArray(z)||(Q=function w(z,ee){if(z){if("string"==typeof z)return N(z,ee);var Q=Object.prototype.toString.call(z).slice(8,-1);if("Object"===Q&&z.constructor&&(Q=z.constructor.name),"Map"===Q||"Set"===Q)return Array.from(z);if("Arguments"===Q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return N(z,ee)}}(z))||ee&&z&&"number"==typeof z.length){Q&&(z=Q);var oe=0,V=function(){};return{s:V,n:function(){return oe>=z.length?{done:!0}:{done:!1,value:z[oe++]}},e:function(x){throw x},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,te=!0,re=!1;return{s:function(){Q=Q.call(z)},n:function(){var x=Q.next();return te=x.done,x},e:function(x){re=!0,c=x},f:function(){try{!te&&null!=Q.return&&Q.return()}finally{if(re)throw c}}}}function N(z,ee){(null==ee||ee>z.length)&&(ee=z.length);for(var Q=0,oe=new Array(ee);Q<ee;Q++)oe[Q]=z[Q];return oe}function B(z,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ee&&Y(z,ee)}function Y(z,ee){return(Y=Object.setPrototypeOf||function(oe,V){return oe.__proto__=V,oe})(z,ee)}function O(z){var ee=function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,oe=M(z);if(ee){var te=M(this).constructor;V=Reflect.construct(oe,arguments,te)}else V=oe.apply(this,arguments);return function k(z,ee){if(ee&&("object"===r(ee)||"function"==typeof ee))return ee;if(void 0!==ee)throw new TypeError("Derived constructors may only return object or undefined");return function _(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z)}(this,V)}}function M(z){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(z)}function L(z,ee){if(!(z instanceof ee))throw new TypeError("Cannot call a class as a function")}function s(z,ee){for(var Q=0;Q<ee.length;Q++){var oe=ee[Q];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(z,oe.key,oe)}}function a(z,ee,Q){return ee&&s(z.prototype,ee),Q&&s(z,Q),Object.defineProperty(z,"prototype",{writable:!1}),z}var f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function d(z,ee){if(ee&&!u.isNodeJS){var Q=ee[2]-ee[0],oe=ee[3]-ee[1],V=new Path2D;V.rect(ee[0],ee[1],Q,oe),z.clip(V)}}i.PathType=f;var R=function(){function z(){L(this,z),this.constructor===z&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}return a(z,[{key:"getPattern",value:function(){(0,o.unreachable)("Abstract method `getPattern` called.")}}]),z}(),h=function(z){B(Q,z);var ee=O(Q);function Q(oe){var V;return L(this,Q),(V=ee.call(this))._type=oe[1],V._bbox=oe[2],V._colorStops=oe[3],V._p0=oe[4],V._p1=oe[5],V._r0=oe[6],V._r1=oe[7],V.matrix=null,V}return a(Q,[{key:"_createGradient",value:function(V){var te;"axial"===this._type?te=V.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(te=V.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var c,re=y(this._colorStops);try{for(re.s();!(c=re.n()).done;){var v=c.value;te.addColorStop(v[0],v[1])}}catch(x){re.e(x)}finally{re.f()}return te}},{key:"getPattern",value:function(V,te,re,c){var v;if(c===f.STROKE||c===f.FILL){var x=te.current.getClippedPathBoundingBox(c,V.mozCurrentTransform)||[0,0,0,0],G=Math.ceil(x[2]-x[0])||1,ie=Math.ceil(x[3]-x[1])||1,ye=te.cachedCanvases.getCanvas("pattern",G,ie,!0),ne=ye.context;ne.clearRect(0,0,ne.canvas.width,ne.canvas.height),ne.beginPath(),ne.rect(0,0,ne.canvas.width,ne.canvas.height),ne.translate(-x[0],-x[1]),re=o.Util.transform(re,[1,0,0,1,x[0],x[1]]),ne.transform.apply(ne,te.baseTransform),this.matrix&&ne.transform.apply(ne,this.matrix),d(ne,this._bbox),ne.fillStyle=this._createGradient(ne),ne.fill(),v=V.createPattern(ye.canvas,"no-repeat");var Ee=new DOMMatrix(re);try{v.setTransform(Ee)}catch(pe){(0,o.warn)('RadialAxialShadingPattern.getPattern: "'.concat(pe?.message,'".'))}}else d(V,this._bbox),v=this._createGradient(V);return v}}]),Q}(R);function C(z,ee,Q,oe,V,te,re,c){var ye,v=ee.coords,x=ee.colors,G=z.data,ie=4*z.width;v[Q+1]>v[oe+1]&&(ye=Q,Q=oe,oe=ye,ye=te,te=re,re=ye),v[oe+1]>v[V+1]&&(ye=oe,oe=V,V=ye,ye=re,re=c,c=ye),v[Q+1]>v[oe+1]&&(ye=Q,Q=oe,oe=ye,ye=te,te=re,re=ye);var ne=(v[Q]+ee.offsetX)*ee.scaleX,Ee=(v[Q+1]+ee.offsetY)*ee.scaleY,pe=(v[oe]+ee.offsetX)*ee.scaleX,_e=(v[oe+1]+ee.offsetY)*ee.scaleY,he=(v[V]+ee.offsetX)*ee.scaleX,Ae=(v[V+1]+ee.offsetY)*ee.scaleY;if(!(Ee>=Ae))for(var Z,le,fe,se,ke,ge,T,K,Pe=x[te],Oe=x[te+1],Te=x[te+2],Ie=x[re],Me=x[re+1],j=x[re+2],ae=x[c],E=x[c+1],A=x[c+2],$=Math.round(Ee),J=Math.round(Ae),I=$;I<=J;I++){if(I<_e){var U;Z=ne-(ne-pe)*(U=I<Ee?0:(Ee-I)/(Ee-_e)),le=Pe-(Pe-Ie)*U,fe=Oe-(Oe-Me)*U,se=Te-(Te-j)*U}else{var W;Z=pe-(pe-he)*(W=I>Ae?1:_e===Ae?0:(_e-I)/(_e-Ae)),le=Ie-(Ie-ae)*W,fe=Me-(Me-E)*W,se=j-(j-A)*W}var X=void 0;ke=ne-(ne-he)*(X=I<Ee?0:I>Ae?1:(Ee-I)/(Ee-Ae)),ge=Pe-(Pe-ae)*X,T=Oe-(Oe-E)*X,K=Te-(Te-A)*X;for(var H=Math.round(Math.min(Z,ke)),ce=Math.round(Math.max(Z,ke)),Se=ie*I+4*H,we=H;we<=ce;we++)(X=(Z-we)/(Z-ke))<0?X=0:X>1&&(X=1),G[Se++]=le-(le-ge)*X|0,G[Se++]=fe-(fe-T)*X|0,G[Se++]=se-(se-K)*X|0,G[Se++]=255}}function m(z,ee,Q){var te,re,oe=ee.coords,V=ee.colors;switch(ee.type){case"lattice":var c=ee.verticesPerRow,v=Math.floor(oe.length/c)-1,x=c-1;for(te=0;te<v;te++)for(var G=te*c,ie=0;ie<x;ie++,G++)C(z,Q,oe[G],oe[G+1],oe[G+c],V[G],V[G+1],V[G+c]),C(z,Q,oe[G+c+1],oe[G+1],oe[G+c],V[G+c+1],V[G+1],V[G+c]);break;case"triangles":for(te=0,re=oe.length;te<re;te+=3)C(z,Q,oe[te],oe[te+1],oe[te+2],V[te],V[te+1],V[te+2]);break;default:throw new Error("illegal figure")}}var l=function(z){B(Q,z);var ee=O(Q);function Q(oe){var V;return L(this,Q),(V=ee.call(this))._coords=oe[2],V._colors=oe[3],V._figures=oe[4],V._bounds=oe[5],V._bbox=oe[7],V._background=oe[8],V.matrix=null,V}return a(Q,[{key:"_createMeshCanvas",value:function(V,te,re){var G=Math.floor(this._bounds[0]),ie=Math.floor(this._bounds[1]),ye=Math.ceil(this._bounds[2])-G,ne=Math.ceil(this._bounds[3])-ie,Ee=Math.min(Math.ceil(Math.abs(ye*V[0]*1.1)),3e3),pe=Math.min(Math.ceil(Math.abs(ne*V[1]*1.1)),3e3),_e=ye/Ee,he=ne/pe,Ae={coords:this._coords,colors:this._colors,offsetX:-G,offsetY:-ie,scaleX:1/_e,scaleY:1/he},Te=re.getCanvas("mesh",Ee+4,pe+4,!1),Ie=Te.context,Me=Ie.createImageData(Ee,pe);if(te)for(var j=Me.data,ae=0,E=j.length;ae<E;ae+=4)j[ae]=te[0],j[ae+1]=te[1],j[ae+2]=te[2],j[ae+3]=255;var $,A=y(this._figures);try{for(A.s();!($=A.n()).done;)m(Me,$.value,Ae)}catch(le){A.e(le)}finally{A.f()}return Ie.putImageData(Me,2,2),{canvas:Te.canvas,offsetX:G-2*_e,offsetY:ie-2*he,scaleX:_e,scaleY:he}}},{key:"getPattern",value:function(V,te,re,c){var v;if(d(V,this._bbox),c===f.SHADING)v=o.Util.singularValueDecompose2dScale(V.mozCurrentTransform);else if(v=o.Util.singularValueDecompose2dScale(te.baseTransform),this.matrix){var x=o.Util.singularValueDecompose2dScale(this.matrix);v=[v[0]*x[0],v[1]*x[1]]}var G=this._createMeshCanvas(v,c===f.SHADING?null:this._background,te.cachedCanvases);return c!==f.SHADING&&(V.setTransform.apply(V,te.baseTransform),this.matrix&&V.transform.apply(V,this.matrix)),V.translate(G.offsetX,G.offsetY),V.scale(G.scaleX,G.scaleY),V.createPattern(G.canvas,"no-repeat")}}]),Q}(R),b=function(z){B(Q,z);var ee=O(Q);function Q(){return L(this,Q),ee.apply(this,arguments)}return a(Q,[{key:"getPattern",value:function(){return"hotpink"}}]),Q}(R);i.TilingPattern=function(){function z(ee,Q,oe,V,te){L(this,z),this.operatorList=ee[2],this.matrix=ee[3]||[1,0,0,1,0,0],this.bbox=ee[4],this.xstep=ee[5],this.ystep=ee[6],this.paintType=ee[7],this.tilingType=ee[8],this.color=Q,this.ctx=oe,this.canvasGraphicsFactory=V,this.baseTransform=te}return a(z,[{key:"createPatternCanvas",value:function(Q){var oe=this.operatorList,V=this.bbox,te=this.xstep,re=this.ystep,c=this.paintType,x=this.color,G=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+this.tilingType);var ie=V[0],ye=V[1],ne=V[2],Ee=V[3],pe=o.Util.singularValueDecompose2dScale(this.matrix),_e=o.Util.singularValueDecompose2dScale(this.baseTransform),he=[pe[0]*_e[0],pe[1]*_e[1]],Ae=this.getSizeAndScale(te,this.ctx.canvas.width,he[0]),Pe=this.getSizeAndScale(re,this.ctx.canvas.height,he[1]),Oe=Q.cachedCanvases.getCanvas("pattern",Ae.size,Pe.size,!0),Te=Oe.context,Ie=G.createCanvasGraphics(Te);Ie.groupLevel=Q.groupLevel,this.setFillAndStrokeStyleToContext(Ie,c,x);var Me=ie,j=ye,ae=ne,E=Ee;return ie<0&&(Me=0,ae+=Math.abs(ie)),ye<0&&(j=0,E+=Math.abs(ye)),Te.translate(-Ae.scale*Me,-Pe.scale*j),Ie.transform(Ae.scale,0,0,Pe.scale,0,0),Te.save(),this.clipBbox(Ie,Me,j,ae,E),Ie.baseTransform=Ie.ctx.mozCurrentTransform.slice(),Ie.executeOperatorList(oe),Ie.endDrawing(),{canvas:Oe.canvas,scaleX:Ae.scale,scaleY:Pe.scale,offsetX:Me,offsetY:j}}},{key:"getSizeAndScale",value:function(Q,oe,V){Q=Math.abs(Q);var te=Math.max(z.MAX_PATTERN_SIZE,oe),re=Math.ceil(Q*V);return re>=te?re=te:V=re/Q,{scale:V,size:re}}},{key:"clipBbox",value:function(Q,oe,V,te,re){Q.ctx.rect(oe,V,te-oe,re-V),Q.current.updateRectMinMax(Q.ctx.mozCurrentTransform,[oe,V,te,re]),Q.clip(),Q.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(Q,oe,V){var te=Q.ctx,re=Q.current;switch(oe){case 1:var c=this.ctx;te.fillStyle=c.fillStyle,te.strokeStyle=c.strokeStyle,re.fillColor=c.fillStyle,re.strokeColor=c.strokeStyle;break;case 2:var v=o.Util.makeHexColor(V[0],V[1],V[2]);te.fillStyle=v,te.strokeStyle=v,re.fillColor=v,re.strokeColor=v;break;default:throw new o.FormatError("Unsupported paint type: ".concat(oe))}}},{key:"getPattern",value:function(Q,oe,V,te){var re=V;te!==f.SHADING&&(re=o.Util.transform(re,oe.baseTransform),this.matrix&&(re=o.Util.transform(re,this.matrix)));var c=this.createPatternCanvas(oe),v=new DOMMatrix(re);v=(v=v.translate(c.offsetX,c.offsetY)).scale(1/c.scaleX,1/c.scaleY);var x=Q.createPattern(c.canvas,"repeat");try{x.setTransform(v)}catch(G){(0,o.warn)('TilingPattern.getPattern: "'.concat(G?.message,'".'))}return x}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),z}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=function Y(O){var k=O.src,_=O.srcPos,D=void 0===_?0:_,M=O.dest,L=O.destPos,s=void 0===L?0:L,a=O.width,f=O.height,d=O.inverseDecode,h=r.FeatureTest.isLittleEndian?4278190080:255,m=function o(O,k){return function B(O){if(Array.isArray(O))return O}(O)||function N(O,k){var _=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=_){var s,a,D=[],M=!0,L=!1;try{for(_=_.call(O);!(M=(s=_.next()).done)&&(D.push(s.value),!k||D.length!==k);M=!0);}catch(f){L=!0,a=f}finally{try{!M&&null!=_.return&&_.return()}finally{if(L)throw a}}return D}}(O,k)||function y(O,k){if(O){if("string"==typeof O)return w(O,k);var _=Object.prototype.toString.call(O).slice(8,-1);if("Object"===_&&O.constructor&&(_=O.constructor.name),"Map"===_||"Set"===_)return Array.from(O);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return w(O,k)}}(O,k)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(void 0!==d&&d?[0,h]:[h,0],2),l=m[0],b=m[1],P=a>>3,g=7&a,F=k.length;M=new Uint32Array(M.buffer);for(var z=0;z<f;z++){for(var ee=D+P;D<ee;D++){var Q=D<F?k[D]:255;M[s++]=128&Q?b:l,M[s++]=64&Q?b:l,M[s++]=32&Q?b:l,M[s++]=16&Q?b:l,M[s++]=8&Q?b:l,M[s++]=4&Q?b:l,M[s++]=2&Q?b:l,M[s++]=1&Q?b:l}if(0!==g)for(var oe=D<F?k[D++]:255,V=0;V<g;V++)M[s++]=oe&1<<7-V?b:l}return{srcPos:D,destPos:s}};var r=t(1);function w(O,k){(null==k||k>O.length)&&(k=O.length);for(var _=0,D=new Array(k);_<k;_++)D[_]=O[_];return D}},(p,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;var t=Object.create(null);i.GlobalWorkerOptions=t,t.workerPort=void 0===t.workerPort?null:t.workerPort,t.workerSrc=void 0===t.workerSrc?"":t.workerSrc},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var r=function u(L){return L&&L.__esModule?L:{default:L}}(t(156)),o=t(1);function y(L,s,a,f,d,R,h){try{var C=L[R](h),m=C.value}catch(l){return void a(l)}C.done?s(m):Promise.resolve(m).then(f,d)}function B(L,s){for(var a=0;a<s.length;a++){var f=s[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(L,f.key,f)}}function O(L){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(L)}var k={UNKNOWN:0,DATA:1,ERROR:2},_={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function D(L){switch(L instanceof Error||"object"===O(L)&&null!==L||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),L.name){case"AbortException":return new o.AbortException(L.message);case"MissingPDFException":return new o.MissingPDFException(L.message);case"PasswordException":return new o.PasswordException(L.message,L.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(L.message,L.status);case"UnknownErrorException":return new o.UnknownErrorException(L.message,L.details);default:return new o.UnknownErrorException(L.message,L.toString())}}var M=function(){function L(s,a,f){var d=this;(function N(L,s){if(!(L instanceof s))throw new TypeError("Cannot call a class as a function")})(this,L),this.sourceName=s,this.targetName=a,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(R){var h=R.data;if(h.targetName===d.sourceName){if(h.stream)return void d._processStreamMessage(h);if(h.callback){var C=h.callbackId,m=d.callbackCapabilities[C];if(!m)throw new Error("Cannot resolve callback ".concat(C));if(delete d.callbackCapabilities[C],h.callback===k.DATA)m.resolve(h.data);else{if(h.callback!==k.ERROR)throw new Error("Unexpected callback case");m.reject(D(h.reason))}return}var l=d.actionHandler[h.action];if(!l)throw new Error("Unknown action from worker: ".concat(h.action));if(h.callbackId){var b=d.sourceName,P=h.sourceName;return void new Promise(function(g){g(l(h.data))}).then(function(g){f.postMessage({sourceName:b,targetName:P,callback:k.DATA,callbackId:h.callbackId,data:g})},function(g){f.postMessage({sourceName:b,targetName:P,callback:k.ERROR,callbackId:h.callbackId,reason:D(g)})})}if(h.streamId)return void d._createStreamSink(h);l(h.data)}},f.addEventListener("message",this._onComObjOnMessage)}return function Y(L,s,a){s&&B(L.prototype,s),a&&B(L,a),Object.defineProperty(L,"prototype",{writable:!1})}(L,[{key:"on",value:function(a,f){var d=this.actionHandler;if(d[a])throw new Error('There is already an actionName called "'.concat(a,'"'));d[a]=f}},{key:"send",value:function(a,f,d){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:f},d)}},{key:"sendWithPromise",value:function(a,f,d){var R=this.callbackId++,h=(0,o.createPromiseCapability)();this.callbackCapabilities[R]=h;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:R,data:f},d)}catch(C){h.reject(C)}return h.promise}},{key:"sendWithStream",value:function(a,f,d,R){var h=this,C=this.streamId++,m=this.sourceName,l=this.targetName,b=this.comObj;return new ReadableStream({start:function(g){var F=(0,o.createPromiseCapability)();return h.streamControllers[C]={controller:g,startCall:F,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:m,targetName:l,action:a,streamId:C,data:f,desiredSize:g.desiredSize},R),F.promise},pull:function(g){var F=(0,o.createPromiseCapability)();return h.streamControllers[C].pullCall=F,b.postMessage({sourceName:m,targetName:l,stream:_.PULL,streamId:C,desiredSize:g.desiredSize}),F.promise},cancel:function(g){(0,o.assert)(g instanceof Error,"cancel must have a valid reason");var F=(0,o.createPromiseCapability)();return h.streamControllers[C].cancelCall=F,h.streamControllers[C].isClosed=!0,b.postMessage({sourceName:m,targetName:l,stream:_.CANCEL,streamId:C,reason:D(g)}),F.promise}},d)}},{key:"_createStreamSink",value:function(a){var f=a.streamId,d=this.sourceName,R=a.sourceName,h=this.comObj,C=this,m=this.actionHandler[a.action],l={enqueue:function(P){var F=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var z=this.desiredSize;this.desiredSize-=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,z>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),h.postMessage({sourceName:d,targetName:R,stream:_.ENQUEUE,streamId:f,chunk:P},F)}},close:function(){this.isCancelled||(this.isCancelled=!0,h.postMessage({sourceName:d,targetName:R,stream:_.CLOSE,streamId:f}),delete C.streamSinks[f])},error:function(P){(0,o.assert)(P instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,h.postMessage({sourceName:d,targetName:R,stream:_.ERROR,streamId:f,reason:D(P)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[f]=l,new Promise(function(b){b(m(a.data,l))}).then(function(){h.postMessage({sourceName:d,targetName:R,stream:_.START_COMPLETE,streamId:f,success:!0})},function(b){h.postMessage({sourceName:d,targetName:R,stream:_.START_COMPLETE,streamId:f,reason:D(b)})})}},{key:"_processStreamMessage",value:function(a){var f=a.streamId,d=this.sourceName,R=a.sourceName,h=this.comObj,C=this.streamControllers[f],m=this.streamSinks[f];switch(a.stream){case _.START_COMPLETE:a.success?C.startCall.resolve():C.startCall.reject(D(a.reason));break;case _.PULL_COMPLETE:a.success?C.pullCall.resolve():C.pullCall.reject(D(a.reason));break;case _.PULL:if(!m){h.postMessage({sourceName:d,targetName:R,stream:_.PULL_COMPLETE,streamId:f,success:!0});break}m.desiredSize<=0&&a.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=a.desiredSize,new Promise(function(l){l(m.onPull&&m.onPull())}).then(function(){h.postMessage({sourceName:d,targetName:R,stream:_.PULL_COMPLETE,streamId:f,success:!0})},function(l){h.postMessage({sourceName:d,targetName:R,stream:_.PULL_COMPLETE,streamId:f,reason:D(l)})});break;case _.ENQUEUE:if((0,o.assert)(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(a.chunk);break;case _.CLOSE:if((0,o.assert)(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),this._deleteStreamController(C,f);break;case _.ERROR:(0,o.assert)(C,"error should have stream controller"),C.controller.error(D(a.reason)),this._deleteStreamController(C,f);break;case _.CANCEL_COMPLETE:a.success?C.cancelCall.resolve():C.cancelCall.reject(D(a.reason)),this._deleteStreamController(C,f);break;case _.CANCEL:if(!m)break;new Promise(function(l){l(m.onCancel&&m.onCancel(D(a.reason)))}).then(function(){h.postMessage({sourceName:d,targetName:R,stream:_.CANCEL_COMPLETE,streamId:f,success:!0})},function(l){h.postMessage({sourceName:d,targetName:R,stream:_.CANCEL_COMPLETE,streamId:f,reason:D(l)})}),m.sinkCapability.reject(D(a.reason)),m.isCancelled=!0,delete this.streamSinks[f];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(s=function w(L){return function(){var s=this,a=arguments;return new Promise(function(f,d){var R=L.apply(s,a);function h(m){y(R,f,d,h,C,"next",m)}function C(m){y(R,f,d,h,C,"throw",m)}h(void 0)})}}(r.default.mark(function f(d,R){return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.allSettled([d.startCall&&d.startCall.promise,d.pullCall&&d.pullCall.promise,d.cancelCall&&d.cancelCall.promise]);case 2:delete this.streamControllers[R];case 3:case"end":return C.stop()}},f,this)})),function a(f,d){return s.apply(this,arguments)})},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),L;var s}();i.MessageHandler=M},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var r=t(1);function u(s,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}function w(s,a,f){(function N(s,a){if(a.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")})(s,a),a.set(s,f)}function B(s,a){return function Y(s,a){return a.get?a.get.call(s):a.value}(s,k(s,a,"get"))}function O(s,a,f){return function _(s,a,f){if(a.set)a.set.call(s,f);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=f}}(s,k(s,a,"set"),f),f}function k(s,a,f){if(!a.has(s))throw new TypeError("attempted to "+f+" private field on non-instance");return a.get(s)}var D=new WeakMap,M=new WeakMap;i.Metadata=function(){function s(a){var f=a.parsedData,d=a.rawData;(function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),w(this,D,{writable:!0,value:void 0}),w(this,M,{writable:!0,value:void 0}),O(this,D,f),O(this,M,d)}return function y(s,a,f){a&&u(s.prototype,a),f&&u(s,f),Object.defineProperty(s,"prototype",{writable:!1})}(s,[{key:"getRaw",value:function(){return B(this,M)}},{key:"get",value:function(f){var d;return null!==(d=B(this,D).get(f))&&void 0!==d?d:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(B(this,D))}},{key:"has",value:function(f){return B(this,D).has(f)}}]),s}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var r=t(1);function o(k,_){var D=typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!D){if(Array.isArray(k)||(D=function u(k,_){if(k){if("string"==typeof k)return y(k,_);var D=Object.prototype.toString.call(k).slice(8,-1);if("Object"===D&&k.constructor&&(D=k.constructor.name),"Map"===D||"Set"===D)return Array.from(k);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return y(k,_)}}(k))||_&&k&&"number"==typeof k.length){D&&(k=D);var M=0,L=function(){};return{s:L,n:function(){return M>=k.length?{done:!0}:{done:!1,value:k[M++]}},e:function(R){throw R},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,s=!0,a=!1;return{s:function(){D=D.call(k)},n:function(){var R=D.next();return s=R.done,R},e:function(R){a=!0,f=R},f:function(){try{!s&&null!=D.return&&D.return()}finally{if(a)throw f}}}}function y(k,_){(null==_||_>k.length)&&(_=k.length);for(var D=0,M=new Array(_);D<_;D++)M[D]=k[D];return M}function w(k,_){for(var D=0;D<_.length;D++){var M=_[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}function N(k,_,D){return _&&w(k.prototype,_),D&&w(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}function B(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}var Y=N(function k(_,D){B(this,k),this.visible=!0,this.name=_,this.intent=D}),O=function(){function k(_){if(B(this,k),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==_){this.name=_.name,this.creator=_.creator,this._order=_.order;var M,D=o(_.groups);try{for(D.s();!(M=D.n()).done;){var L=M.value;this._groups.set(L.id,new Y(L.name,L.intent))}}catch(b){D.e(b)}finally{D.f()}if("OFF"===_.baseState){var a,s=o(this._groups);try{for(s.s();!(a=s.n()).done;)a.value.visible=!1}catch(b){s.e(b)}finally{s.f()}}var R,d=o(_.on);try{for(d.s();!(R=d.n()).done;)this._groups.get(R.value).visible=!0}catch(b){d.e(b)}finally{d.f()}var m,C=o(_.off);try{for(C.s();!(m=C.n()).done;)this._groups.get(m.value).visible=!1}catch(b){C.e(b)}finally{C.f()}}}return N(k,[{key:"_evaluateVisibilityExpression",value:function(D){var M=D.length;if(M<2)return!0;for(var L=D[0],s=1;s<M;s++){var a=D[s],f=void 0;if(Array.isArray(a))f=this._evaluateVisibilityExpression(a);else{if(!this._groups.has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;f=this._groups.get(a).visible}switch(L){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return"And"===L}},{key:"isVisible",value:function(D){if(0===this._groups.size)return!0;if(!D)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===D.type)return this._groups.has(D.id)?this._groups.get(D.id).visible:((0,r.warn)("Optional content group not found: ".concat(D.id)),!0);if("OCMD"===D.type){if(D.expression)return this._evaluateVisibilityExpression(D.expression);if(!D.policy||"AnyOn"===D.policy){var L,M=o(D.ids);try{for(M.s();!(L=M.n()).done;){var s=L.value;if(!this._groups.has(s))return(0,r.warn)("Optional content group not found: ".concat(s)),!0;if(this._groups.get(s).visible)return!0}}catch(P){M.e(P)}finally{M.f()}return!1}if("AllOn"===D.policy){var f,a=o(D.ids);try{for(a.s();!(f=a.n()).done;){var d=f.value;if(!this._groups.has(d))return(0,r.warn)("Optional content group not found: ".concat(d)),!0;if(!this._groups.get(d).visible)return!1}}catch(P){a.e(P)}finally{a.f()}return!0}if("AnyOff"===D.policy){var h,R=o(D.ids);try{for(R.s();!(h=R.n()).done;){var C=h.value;if(!this._groups.has(C))return(0,r.warn)("Optional content group not found: ".concat(C)),!0;if(!this._groups.get(C).visible)return!0}}catch(P){R.e(P)}finally{R.f()}return!1}if("AllOff"===D.policy){var l,m=o(D.ids);try{for(m.s();!(l=m.n()).done;){var b=l.value;if(!this._groups.has(b))return(0,r.warn)("Optional content group not found: ".concat(b)),!0;if(this._groups.get(b).visible)return!1}}catch(P){m.e(P)}finally{m.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(D.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(D.type,".")),!0}},{key:"setVisibility",value:function(D){var M=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(D)?this._groups.get(D).visible=!!M:(0,r.warn)("Optional content group not found: ".concat(D))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(D){return this._groups.get(D)||null}}]),k}();i.OptionalContentConfig=O},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var r=function y(a){return a&&a.__esModule?a:{default:a}}(t(156)),o=t(1),u=t(158);function w(a,f,d,R,h,C,m){try{var l=a[C](m),b=l.value}catch(P){return void d(P)}l.done?f(b):Promise.resolve(b).then(R,h)}function N(a){return function(){var f=this,d=arguments;return new Promise(function(R,h){var C=a.apply(f,d);function m(b){w(C,R,h,m,l,"next",b)}function l(b){w(C,R,h,m,l,"throw",b)}m(void 0)})}}function B(a,f){var d=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!d){if(Array.isArray(a)||(d=function Y(a,f){if(a){if("string"==typeof a)return O(a,f);var d=Object.prototype.toString.call(a).slice(8,-1);if("Object"===d&&a.constructor&&(d=a.constructor.name),"Map"===d||"Set"===d)return Array.from(a);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return O(a,f)}}(a))||f&&a&&"number"==typeof a.length){d&&(a=d);var R=0,h=function(){};return{s:h,n:function(){return R>=a.length?{done:!0}:{done:!1,value:a[R++]}},e:function(P){throw P},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,C=!0,m=!1;return{s:function(){d=d.call(a)},n:function(){var P=d.next();return C=P.done,P},e:function(P){m=!0,l=P},f:function(){try{!C&&null!=d.return&&d.return()}finally{if(m)throw l}}}}function O(a,f){(null==f||f>a.length)&&(f=a.length);for(var d=0,R=new Array(f);d<f;d++)R[d]=a[d];return R}function k(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function _(a,f){for(var d=0;d<f.length;d++){var R=f[d];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(a,R.key,R)}}function D(a,f,d){return f&&_(a.prototype,f),d&&_(a,d),Object.defineProperty(a,"prototype",{writable:!1}),a}i.PDFDataTransportStream=function(){function a(f,d){var R=this;k(this,a),(0,o.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;var h=f.initialData;if(h?.length>0){var C=new Uint8Array(h).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(m,l){R._onReceiveData({begin:m,chunk:l})}),this._pdfDataRangeTransport.addProgressListener(function(m,l){R._onProgress({loaded:m,total:l})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(m){R._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){R._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return D(a,[{key:"_onReceiveData",value:function(d){var R=new Uint8Array(d.chunk).buffer;if(void 0===d.begin)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{var h=this._rangeReaders.some(function(C){return C._begin===d.begin&&(C._enqueue(R),!0)});(0,o.assert)(h,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var d,R;return null!==(d=null===(R=this._fullRequestReader)||void 0===R?void 0:R._loaded)&&void 0!==d?d:0}},{key:"_onProgress",value:function(d){if(void 0===d.total){var R=this._rangeReaders[0];null!=R&&R.onProgress&&R.onProgress({loaded:d.loaded})}else{var h=this._fullRequestReader;null!=h&&h.onProgress&&h.onProgress({loaded:d.loaded,total:d.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(d){var R=this._rangeReaders.indexOf(d);R>=0&&this._rangeReaders.splice(R,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var d=this._queuedChunks;return this._queuedChunks=null,new L(this,d,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(d,R){if(R<=this._progressiveDataLength)return null;var h=new s(this,d,R);return this._pdfDataRangeTransport.requestDataRange(d,R),this._rangeReaders.push(h),h}},{key:"cancelAllRequests",value:function(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);var h,R=B(this._rangeReaders.slice(0));try{for(R.s();!(h=R.n()).done;)h.value.cancel(d)}catch(m){R.e(m)}finally{R.f()}this._pdfDataRangeTransport.abort()}}]),a}();var L=function(){function a(f,d){var R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;k(this,a),this._stream=f,this._done=R||!1,this._filename=(0,u.isPdfFile)(h)?h:null,this._queuedChunks=d||[],this._loaded=0;var m,C=B(this._queuedChunks);try{for(C.s();!(m=C.n()).done;)this._loaded+=m.value.byteLength}catch(b){C.e(b)}finally{C.f()}this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}return D(a,[{key:"_enqueue",value:function(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(f=N(r.default.mark(function R(){var h,C;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(this._queuedChunks.length>0)){l.next=3;break}return h=this._queuedChunks.shift(),l.abrupt("return",{value:h,done:!1});case 3:if(!this._done){l.next=5;break}return l.abrupt("return",{value:void 0,done:!0});case 5:return C=(0,o.createPromiseCapability)(),this._requests.push(C),l.abrupt("return",C.promise);case 8:case"end":return l.stop()}},R,this)})),function d(){return f.apply(this,arguments)})},{key:"cancel",value:function(d){this._done=!0;var h,R=B(this._requests);try{for(R.s();!(h=R.n()).done;)h.value.resolve({value:void 0,done:!0})}catch(m){R.e(m)}finally{R.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),a;var f}(),s=function(){function a(f,d,R){k(this,a),this._stream=f,this._begin=d,this._end=R,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return D(a,[{key:"_enqueue",value:function(d){if(!this._done){if(0===this._requests.length)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});var C,h=B(this._requests);try{for(h.s();!(C=h.n()).done;)C.value.resolve({value:void 0,done:!0})}catch(l){h.e(l)}finally{h.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(f=N(r.default.mark(function R(){var h,C;return r.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this._queuedChunk){l.next=4;break}return h=this._queuedChunk,this._queuedChunk=null,l.abrupt("return",{value:h,done:!1});case 4:if(!this._done){l.next=6;break}return l.abrupt("return",{value:void 0,done:!0});case 6:return C=(0,o.createPromiseCapability)(),this._requests.push(C),l.abrupt("return",C.promise);case 9:case"end":return l.stop()}},R,this)})),function d(){return f.apply(this,arguments)})},{key:"cancel",value:function(d){this._done=!0;var h,R=B(this._requests);try{for(R.s();!(h=R.n()).done;)h.value.resolve({value:void 0,done:!0})}catch(m){R.e(m)}finally{R.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),a;var f}()},(p,i)=>{"use strict";function o(B,Y){(null==Y||Y>B.length)&&(Y=B.length);for(var O=0,k=new Array(Y);O<Y;O++)k[O]=B[O];return k}function y(B,Y){for(var O=0;O<Y.length;O++){var k=Y[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(B,k.key,k)}}Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0,i.XfaText=function(){function B(){!function u(B,Y){if(!(B instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,B)}return function w(B,Y,O){Y&&y(B.prototype,Y),O&&y(B,O),Object.defineProperty(B,"prototype",{writable:!1})}(B,null,[{key:"textContent",value:function(O){var k=[],_={items:k,styles:Object.create(null)};return function D(M){var L;if(M){var s=null,a=M.name;if("#text"===a)s=M.value;else{if(!B.shouldBuildText(a))return;null!=M&&null!==(L=M.attributes)&&void 0!==L&&L.textContent?s=M.attributes.textContent:M.value&&(s=M.value)}if(null!==s&&k.push({str:s}),M.children){var d,f=function t(B,Y){var O=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!O){if(Array.isArray(B)||(O=function r(B,Y){if(B){if("string"==typeof B)return o(B,Y);var O=Object.prototype.toString.call(B).slice(8,-1);if("Object"===O&&B.constructor&&(O=B.constructor.name),"Map"===O||"Set"===O)return Array.from(B);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return o(B,Y)}}(B))||Y&&B&&"number"==typeof B.length){O&&(B=O);var k=0,_=function(){};return{s:_,n:function(){return k>=B.length?{done:!0}:{done:!1,value:B[k++]}},e:function(a){throw a},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,D=!0,M=!1;return{s:function(){O=O.call(B)},n:function(){var a=O.next();return D=a.done,a},e:function(a){M=!0,L=a},f:function(){try{!D&&null!=O.return&&O.return()}finally{if(M)throw L}}}}(M.children);try{for(f.s();!(d=f.n()).done;)D(d.value)}catch(h){f.e(h)}finally{f.f()}}}}(O),_}},{key:"shouldBuildText",value:function(O){return!("textarea"===O||"input"===O||"option"===O||"select"===O)}}]),B}()},(p,i,t)=>{"use strict";function r(f){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=t(159);function u(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function y(f,d){for(var R=0;R<d.length;R++){var h=d[R];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function w(f,d,R){return d&&y(f.prototype,d),R&&y(f,R),Object.defineProperty(f,"prototype",{writable:!1}),f}function N(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),d&&B(f,d)}function B(f,d){return(B=Object.setPrototypeOf||function(h,C){return h.__proto__=C,h})(f,d)}function Y(f){var d=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,h=D(f);if(d){var m=D(this).constructor;C=Reflect.construct(h,arguments,m)}else C=h.apply(this,arguments);return function O(f,d){if(d&&("object"===r(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return function k(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f)}(this,C)}}function D(f){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(f)}var M=function(d){return new Promise(function(R,h){__webpack_require__(2767).readFile(d,function(m,l){!m&&l?R(new Uint8Array(l)):h(new Error(m))})})},L=function(f){N(R,f);var d=Y(R);function R(){return u(this,R),d.apply(this,arguments)}return w(R,[{key:"_createCanvas",value:function(C,m){return __webpack_require__(4601).createCanvas(C,m)}}]),R}(o.BaseCanvasFactory);i.NodeCanvasFactory=L;var s=function(f){N(R,f);var d=Y(R);function R(){return u(this,R),d.apply(this,arguments)}return w(R,[{key:"_fetchData",value:function(C,m){return M(C).then(function(l){return{cMapData:l,compressionType:m}})}}]),R}(o.BaseCMapReaderFactory);i.NodeCMapReaderFactory=s;var a=function(f){N(R,f);var d=Y(R);function R(){return u(this,R),d.apply(this,arguments)}return w(R,[{key:"_fetchData",value:function(C){return M(C)}}]),R}(o.BaseStandardFontDataFactory);i.NodeStandardFontDataFactory=a},(p,i,t)=>{"use strict";function r(T){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(T)}Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var o=t(1),u=t(158),y=t(161),w=t(174),N=t(175);function B(T,K,I){return function Y(T,K){if(T!==K)throw new TypeError("Private static access of wrong provenance")}(T,K),I}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(K,I,U){var W=function k(T,K){for(;!Object.prototype.hasOwnProperty.call(T,K)&&null!==(T=m(T)););return T}(K,I);if(W){var X=Object.getOwnPropertyDescriptor(W,I);return X.get?X.get.call(arguments.length<3?K:U):X.value}},O.apply(this,arguments)}function _(T,K,I){return K in T?Object.defineProperty(T,K,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[K]=I,T}function D(T){return function s(T){if(Array.isArray(T))return F(T)}(T)||function L(T){if(typeof Symbol<"u"&&null!=T[Symbol.iterator]||null!=T["@@iterator"])return Array.from(T)}(T)||g(T)||function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(T,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(K&&K.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),K&&f(T,K)}function f(T,K){return(f=Object.setPrototypeOf||function(U,W){return U.__proto__=W,U})(T,K)}function d(T){var K=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,U=m(T);if(K){var X=m(this).constructor;W=Reflect.construct(U,arguments,X)}else W=U.apply(this,arguments);return function R(T,K){if(K&&("object"===r(K)||"function"==typeof K))return K;if(void 0!==K)throw new TypeError("Derived constructors may only return object or undefined");return h(T)}(this,W)}}function h(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function m(T){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(T)}function l(T,K){var I=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!I){if(Array.isArray(T)||(I=g(T))||K&&T&&"number"==typeof T.length){I&&(T=I);var U=0,W=function(){};return{s:W,n:function(){return U>=T.length?{done:!0}:{done:!1,value:T[U++]}},e:function(we){throw we},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ce,X=!0,H=!1;return{s:function(){I=I.call(T)},n:function(){var we=I.next();return X=we.done,we},e:function(we){H=!0,ce=we},f:function(){try{!X&&null!=I.return&&I.return()}finally{if(H)throw ce}}}}function b(T,K){return function ee(T){if(Array.isArray(T))return T}(T)||function z(T,K){var I=null==T?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(null!=I){var H,ce,U=[],W=!0,X=!1;try{for(I=I.call(T);!(W=(H=I.next()).done)&&(U.push(H.value),!K||U.length!==K);W=!0);}catch(Se){X=!0,ce=Se}finally{try{!W&&null!=I.return&&I.return()}finally{if(X)throw ce}}return U}}(T,K)||g(T,K)||function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(T,K){if(T){if("string"==typeof T)return F(T,K);var I=Object.prototype.toString.call(T).slice(8,-1);if("Object"===I&&T.constructor&&(I=T.constructor.name),"Map"===I||"Set"===I)return Array.from(T);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return F(T,K)}}function F(T,K){(null==K||K>T.length)&&(K=T.length);for(var I=0,U=new Array(K);I<K;I++)U[I]=T[I];return U}function Q(T,K){if(!(T instanceof K))throw new TypeError("Cannot call a class as a function")}function oe(T,K){for(var I=0;I<K.length;I++){var U=K[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}function V(T,K,I){return K&&oe(T.prototype,K),I&&oe(T,I),Object.defineProperty(T,"prototype",{writable:!1}),T}var re=new WeakSet;function c(T){return{width:T[2]-T[0],height:T[3]-T[1]}}var v=function(){function T(){Q(this,T)}return V(T,null,[{key:"create",value:function(I){switch(I.data.annotationType){case o.AnnotationType.LINK:return new G(I);case o.AnnotationType.TEXT:return new ie(I);case o.AnnotationType.WIDGET:switch(I.data.fieldType){case"Tx":return new ne(I);case"Btn":return I.data.radioButton?new pe(I):I.data.checkBox?new Ee(I):new _e(I);case"Ch":return new he(I)}return new ye(I);case o.AnnotationType.POPUP:return new Ae(I);case o.AnnotationType.FREETEXT:return new Oe(I);case o.AnnotationType.LINE:return new Te(I);case o.AnnotationType.SQUARE:return new Ie(I);case o.AnnotationType.CIRCLE:return new Me(I);case o.AnnotationType.POLYLINE:return new j(I);case o.AnnotationType.CARET:return new E(I);case o.AnnotationType.INK:return new A(I);case o.AnnotationType.POLYGON:return new ae(I);case o.AnnotationType.HIGHLIGHT:return new $(I);case o.AnnotationType.UNDERLINE:return new J(I);case o.AnnotationType.SQUIGGLY:return new Z(I);case o.AnnotationType.STRIKEOUT:return new le(I);case o.AnnotationType.STAMP:return new fe(I);case o.AnnotationType.FILEATTACHMENT:return new se(I);default:return new x(I)}}}]),T}(),x=function(){function T(K){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=I.isRenderable,W=void 0!==U&&U,X=I.ignoreBorder,H=void 0!==X&&X,ce=I.createQuadrilaterals,Se=void 0!==ce&&ce;Q(this,T),this.isRenderable=W,this.data=K.data,this.layer=K.layer,this.page=K.page,this.viewport=K.viewport,this.linkService=K.linkService,this.downloadManager=K.downloadManager,this.imageResourcesPath=K.imageResourcesPath,this.renderForms=K.renderForms,this.svgFactory=K.svgFactory,this.annotationStorage=K.annotationStorage,this.enableScripting=K.enableScripting,this.hasJSActions=K.hasJSActions,this._fieldObjects=K.fieldObjects,this._mouseState=K.mouseState,W&&(this.container=this._createContainer(H)),Se&&(this.quadrilaterals=this._createQuadrilaterals(H))}return V(T,[{key:"_createContainer",value:function(){var I=arguments.length>0&&void 0!==arguments[0]&&arguments[0],U=this.data,W=this.page,X=this.viewport,H=document.createElement("section"),ce=c(U.rect),Se=ce.width,we=ce.height;H.setAttribute("data-annotation-id",U.id);var Ce=o.Util.normalizeRect([U.rect[0],W.view[3]-U.rect[1]+W.view[1],U.rect[2],W.view[3]-U.rect[3]+W.view[1]]);if(U.hasOwnCanvas){var Fe=X.transform.slice(),De=b(o.Util.singularValueDecompose2dScale(Fe),2),Be=De[0],Xe=De[1];Se=Math.ceil(Se*Be),we=Math.ceil(we*Xe),Ce[0]*=Be,Ce[1]*=Xe;for(var Le=0;Le<4;Le++)Fe[Le]=Math.sign(Fe[Le]);H.style.transform="matrix(".concat(Fe.join(","),")")}else H.style.transform="matrix(".concat(X.transform.join(","),")");if(H.style.transformOrigin="".concat(-Ce[0],"px ").concat(-Ce[1],"px"),!I&&U.borderStyle.width>0){H.style.borderWidth="".concat(U.borderStyle.width,"px"),U.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(Se-=2*U.borderStyle.width,we-=2*U.borderStyle.width);var je=U.borderStyle.horizontalCornerRadius,Ge=U.borderStyle.verticalCornerRadius;if(je>0||Ge>0){var Ve="".concat(je,"px / ").concat(Ge,"px");H.style.borderRadius=Ve}switch(U.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:H.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:H.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:H.style.borderBottomStyle="solid"}U.borderColor||U.color?H.style.borderColor=o.Util.makeHexColor(0|U.color[0],0|U.color[1],0|U.color[2]):H.style.borderWidth=0}return H.style.left="".concat(Ce[0],"px"),H.style.top="".concat(Ce[1],"px"),U.hasOwnCanvas?H.style.width=H.style.height="auto":(H.style.width="".concat(Se,"px"),H.style.height="".concat(we,"px")),H}},{key:"_commonActions",get:function(){var I=this,U=function(X,H,ce){var Se=ce.detail[X];ce.target.style[H]=w.ColorConverters["".concat(Se[0],"_HTML")](Se.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:function(X){var H=X.detail.display%2==1;X.target.style.visibility=H?"hidden":"visible",I.annotationStorage.setValue(I.data.id,{hidden:H,print:0===X.detail.display||3===X.detail.display})},print:function(X){I.annotationStorage.setValue(I.data.id,{print:X.detail.print})},hidden:function(X){X.target.style.visibility=X.detail.hidden?"hidden":"visible",I.annotationStorage.setValue(I.data.id,{hidden:X.detail.hidden})},focus:function(X){setTimeout(function(){return X.target.focus({preventScroll:!1})},0)},userName:function(X){X.target.title=X.detail.userName},readonly:function(X){X.detail.readonly?X.target.setAttribute("readonly",""):X.target.removeAttribute("readonly")},required:function(X){X.detail.required?X.target.setAttribute("required",""):X.target.removeAttribute("required")},bgColor:function(X){U("bgColor","backgroundColor",X)},fillColor:function(X){U("fillColor","backgroundColor",X)},fgColor:function(X){U("fgColor","color",X)},textColor:function(X){U("textColor","color",X)},borderColor:function(X){U("borderColor","borderColor",X)},strokeColor:function(X){U("strokeColor","borderColor",X)}})}},{key:"_dispatchEventFromSandbox",value:function(I,U){for(var W=this._commonActions,X=0,H=Object.keys(U.detail);X<H.length;X++){var ce=H[X],Se=I[ce]||W[ce];Se&&Se(U)}}},{key:"_setDefaultPropertiesFromJS",value:function(I){if(this.enableScripting){var U=this.annotationStorage.getRawValue(this.data.id);if(U)for(var W=this._commonActions,X=0,H=Object.entries(U);X<H.length;X++){var ce=b(H[X],2),Se=ce[0],Ce=W[Se];Ce&&(Ce({detail:ce[1],target:I}),delete U[Se])}}}},{key:"_createQuadrilaterals",value:function(){var I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var H,U=[],W=this.data.rect,X=l(this.data.quadPoints);try{for(X.s();!(H=X.n()).done;){var ce=H.value;this.data.rect=[ce[2].x,ce[2].y,ce[1].x,ce[1].y],U.push(this._createContainer(I))}}catch(Se){X.e(Se)}finally{X.f()}return this.data.rect=W,U}},{key:"_createPopup",value:function(I,U){var W=this.container;this.quadrilaterals&&(I=I||this.quadrilaterals,W=this.quadrilaterals[0]),I||((I=document.createElement("div")).style.height=W.style.height,I.style.width=W.style.width,W.appendChild(I));var H=new Pe({container:W,trigger:I,color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,hideWrapper:!0}).render();H.style.left=W.style.width,W.appendChild(H)}},{key:"_renderQuadrilaterals",value:function(I){var W,U=l(this.quadrilaterals);try{for(U.s();!(W=U.n()).done;)W.value.className=I}catch(H){U.e(H)}finally{U.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(I){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,W=[];if(this._fieldObjects){var X=this._fieldObjects[I];if(X){var ce,H=l(X);try{for(H.s();!(ce=H.n()).done;){var Se=ce.value,Ce=Se.id,Fe=Se.exportValues;if(-1!==Se.page&&Ce!==U){var We="string"==typeof Fe?Fe:null,De=document.getElementById(Ce);if(De&&!re.has(De)){(0,o.warn)("_getElementsByName - element not allowed: ".concat(Ce));continue}W.push({id:Ce,exportValue:We,domElement:De})}}}catch(Ve){H.e(Ve)}finally{H.f()}}return W}var Xe,Be=l(document.getElementsByName(I));try{for(Be.s();!(Xe=Be.n()).done;){var Le=Xe.value,je=Le.id,Ge=Le.exportValue;je!==U&&re.has(Le)&&W.push({id:je,exportValue:Ge,domElement:Le})}}catch(Ve){Be.e(Ve)}finally{Be.f()}return W}}],[{key:"platform",get:function(){var I=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:I.includes("Win"),isMac:I.includes("Mac")})}}]),T}(),G=function(T){a(I,T);var K=d(I);function I(U){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Q(this,I),K.call(this,U,{isRenderable:!!(U.data.url||U.data.dest||U.data.action||U.data.isTooltipOnly||U.data.resetForm||U.data.actions&&(U.data.actions.Action||U.data.actions["Mouse Up"]||U.data.actions["Mouse Down"])),ignoreBorder:!(null==W||!W.ignoreBorder),createQuadrilaterals:!0})}return V(I,[{key:"render",value:function(){var W=this.data,X=this.linkService,H=document.createElement("a");if(W.url)X.addLinkAttributes(H,W.url,W.newWindow);else if(W.action)this._bindNamedAction(H,W.action);else if(W.dest)this._bindLink(H,W.dest);else{var ce=!1;W.actions&&(W.actions.Action||W.actions["Mouse Up"]||W.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(ce=!0,this._bindJSAction(H,W)),W.resetForm?this._bindResetFormAction(H,W.resetForm):ce||this._bindLink(H,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(Se,we){var Ce=0===we?H:H.cloneNode();return Se.appendChild(Ce),Se}):(this.container.className="linkAnnotation",this.container.appendChild(H),this.container)}},{key:"_bindLink",value:function(W,X){var H=this;W.href=this.linkService.getDestinationHash(X),W.onclick=function(){return X&&H.linkService.goToDestination(X),!1},(X||""===X)&&(W.className="internalLink")}},{key:"_bindNamedAction",value:function(W,X){var H=this;W.href=this.linkService.getAnchorUrl(""),W.onclick=function(){return H.linkService.executeNamedAction(X),!1},W.className="internalLink"}},{key:"_bindJSAction",value:function(W,X){var H=this;W.href=this.linkService.getAnchorUrl("");for(var ce=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),Se=function(){var De=Ce[we],Be=ce.get(De);if(!Be)return"continue";W[Be]=function(){var Xe;return null===(Xe=H.linkService.eventBus)||void 0===Xe||Xe.dispatch("dispatcheventinsandbox",{source:H,detail:{id:X.id,name:De}}),!1}},we=0,Ce=Object.keys(X.actions);we<Ce.length;we++)Se();W.onclick||(W.onclick=function(){return!1}),W.className="internalLink"}},{key:"_bindResetFormAction",value:function(W,X){var H=this,ce=W.onclick;if(ce||(W.href=this.linkService.getAnchorUrl("")),W.className="internalLink",!this._fieldObjects)return(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(ce||(W.onclick=function(){return!1}));W.onclick=function(){ce&&ce();var yt,Se=X.fields,we=X.refs,Ce=X.include,Fe=[];if(0!==Se.length||0!==we.length){var Be,We=new Set(we),De=l(Se);try{for(De.s();!(Be=De.n()).done;){var Ge,je=l(H._fieldObjects[Be.value]||[]);try{for(je.s();!(Ge=je.n()).done;)We.add(Ge.value.id)}catch(st){je.e(st)}finally{je.f()}}}catch(st){De.e(st)}finally{De.f()}for(var Ne=0,Ye=Object.values(H._fieldObjects);Ne<Ye.length;Ne++){var et,Ze=l(Ye[Ne]);try{for(Ze.s();!(et=Ze.n()).done;){var de=et.value;We.has(de.id)===Ce&&Fe.push(de)}}catch(st){Ze.e(st)}finally{Ze.f()}}}else for(var Re=0,ue=Object.values(H._fieldObjects);Re<ue.length;Re++)Fe.push.apply(Fe,D(ue[Re]));for(var ze=H.annotationStorage,Ke=[],nt=0,rt=Fe;nt<rt.length;nt++){var it=rt[nt],ct=it.id;switch(Ke.push(ct),it.type){case"text":case"combobox":case"listbox":ze.setValue(ct,{value:it.defaultValue||""});break;case"checkbox":case"radiobutton":ze.setValue(ct,{value:it.defaultValue===it.exportValues});break;default:continue}var ft=document.getElementById(ct);!ft||!re.has(ft)||ft.dispatchEvent(new Event("resetform"))}return H.enableScripting&&(null===(yt=H.linkService.eventBus)||void 0===yt||yt.dispatch("dispatcheventinsandbox",{source:H,detail:{id:"app",ids:Ke,name:"ResetForm"}})),!1}}}]),I}(x),ie=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce})}return V(I,[{key:"render",value:function(){this.container.className="textAnnotation";var W=document.createElement("img");return W.style.height=this.container.style.height,W.style.width=this.container.style.width,W.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",W.alt="[{{type}} Annotation]",W.dataset.l10nId="text_annotation_type",W.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(W,this.data),this.container.appendChild(W),this.container}}]),I}(x),ye=function(T){a(I,T);var K=d(I);function I(){return Q(this,I),K.apply(this,arguments)}return V(I,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(W){var X=x.platform;return X.isWin&&W.ctrlKey||X.isMac&&W.metaKey}},{key:"_setEventListener",value:function(W,X,H,ce){var Se=this;X.includes("mouse")?W.addEventListener(X,function(we){var Ce;null===(Ce=Se.linkService.eventBus)||void 0===Ce||Ce.dispatch("dispatcheventinsandbox",{source:Se,detail:{id:Se.data.id,name:H,value:ce(we),shift:we.shiftKey,modifier:Se._getKeyModifier(we)}})}):W.addEventListener(X,function(we){var Ce;null===(Ce=Se.linkService.eventBus)||void 0===Ce||Ce.dispatch("dispatcheventinsandbox",{source:Se,detail:{id:Se.data.id,name:H,value:ce(we)}})})}},{key:"_setEventListeners",value:function(W,X,H){var Se,ce=l(X);try{for(ce.s();!(Se=ce.n()).done;){var we,Ce=b(Se.value,2),We=Ce[1];("Action"===We||null!==(we=this.data.actions)&&void 0!==we&&we[We])&&this._setEventListener(W,Ce[0],We,H)}}catch(De){ce.e(De)}finally{ce.f()}}},{key:"_setBackgroundColor",value:function(W){var X=this.data.backgroundColor||null;W.style.backgroundColor=null===X?"transparent":o.Util.makeHexColor(X[0],X[1],X[2])}}]),I}(x),ne=function(T){a(I,T);var K=d(I);function I(U){return Q(this,I),K.call(this,U,{isRenderable:U.renderForms||!U.data.hasAppearance&&!!U.data.fieldValue})}return V(I,[{key:"setPropertyOnSiblings",value:function(W,X,H,ce){var Ce,Se=this.annotationStorage,we=l(this._getElementsByName(W.name,W.id));try{for(we.s();!(Ce=we.n()).done;){var Fe=Ce.value;Fe.domElement&&(Fe.domElement[X]=H),Se.setValue(Fe.id,_({},ce,H))}}catch(We){we.e(We)}finally{we.f()}}},{key:"render",value:function(){var W=this,X=this.annotationStorage,H=this.data.id;this.container.className="textWidgetAnnotation";var ce=null;if(this.renderForms){var Se=X.getValue(H,{value:this.data.fieldValue}),we=Se.formattedValue||Se.value||"",Ce={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ce=document.createElement("textarea")).textContent=we:((ce=document.createElement("input")).type="text",ce.setAttribute("value",we)),re.add(ce),ce.disabled=this.data.readOnly,ce.name=this.data.fieldName,ce.tabIndex=1e3,Ce.userValue=we,ce.setAttribute("id",H),ce.addEventListener("input",function(Le){X.setValue(H,{value:Le.target.value}),W.setPropertyOnSiblings(ce,"value",Le.target.value,"value")}),ce.addEventListener("resetform",function(Le){var je,Ge=null!==(je=W.data.defaultFieldValue)&&void 0!==je?je:"";ce.value=Ce.userValue=Ge,Ce.formattedValue=null});var Fe=function(je){var Ge=Ce.formattedValue;null!=Ge&&(je.target.value=Ge),je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var We;ce.addEventListener("focus",function(Le){Ce.userValue&&(Le.target.value=Ce.userValue),Ce.valueOnFocus=Le.target.value}),ce.addEventListener("updatefromsandbox",function(Le){W._dispatchEventFromSandbox({value:function(Ve){var Ne;Ce.userValue=null!==(Ne=Ve.detail.value)&&void 0!==Ne?Ne:"",X.setValue(H,{value:Ce.userValue.toString()}),Ve.target.value=Ce.userValue},formattedValue:function(Ve){var Ne=Ve.detail.formattedValue;Ce.formattedValue=Ne,null!=Ne&&Ve.target!==document.activeElement&&(Ve.target.value=Ne),X.setValue(H,{formattedValue:Ne})},selRange:function(Ve){var Ne;(Ne=Ve.target).setSelectionRange.apply(Ne,D(Ve.detail.selRange))}},Le)}),ce.addEventListener("keydown",function(Le){var je,Ge=-1;if("Escape"===Le.key?Ge=0:"Enter"===Le.key?Ge=2:"Tab"===Le.key&&(Ge=3),-1!==Ge){var Ve=Le.target.value;Ce.valueOnFocus!==Ve&&(Ce.userValue=Ve,null===(je=W.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:W,detail:{id:H,name:"Keystroke",value:Ve,willCommit:!0,commitKey:Ge,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}}))}});var De=Fe;Fe=null,ce.addEventListener("blur",function(Le){var Ge,je=Le.target.value;Ce.userValue=je,W._mouseState.isDown&&Ce.valueOnFocus!==je&&(null===(Ge=W.linkService.eventBus)||void 0===Ge||Ge.dispatch("dispatcheventinsandbox",{source:W,detail:{id:H,name:"Keystroke",value:je,willCommit:!0,commitKey:1,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}})),De(Le)}),null!==(We=this.data.actions)&&void 0!==We&&We.Keystroke&&ce.addEventListener("beforeinput",function(Le){var je,Ge=Le.data,Ve=Le.target,Ne=Ve.value,Ye=Ve.selectionStart,Je=Ve.selectionEnd,Ze=Ye,et=Je;switch(Le.inputType){case"deleteWordBackward":var de=Ne.substring(0,Ye).match(/\w*[^\w]*$/);de&&(Ze-=de[0].length);break;case"deleteWordForward":var Re=Ne.substring(Ye).match(/^[^\w]*\w*/);Re&&(et+=Re[0].length);break;case"deleteContentBackward":Ye===Je&&(Ze-=1);break;case"deleteContentForward":Ye===Je&&(et+=1)}Le.preventDefault(),null===(je=W.linkService.eventBus)||void 0===je||je.dispatch("dispatcheventinsandbox",{source:W,detail:{id:H,name:"Keystroke",value:Ne,change:Ge||"",willCommit:!1,selStart:Ze,selEnd:et}})}),this._setEventListeners(ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Le){return Le.target.value})}if(Fe&&ce.addEventListener("blur",Fe),null!==this.data.maxLen&&(ce.maxLength=this.data.maxLen),this.data.comb){var Xe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;ce.classList.add("comb"),ce.style.letterSpacing="calc(".concat(Xe,"px - 1ch)")}}else(ce=document.createElement("div")).textContent=this.data.fieldValue,ce.style.verticalAlign="middle",ce.style.display="table-cell";return this._setTextStyle(ce),this._setBackgroundColor(ce),this._setDefaultPropertiesFromJS(ce),this.container.appendChild(ce),this.container}},{key:"_setTextStyle",value:function(W){var H=this.data.defaultAppearanceData,ce=H.fontSize,Se=H.fontColor,we=W.style;ce&&(we.fontSize="".concat(ce,"px")),we.color=o.Util.makeHexColor(Se[0],Se[1],Se[2]),null!==this.data.textAlignment&&(we.textAlign=["left","center","right"][this.data.textAlignment])}}]),I}(ye),Ee=function(T){a(I,T);var K=d(I);function I(U){return Q(this,I),K.call(this,U,{isRenderable:U.renderForms})}return V(I,[{key:"render",value:function(){var W=this,X=this.annotationStorage,H=this.data,ce=H.id,Se=X.getValue(ce,{value:H.exportValue===H.fieldValue}).value;"string"==typeof Se&&X.setValue(ce,{value:Se="Off"!==Se}),this.container.className="buttonWidgetAnnotation checkBox";var we=document.createElement("input");return re.add(we),we.disabled=H.readOnly,we.type="checkbox",we.name=H.fieldName,Se&&we.setAttribute("checked",!0),we.setAttribute("id",ce),we.setAttribute("exportValue",H.exportValue),we.tabIndex=1e3,we.addEventListener("change",function(Ce){var Xe,Fe=Ce.target,De=Fe.checked,Be=l(W._getElementsByName(Fe.name,ce));try{for(Be.s();!(Xe=Be.n()).done;){var Le=Xe.value,je=De&&Le.exportValue===H.exportValue;Le.domElement&&(Le.domElement.checked=je),X.setValue(Le.id,{value:je})}}catch(Ge){Be.e(Ge)}finally{Be.f()}X.setValue(ce,{value:De})}),we.addEventListener("resetform",function(Ce){Ce.target.checked=(H.defaultFieldValue||"Off")===H.exportValue}),this.enableScripting&&this.hasJSActions&&(we.addEventListener("updatefromsandbox",function(Ce){W._dispatchEventFromSandbox({value:function(De){De.target.checked="Off"!==De.detail.value,X.setValue(ce,{value:De.target.checked})}},Ce)}),this._setEventListeners(we,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Ce){return Ce.target.checked})),this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.appendChild(we),this.container}}]),I}(ye),pe=function(T){a(I,T);var K=d(I);function I(U){return Q(this,I),K.call(this,U,{isRenderable:U.renderForms})}return V(I,[{key:"render",value:function(){var W=this;this.container.className="buttonWidgetAnnotation radioButton";var X=this.annotationStorage,H=this.data,ce=H.id,Se=X.getValue(ce,{value:H.fieldValue===H.buttonValue}).value;"string"==typeof Se&&X.setValue(ce,{value:Se=Se!==H.buttonValue});var we=document.createElement("input");if(re.add(we),we.disabled=H.readOnly,we.type="radio",we.name=H.fieldName,Se&&we.setAttribute("checked",!0),we.setAttribute("id",ce),we.tabIndex=1e3,we.addEventListener("change",function(Fe){var Le,We=Fe.target,Be=We.checked,Xe=l(W._getElementsByName(We.name,ce));try{for(Xe.s();!(Le=Xe.n()).done;)X.setValue(Le.value.id,{value:!1})}catch(Ge){Xe.e(Ge)}finally{Xe.f()}X.setValue(ce,{value:Be})}),we.addEventListener("resetform",function(Fe){var We=H.defaultFieldValue;Fe.target.checked=null!=We&&We===H.buttonValue}),this.enableScripting&&this.hasJSActions){var Ce=H.buttonValue;we.addEventListener("updatefromsandbox",function(Fe){var We={value:function(Be){var je,Xe=Ce===Be.detail.value,Le=l(W._getElementsByName(Be.target.name));try{for(Le.s();!(je=Le.n()).done;){var Ge=je.value,Ve=Xe&&Ge.id===ce;Ge.domElement&&(Ge.domElement.checked=Ve),X.setValue(Ge.id,{value:Ve})}}catch(Ne){Le.e(Ne)}finally{Le.f()}}};W._dispatchEventFromSandbox(We,Fe)}),this._setEventListeners(we,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Fe){return Fe.target.checked})}return this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.appendChild(we),this.container}}]),I}(ye),_e=function(T){a(I,T);var K=d(I);function I(U){return Q(this,I),K.call(this,U,{ignoreBorder:U.data.hasAppearance})}return V(I,[{key:"render",value:function(){var W=O(m(I.prototype),"render",this).call(this);return W.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(W.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(W),W}}]),I}(G),he=function(T){a(I,T);var K=d(I);function I(U){return Q(this,I),K.call(this,U,{isRenderable:U.renderForms})}return V(I,[{key:"render",value:function(){var W=this;this.container.className="choiceWidgetAnnotation";var X=this.annotationStorage,H=this.data.id,ce=X.getValue(H,{value:this.data.fieldValue}),Se=this.data.defaultAppearanceData.fontSize;Se||(Se=9);var we="calc(".concat(Se,"px * var(--zoom-factor))"),Ce=document.createElement("select");re.add(Ce),Ce.disabled=this.data.readOnly,Ce.name=this.data.fieldName,Ce.setAttribute("id",H),Ce.tabIndex=1e3,Ce.style.fontSize="".concat(Se,"px"),this.data.combo||(Ce.size=this.data.options.length,this.data.multiSelect&&(Ce.multiple=!0)),Ce.addEventListener("resetform",function(je){var Ne,Ge=W.data.defaultFieldValue,Ve=l(Ce.options);try{for(Ve.s();!(Ne=Ve.n()).done;){var Ye=Ne.value;Ye.selected=Ye.value===Ge}}catch(Je){Ve.e(Je)}finally{Ve.f()}});var We,Fe=l(this.data.options);try{for(Fe.s();!(We=Fe.n()).done;){var De=We.value,Be=document.createElement("option");Be.textContent=De.displayValue,Be.value=De.exportValue,this.data.combo&&(Be.style.fontSize=we),ce.value.includes(De.exportValue)&&Be.setAttribute("selected",!0),Ce.appendChild(Be)}}catch(je){Fe.e(je)}finally{Fe.f()}var Xe=function(Ge,Ve){var Ne=Ve?"value":"textContent",Ye=Ge.target.options;return Ge.target.multiple?Array.prototype.filter.call(Ye,function(Je){return Je.selected}).map(function(Je){return Je[Ne]}):-1===Ye.selectedIndex?null:Ye[Ye.selectedIndex][Ne]},Le=function(Ge){return Array.prototype.map.call(Ge.target.options,function(Ne){return{displayValue:Ne.textContent,exportValue:Ne.value}})};return this.enableScripting&&this.hasJSActions?(Ce.addEventListener("updatefromsandbox",function(je){W._dispatchEventFromSandbox({value:function(Ne){var et,Ye=Ne.detail.value,Je=new Set(Array.isArray(Ye)?Ye:[Ye]),Ze=l(Ce.options);try{for(Ze.s();!(et=Ze.n()).done;){var de=et.value;de.selected=Je.has(de.value)}}catch(Re){Ze.e(Re)}finally{Ze.f()}X.setValue(H,{value:Xe(Ne,!0)})},multipleSelection:function(Ne){Ce.multiple=!0},remove:function(Ne){var Ye=Ce.options,Je=Ne.detail.remove;Ye[Je].selected=!1,Ce.remove(Je),Ye.length>0&&-1===Array.prototype.findIndex.call(Ye,function(et){return et.selected})&&(Ye[0].selected=!0),X.setValue(H,{value:Xe(Ne,!0),items:Le(Ne)})},clear:function(Ne){for(;0!==Ce.length;)Ce.remove(0);X.setValue(H,{value:null,items:[]})},insert:function(Ne){var Ye=Ne.detail.insert,Je=Ye.index,Ze=Ye.displayValue,et=Ye.exportValue,de=document.createElement("option");de.textContent=Ze,de.value=et,Ce.insertBefore(de,Ce.children[Je]),X.setValue(H,{value:Xe(Ne,!0),items:Le(Ne)})},items:function(Ne){for(var Ye=Ne.detail.items;0!==Ce.length;)Ce.remove(0);var Ze,Je=l(Ye);try{for(Je.s();!(Ze=Je.n()).done;){var et=Ze.value,de=et.displayValue,Re=et.exportValue,ue=document.createElement("option");ue.textContent=de,ue.value=Re,Ce.appendChild(ue)}}catch(be){Je.e(be)}finally{Je.f()}Ce.options.length>0&&(Ce.options[0].selected=!0),X.setValue(H,{value:Xe(Ne,!0),items:Le(Ne)})},indices:function(Ne){var Ze,Ye=new Set(Ne.detail.indices),Je=l(Ne.target.options);try{for(Je.s();!(Ze=Je.n()).done;){var et=Ze.value;et.selected=Ye.has(et.index)}}catch(de){Je.e(de)}finally{Je.f()}X.setValue(H,{value:Xe(Ne,!0)})},editable:function(Ne){Ne.target.disabled=!Ne.detail.editable}},je)}),Ce.addEventListener("input",function(je){var Ge,Ve=Xe(je,!0),Ne=Xe(je,!1);X.setValue(H,{value:Ve}),null===(Ge=W.linkService.eventBus)||void 0===Ge||Ge.dispatch("dispatcheventinsandbox",{source:W,detail:{id:H,name:"Keystroke",value:Ne,changeEx:Ve,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(je){return je.target.checked})):Ce.addEventListener("input",function(je){X.setValue(H,{value:Xe(je,!0)})}),this._setBackgroundColor(Ce),this._setDefaultPropertiesFromJS(Ce),this.container.appendChild(Ce),this.container}}]),I}(ye),Ae=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce})}return V(I,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var X='[data-annotation-id="'.concat(this.data.parentId,'"]'),H=this.layer.querySelectorAll(X);if(0===H.length)return this.container;var ce=new Pe({container:this.container,trigger:Array.from(H),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Se=this.page,we=o.Util.normalizeRect([this.data.parentRect[0],Se.view[3]-this.data.parentRect[1]+Se.view[1],this.data.parentRect[2],Se.view[3]-this.data.parentRect[3]+Se.view[1]]),Ce=we[0]+this.data.parentRect[2]-this.data.parentRect[0],Fe=we[1];return this.container.style.transformOrigin="".concat(-Ce,"px ").concat(-Fe,"px"),this.container.style.left="".concat(Ce,"px"),this.container.style.top="".concat(Fe,"px"),this.container.appendChild(ce.render()),this.container}}]),I}(x),Pe=function(){function T(K){Q(this,T),this.container=K.container,this.trigger=K.trigger,this.color=K.color,this.titleObj=K.titleObj,this.modificationDate=K.modificationDate,this.contentsObj=K.contentsObj,this.richText=K.richText,this.hideWrapper=K.hideWrapper||!1,this.pinned=!1}return V(T,[{key:"render",value:function(){var I,U,X=document.createElement("div");X.className="popupWrapper",this.hideElement=this.hideWrapper?X:this.container,this.hideElement.hidden=!0;var H=document.createElement("div");H.className="popup";var ce=this.color;ce&&(H.style.backgroundColor=o.Util.makeHexColor(0|.7*(255-ce[0])+ce[0],0|.7*(255-ce[1])+ce[1],0|.7*(255-ce[2])+ce[2]));var Fe=document.createElement("h1");Fe.dir=this.titleObj.dir,Fe.textContent=this.titleObj.str,H.appendChild(Fe);var We=u.PDFDateString.toDateObject(this.modificationDate);if(We){var De=document.createElement("span");De.className="popupDate",De.textContent="{{date}}, {{time}}",De.dataset.l10nId="annotation_date_string",De.dataset.l10nArgs=JSON.stringify({date:We.toLocaleDateString(),time:We.toLocaleTimeString()}),H.appendChild(De)}if(null===(I=this.richText)||void 0===I||!I.str||null!==(U=this.contentsObj)&&void 0!==U&&U.str&&this.contentsObj.str!==this.richText.str){var Be=this._formatContents(this.contentsObj);H.appendChild(Be)}else N.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:H}),H.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var Le,Xe=l(this.trigger);try{for(Xe.s();!(Le=Xe.n()).done;){var je=Le.value;je.addEventListener("click",this._toggle.bind(this)),je.addEventListener("mouseover",this._show.bind(this,!1)),je.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Ge){Xe.e(Ge)}finally{Xe.f()}return H.addEventListener("click",this._hide.bind(this,!0)),X.appendChild(H),X}},{key:"_formatContents",value:function(I){var U=I.str,W=I.dir,X=document.createElement("p");X.className="popupContent",X.dir=W;for(var H=U.split(/(?:\r\n?|\n)/),ce=0,Se=H.length;ce<Se;++ce)X.appendChild(document.createTextNode(H[ce])),ce<Se-1&&X.appendChild(document.createElement("br"));return X}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),T}(),Oe=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),I}(x),Te=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){this.container.className="lineAnnotation";var W=this.data,X=c(W.rect),Se=this.svgFactory.create(X.width,X.height),we=this.svgFactory.createElement("svg:line");return we.setAttribute("x1",W.rect[2]-W.lineCoordinates[0]),we.setAttribute("y1",W.rect[3]-W.lineCoordinates[1]),we.setAttribute("x2",W.rect[2]-W.lineCoordinates[2]),we.setAttribute("y2",W.rect[3]-W.lineCoordinates[3]),we.setAttribute("stroke-width",W.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),Se.appendChild(we),this.container.append(Se),this._createPopup(we,W),this.container}}]),I}(x),Ie=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){this.container.className="squareAnnotation";var W=this.data,X=c(W.rect),H=X.width,ce=X.height,Se=this.svgFactory.create(H,ce),we=W.borderStyle.width,Ce=this.svgFactory.createElement("svg:rect");return Ce.setAttribute("x",we/2),Ce.setAttribute("y",we/2),Ce.setAttribute("width",H-we),Ce.setAttribute("height",ce-we),Ce.setAttribute("stroke-width",we||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),Se.appendChild(Ce),this.container.append(Se),this._createPopup(Ce,W),this.container}}]),I}(x),Me=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){this.container.className="circleAnnotation";var W=this.data,X=c(W.rect),H=X.width,ce=X.height,Se=this.svgFactory.create(H,ce),we=W.borderStyle.width,Ce=this.svgFactory.createElement("svg:ellipse");return Ce.setAttribute("cx",H/2),Ce.setAttribute("cy",ce/2),Ce.setAttribute("rx",H/2-we/2),Ce.setAttribute("ry",ce/2-we/2),Ce.setAttribute("stroke-width",we||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),Se.appendChild(Ce),this.container.append(Se),this._createPopup(Ce,W),this.container}}]),I}(x),j=function(T){a(I,T);var K=d(I);function I(U){var W,X,H,ce;Q(this,I);var Se=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return(ce=K.call(this,U,{isRenderable:Se,ignoreBorder:!0})).containerClassName="polylineAnnotation",ce.svgElementName="svg:polyline",ce}return V(I,[{key:"render",value:function(){this.container.className=this.containerClassName;var Fe,W=this.data,X=c(W.rect),Se=this.svgFactory.create(X.width,X.height),we=[],Ce=l(W.vertices);try{for(Ce.s();!(Fe=Ce.n()).done;){var We=Fe.value;we.push(We.x-W.rect[0]+","+(W.rect[3]-We.y))}}catch(Le){Ce.e(Le)}finally{Ce.f()}we=we.join(" ");var Xe=this.svgFactory.createElement(this.svgElementName);return Xe.setAttribute("points",we),Xe.setAttribute("stroke-width",W.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),Se.appendChild(Xe),this.container.append(Se),this._createPopup(Xe,W),this.container}}]),I}(x),ae=function(T){a(I,T);var K=d(I);function I(U){var W;return Q(this,I),(W=K.call(this,U)).containerClassName="polygonAnnotation",W.svgElementName="svg:polygon",W}return V(I)}(j),E=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),I}(x),A=function(T){a(I,T);var K=d(I);function I(U){var W,X,H,ce;Q(this,I);var Se=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return(ce=K.call(this,U,{isRenderable:Se,ignoreBorder:!0})).containerClassName="inkAnnotation",ce.svgElementName="svg:polyline",ce}return V(I,[{key:"render",value:function(){this.container.className=this.containerClassName;var Ce,W=this.data,X=c(W.rect),Se=this.svgFactory.create(X.width,X.height),we=l(W.inkLists);try{for(we.s();!(Ce=we.n()).done;){var Be,We=[],De=l(Ce.value);try{for(De.s();!(Be=De.n()).done;){var Xe=Be.value,je=W.rect[3]-Xe.y;We.push("".concat(Xe.x-W.rect[0],",").concat(je))}}catch(Ve){De.e(Ve)}finally{De.f()}We=We.join(" ");var Ge=this.svgFactory.createElement(this.svgElementName);Ge.setAttribute("points",We),Ge.setAttribute("stroke-width",W.borderStyle.width||1),Ge.setAttribute("stroke","transparent"),Ge.setAttribute("fill","transparent"),this._createPopup(Ge,W),Se.appendChild(Ge)}}catch(Ve){we.e(Ve)}finally{we.f()}return this.container.append(Se),this.container}}]),I}(x),$=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return V(I,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),I}(x),J=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return V(I,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),I}(x),Z=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return V(I,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),I}(x),le=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}return V(I,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),I}(x),fe=function(T){a(I,T);var K=d(I);function I(U){var W,X,H;Q(this,I);var ce=!!(U.data.hasPopup||null!==(W=U.data.titleObj)&&void 0!==W&&W.str||null!==(X=U.data.contentsObj)&&void 0!==X&&X.str||null!==(H=U.data.richText)&&void 0!==H&&H.str);return K.call(this,U,{isRenderable:ce,ignoreBorder:!0})}return V(I,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),I}(x),se=function(T){a(I,T);var K=d(I);function I(U){var W,X;Q(this,I);var H=(X=K.call(this,U,{isRenderable:!0})).data.file,ce=H.filename,Se=H.content;return X.filename=(0,u.getFilenameFromUrl)(ce),X.content=Se,null===(W=X.linkService.eventBus)||void 0===W||W.dispatch("fileattachmentannotation",{source:h(X),filename:ce,content:Se}),X}return V(I,[{key:"render",value:function(){var W,X;this.container.className="fileAttachmentAnnotation";var H=document.createElement("div");return H.style.height=this.container.style.height,H.style.width=this.container.style.width,H.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(W=this.data.titleObj)&&void 0!==W&&W.str||null!==(X=this.data.contentsObj)&&void 0!==X&&X.str||this.data.richText)&&this._createPopup(H,this.data),this.container.appendChild(H),this.container}},{key:"_download",value:function(){var W;null===(W=this.downloadManager)||void 0===W||W.openOrDownloadData(this.container,this.content,this.filename)}}]),I}(x);function ge(T,K){if(K){var U,I=l(K);try{for(I.s();!(U=I.n()).done;){var W=b(U.value,2),H=W[1],ce=T.querySelector('[data-annotation-id="'.concat(W[0],'"]'));if(ce){var Se=ce.firstChild;"CANVAS"===Se.nodeName?ce.replaceChild(H,Se):ce.insertBefore(H,Se)}}}catch(we){I.e(we)}finally{I.f()}K.clear()}}i.AnnotationLayer=function(){function T(){Q(this,T)}return V(T,null,[{key:"render",value:function(I){var H,U=[],W=[],X=l(I.annotations);try{for(X.s();!(H=X.n()).done;){var ce=H.value;if(ce){var Se=c(ce.rect);if(!(Se.width<=0||Se.height<=0)){if(ce.annotationType===o.AnnotationType.POPUP){W.push(ce);continue}U.push(ce)}}}}catch(Ne){X.e(Ne)}finally{X.f()}W.length&&U.push.apply(U,W);for(var Fe=I.div,We=0,De=U;We<De.length;We++){var Be=De[We],Xe=v.create({data:Be,layer:Fe,page:I.page,viewport:I.viewport,linkService:I.linkService,downloadManager:I.downloadManager,imageResourcesPath:I.imageResourcesPath||"",renderForms:!1!==I.renderForms,svgFactory:new u.DOMSVGFactory,annotationStorage:I.annotationStorage||new y.AnnotationStorage,enableScripting:I.enableScripting,hasJSActions:I.hasJSActions,fieldObjects:I.fieldObjects,mouseState:I.mouseState||{isDown:!1}});if(Xe.isRenderable){var Le=Xe.render();if(Be.hidden&&(Le.style.visibility="hidden"),Array.isArray(Le)){var Ge,je=l(Le);try{for(je.s();!(Ge=je.n()).done;)Fe.appendChild(Ge.value)}catch(Ne){je.e(Ne)}finally{je.f()}}else Xe instanceof Ae?Fe.prepend(Le):Fe.appendChild(Le)}}B(this,T,ge).call(this,Fe,I.annotationCanvasMap)}},{key:"update",value:function(I){var Ce,Fe,De,U=I.page,X=I.annotations,H=I.annotationCanvasMap,ce=I.div,Se=I.viewport.transform,we="matrix(".concat(Se.join(","),")"),We=l(X);try{for(We.s();!(De=We.n()).done;){var Be=De.value,Xe=ce.querySelectorAll('[data-annotation-id="'.concat(Be.id,'"]'));if(Xe){var je,Le=l(Xe);try{for(Le.s();!(je=Le.n()).done;){var Ge=je.value;if(Be.hasOwnCanvas){var Ve=o.Util.normalizeRect([Be.rect[0],U.view[3]-Be.rect[1]+U.view[1],Be.rect[2],U.view[3]-Be.rect[3]+U.view[1]]);if(!Fe){Ce=Math.abs(Se[0]||Se[1]);for(var Ne=Se.slice(),Ye=0;Ye<4;Ye++)Ne[Ye]=Math.sign(Ne[Ye]);Fe="matrix(".concat(Ne.join(","),")")}var Je=Ve[0]*Ce,Ze=Ve[1]*Ce;Ge.style.left="".concat(Je,"px"),Ge.style.top="".concat(Ze,"px"),Ge.style.transformOrigin="".concat(-Je,"px ").concat(-Ze,"px"),Ge.style.transform=Fe}else Ge.style.transform=we}}catch(et){Le.e(et)}finally{Le.f()}}}}catch(et){We.e(et)}finally{We.f()}B(this,T,ge).call(this,ce,H),ce.hidden=!1}}]),T}()},(p,i)=>{"use strict";function t(_,D){return function w(_){if(Array.isArray(_))return _}(_)||function y(_,D){var M=null==_?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(null!=M){var f,d,L=[],s=!0,a=!1;try{for(M=M.call(_);!(s=(f=M.next()).done)&&(L.push(f.value),!D||L.length!==D);s=!0);}catch(R){a=!0,d=R}finally{try{!s&&null!=M.return&&M.return()}finally{if(a)throw d}}return L}}(_,D)||function o(_,D){if(_){if("string"==typeof _)return u(_,D);var M=Object.prototype.toString.call(_).slice(8,-1);if("Object"===M&&_.constructor&&(M=_.constructor.name),"Map"===M||"Set"===M)return Array.from(_);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return u(_,D)}}(_,D)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(_,D){(null==D||D>_.length)&&(D=_.length);for(var M=0,L=new Array(D);M<D;M++)L[M]=_[M];return L}function B(_,D){for(var M=0;M<D.length;M++){var L=D[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(_,L.key,L)}}function O(_){return Math.floor(255*Math.max(0,Math.min(1,_))).toString(16).padStart(2,"0")}Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0,i.ColorConverters=function(){function _(){!function N(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}(this,_)}return function Y(_,D,M){D&&B(_.prototype,D),M&&B(_,M),Object.defineProperty(_,"prototype",{writable:!1})}(_,null,[{key:"CMYK_G",value:function(M){var L=t(M,4);return["G",1-Math.min(1,.3*L[0]+.59*L[2]+.11*L[1]+L[3])]}},{key:"G_CMYK",value:function(M){return["CMYK",0,0,0,1-t(M,1)[0]]}},{key:"G_RGB",value:function(M){var s=t(M,1)[0];return["RGB",s,s,s]}},{key:"G_HTML",value:function(M){var a=O(t(M,1)[0]);return"#".concat(a).concat(a).concat(a)}},{key:"RGB_G",value:function(M){var L=t(M,3);return["G",.3*L[0]+.59*L[1]+.11*L[2]]}},{key:"RGB_HTML",value:function(M){var L=t(M,3),a=L[1],f=L[2],d=O(L[0]),R=O(a),h=O(f);return"#".concat(d).concat(R).concat(h)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(M){var L=t(M,4),a=L[1],f=L[2],d=L[3];return["RGB",1-Math.min(1,L[0]+d),1-Math.min(1,f+d),1-Math.min(1,a+d)]}},{key:"CMYK_HTML",value:function(M){return this.RGB_HTML(this.CMYK_RGB(M))}},{key:"RGB_CMYK",value:function(M){var L=t(M,3),d=1-L[0],R=1-L[1],h=1-L[2];return["CMYK",d,R,h,Math.min(d,R,h)]}}]),_}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var r=t(171);function o(M,L){return function w(M){if(Array.isArray(M))return M}(M)||function y(M,L){var s=null==M?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(null!=s){var R,h,a=[],f=!0,d=!1;try{for(s=s.call(M);!(f=(R=s.next()).done)&&(a.push(R.value),!L||a.length!==L);f=!0);}catch(C){d=!0,h=C}finally{try{!f&&null!=s.return&&s.return()}finally{if(d)throw h}}return a}}(M,L)||B(M,L)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(M,L){var s=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!s){if(Array.isArray(M)||(s=B(M))||L&&M&&"number"==typeof M.length){s&&(M=s);var a=0,f=function(){};return{s:f,n:function(){return a>=M.length?{done:!0}:{done:!1,value:M[a++]}},e:function(m){throw m},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,d=!0,R=!1;return{s:function(){s=s.call(M)},n:function(){var m=s.next();return d=m.done,m},e:function(m){R=!0,h=m},f:function(){try{!d&&null!=s.return&&s.return()}finally{if(R)throw h}}}}function B(M,L){if(M){if("string"==typeof M)return Y(M,L);var s=Object.prototype.toString.call(M).slice(8,-1);if("Object"===s&&M.constructor&&(s=M.constructor.name),"Map"===s||"Set"===s)return Array.from(M);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Y(M,L)}}function Y(M,L){(null==L||L>M.length)&&(L=M.length);for(var s=0,a=new Array(L);s<L;s++)a[s]=M[s];return a}function k(M,L){for(var s=0;s<L.length;s++){var a=L[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(M,a.key,a)}}i.XfaLayer=function(){function M(){!function O(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,M)}return function _(M,L,s){L&&k(M.prototype,L),s&&k(M,s),Object.defineProperty(M,"prototype",{writable:!1})}(M,null,[{key:"setupStorage",value:function(s,a,f,d,R){var h=d.getValue(a,{value:null});switch(f.name){case"textarea":if(null!==h.value&&(s.textContent=h.value),"print"===R)break;s.addEventListener("input",function(b){d.setValue(a,{value:b.target.value})});break;case"input":if("radio"===f.attributes.type||"checkbox"===f.attributes.type){if(h.value===f.attributes.xfaOn?s.setAttribute("checked",!0):h.value===f.attributes.xfaOff&&s.removeAttribute("checked"),"print"===R)break;s.addEventListener("change",function(b){d.setValue(a,{value:b.target.getAttribute(b.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==h.value&&s.setAttribute("value",h.value),"print"===R)break;s.addEventListener("input",function(b){d.setValue(a,{value:b.target.value})})}break;case"select":if(null!==h.value){var m,C=N(f.children);try{for(C.s();!(m=C.n()).done;){var l=m.value;l.attributes.value===h.value&&(l.attributes.selected=!0)}}catch(b){C.e(b)}finally{C.f()}}s.addEventListener("input",function(b){var P=b.target.options;d.setValue(a,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}},{key:"setAttributes",value:function(s){var a=s.html,f=s.element,d=s.storage,R=void 0===d?null:d,h=s.intent,C=s.linkService,m=f.attributes,l=a instanceof HTMLAnchorElement;"radio"===m.type&&(m.name="".concat(m.name,"-").concat(h));for(var b=0,P=Object.entries(m);b<P.length;b++){var g=o(P[b],2),F=g[0],z=g[1];if(null!=z&&"dataId"!==F)if("style"!==F)if("textContent"===F)a.textContent=z;else if("class"===F)z.length&&a.setAttribute(F,z.join(" "));else{if(l&&("href"===F||"newWindow"===F))continue;a.setAttribute(F,z)}else Object.assign(a.style,z)}l&&C.addLinkAttributes(a,m.href,m.newWindow),R&&m.dataId&&this.setupStorage(a,m.dataId,f,R)}},{key:"render",value:function(s){var a=s.annotationStorage,f=s.linkService,d=s.xfaHtml,R=s.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:R,linkService:f});var C=[[d,-1,h]],m=s.div;if(m.appendChild(h),s.viewport){var l="matrix(".concat(s.viewport.transform.join(","),")");m.style.transform=l}"richText"!==R&&m.setAttribute("class","xfaLayer xfaFont");for(var b=[];C.length>0;){var P,g=o(C[C.length-1],3),F=g[0],ee=g[2];if(g[1]+1!==F.children.length){var Q=F.children[++C[C.length-1][1]];if(null!==Q){var oe=Q.name;if("#text"===oe){var V=document.createTextNode(Q.value);b.push(V),ee.appendChild(V);continue}var te=void 0;if(te=null!=Q&&null!==(P=Q.attributes)&&void 0!==P&&P.xmlns?document.createElementNS(Q.attributes.xmlns,oe):document.createElement(oe),ee.appendChild(te),Q.attributes&&this.setAttributes({html:te,element:Q,storage:a,intent:R,linkService:f}),Q.children&&Q.children.length>0)C.push([Q,-1,te]);else if(Q.value){var re=document.createTextNode(Q.value);r.XfaText.shouldBuildText(oe)&&b.push(re),te.appendChild(re)}}}else C.pop()}var v,c=N(m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(c.s();!(v=c.n()).done;)v.value.setAttribute("readOnly",!0)}catch(G){c.e(G)}finally{c.f()}return{textDivs:b}}},{key:"update",value:function(s){var a="matrix(".concat(s.viewport.transform.join(","),")");s.div.style.transform=a,s.div.hidden=!1}}]),M}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.renderTextLayer=function C(m){var l=new h({textContent:m.textContent,textContentStream:m.textContentStream,container:m.container,viewport:m.viewport,textDivs:m.textDivs,textContentItemsStr:m.textContentItemsStr,enhanceTextSelection:m.enhanceTextSelection});return l._render(m.timeout),l};var r=t(1);function u(m,l){for(var b=0;b<l.length;b++){var P=l[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}function w(m,l){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function N(m,l){if(m){if("string"==typeof m)return B(m,l);var b=Object.prototype.toString.call(m).slice(8,-1);if("Object"===b&&m.constructor&&(b=m.constructor.name),"Map"===b||"Set"===b)return Array.from(m);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return B(m,l)}}(m))||l&&m&&"number"==typeof m.length){b&&(m=b);var P=0,g=function(){};return{s:g,n:function(){return P>=m.length?{done:!0}:{done:!1,value:m[P++]}},e:function(oe){throw oe},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee,F=!0,z=!1;return{s:function(){b=b.call(m)},n:function(){var oe=b.next();return F=oe.done,oe},e:function(oe){z=!0,ee=oe},f:function(){try{!F&&null!=b.return&&b.return()}finally{if(z)throw ee}}}}function B(m,l){(null==l||l>m.length)&&(l=m.length);for(var b=0,P=new Array(l);b<l;b++)P[b]=m[b];return P}var Y=1e5,O=30,k=.8,_=new Map,D=/^\s+$/g;function L(m,l,b,P){var g=document.createElement("span"),F=m._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==l.str,hasEOL:l.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==l.str,hasEOL:l.hasEOL};m._textDivs.push(g);var z=r.Util.transform(m._viewport.transform,l.transform),ee=Math.atan2(z[1],z[0]),Q=b[l.fontName];Q.vertical&&(ee+=Math.PI/2);var te,re,oe=Math.hypot(z[2],z[3]),V=oe*function M(m,l){var b=_.get(m);if(b)return b;l.save(),l.font="".concat(O,"px ").concat(m);var P=l.measureText(""),g=P.fontBoundingBoxAscent,F=Math.abs(P.fontBoundingBoxDescent);if(g){l.restore();var z=g/(g+F);return _.set(m,z),z}l.strokeStyle="red",l.clearRect(0,0,O,O),l.strokeText("g",0,0);var ee=l.getImageData(0,0,O,O).data;F=0;for(var Q=ee.length-1-3;Q>=0;Q-=4)if(ee[Q]>0){F=Math.ceil(Q/4/O);break}l.clearRect(0,0,O,O),l.strokeText("A",0,O),g=0;for(var oe=0,V=(ee=l.getImageData(0,0,O,O).data).length;oe<V;oe+=4)if(ee[oe]>0){g=O-Math.floor(oe/4/O);break}if(l.restore(),g){var te=g/(g+F);return _.set(m,te),te}return _.set(m,k),k}(Q.fontFamily,P);0===ee?(te=z[4],re=z[5]-V):(te=z[4]+V*Math.sin(ee),re=z[5]-V*Math.cos(ee)),g.style.left="".concat(te,"px"),g.style.top="".concat(re,"px"),g.style.fontSize="".concat(oe,"px"),g.style.fontFamily=Q.fontFamily,g.setAttribute("role","presentation"),g.textContent=l.str,g.dir=l.dir,m._fontInspectorEnabled&&(g.dataset.fontName=l.fontName),0!==ee&&(F.angle=ee*(180/Math.PI));var c=!1;if(l.str.length>1||m._enhanceTextSelection&&D.test(l.str))c=!0;else if(" "!==l.str&&l.transform[0]!==l.transform[3]){var v=Math.abs(l.transform[0]),x=Math.abs(l.transform[3]);v!==x&&Math.max(v,x)/Math.min(v,x)>1.5&&(c=!0)}if(c&&(F.canvasWidth=Q.vertical?l.height*m._viewport.scale:l.width*m._viewport.scale),m._textDivProperties.set(g,F),m._textContentStream&&m._layoutText(g),m._enhanceTextSelection&&F.hasText){var G=1,ie=0;0!==ee&&(G=Math.cos(ee),ie=Math.sin(ee));var Ee,pe,ye=(Q.vertical?l.height:l.width)*m._viewport.scale,ne=oe;pe=0!==ee?r.Util.getAxialAlignedBoundingBox([0,0,ye,ne],Ee=[G,ie,-ie,G,te,re]):[te,re,te+ye,re+ne],m._bounds.push({left:pe[0],top:pe[1],right:pe[2],bottom:pe[3],div:g,size:[ye,ne],m:Ee})}}function s(m){if(!m._canceled){var l=m._textDivs,b=m._capability,P=l.length;if(P>Y)return m._renderingDone=!0,void b.resolve();if(!m._textContentStream)for(var g=0;g<P;g++)m._layoutText(l[g]);m._renderingDone=!0,b.resolve()}}function a(m,l,b){for(var P=0,g=0;g<b;g++){var F=m[l++];F>0&&(P=P?Math.min(F,P):F)}return P}function R(m,l){l.sort(function(he,Ae){return he.x1-Ae.x1||he.index-Ae.index});var F,P=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],g=w(l);try{for(g.s();!(F=g.n()).done;){for(var z=F.value,ee=0;ee<P.length&&P[ee].end<=z.y1;)ee++;for(var Q=P.length-1;Q>=0&&P[Q].start>=z.y2;)Q--;var oe=void 0,V=void 0,te=void 0,re=void 0,c=-1/0;for(te=ee;te<=Q;te++){var v;(v=(V=(oe=P[te]).boundary).x2>z.x1?V.index>z.index?V.x1New:z.x1:void 0===V.x2New?(V.x2+z.x1)/2:V.x2New)>c&&(c=v)}for(z.x1New=c,te=ee;te<=Q;te++)void 0===(V=(oe=P[te]).boundary).x2New?V.x2>z.x1?V.index>z.index&&(V.x2New=V.x2):V.x2New=c:V.x2New>c&&(V.x2New=Math.max(c,V.x2));var x=[],G=null;for(te=ee;te<=Q;te++){var ie=(V=(oe=P[te]).boundary).x2>z.x2?V:z;G===ie?x[x.length-1].end=oe.end:(x.push({start:oe.start,end:oe.end,boundary:ie}),G=ie)}for(P[ee].start<z.y1&&(x[0].start=z.y1,x.unshift({start:P[ee].start,end:z.y1,boundary:P[ee].boundary})),z.y2<P[Q].end&&(x[x.length-1].end=z.y2,x.push({start:z.y2,end:P[Q].end,boundary:P[Q].boundary})),te=ee;te<=Q;te++)if(void 0===(V=(oe=P[te]).boundary).x2New){var ye=!1;for(re=ee-1;!ye&&re>=0&&P[re].start>=V.y1;re--)ye=P[re].boundary===V;for(re=Q+1;!ye&&re<P.length&&P[re].end<=V.y2;re++)ye=P[re].boundary===V;for(re=0;!ye&&re<x.length;re++)ye=x[re].boundary===V;ye||(V.x2New=c)}Array.prototype.splice.apply(P,[ee,Q-ee+1].concat(x))}}catch(he){g.e(he)}finally{g.f()}for(var ne=0,Ee=P;ne<Ee.length;ne++){var _e=Ee[ne].boundary;void 0===_e.x2New&&(_e.x2New=Math.max(m,_e.x2))}}var h=function(){function m(l){var b,P=this,g=l.textContent,F=l.textContentStream,z=l.container,ee=l.viewport,Q=l.textDivs,oe=l.textContentItemsStr,V=l.enhanceTextSelection;(function o(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")})(this,m),this._textContent=g,this._textContentStream=F,this._container=z,this._document=z.ownerDocument,this._viewport=ee,this._textDivs=Q||[],this._textContentItemsStr=oe||[],this._enhanceTextSelection=!!V,this._fontInspectorEnabled=!(null===(b=globalThis.FontInspector)||void 0===b||!b.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){P._enhanceTextSelection||(P._textDivProperties=null),P._layoutTextCtx&&(P._layoutTextCtx.canvas.width=0,P._layoutTextCtx.canvas.height=0,P._layoutTextCtx=null)}).catch(function(){})}return function y(m,l,b){l&&u(m.prototype,l),b&&u(m,b),Object.defineProperty(m,"prototype",{writable:!1})}(m,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(b,P){for(var g=0,F=b.length;g<F;g++)if(void 0!==b[g].str)this._textContentItemsStr.push(b[g].str),L(this,b[g],P,this._layoutTextCtx);else if("beginMarkedContentProps"===b[g].type||"beginMarkedContent"===b[g].type){var z=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[g].id&&this._container.setAttribute("id","".concat(b[g].id)),z.appendChild(this._container)}else"endMarkedContent"===b[g].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(b){var P=this._textDivProperties.get(b),g="";if(0!==P.canvasWidth&&P.hasText){var F=b.style,z=F.fontSize,ee=F.fontFamily;(z!==this._layoutTextLastFontSize||ee!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(z," ").concat(ee),this._layoutTextLastFontSize=z,this._layoutTextLastFontFamily=ee);var oe=this._layoutTextCtx.measureText(b.textContent).width;if(oe>0){var V=P.canvasWidth/oe;this._enhanceTextSelection&&(P.scale=V),g="scaleX(".concat(V,")")}}if(0!==P.angle&&(g="rotate(".concat(P.angle,"deg) ").concat(g)),g.length>0&&(this._enhanceTextSelection&&(P.originalTransform=g),b.style.transform=g),P.hasText&&this._container.appendChild(b),P.hasEOL){var te=document.createElement("br");te.setAttribute("role","presentation"),this._container.appendChild(te)}}},{key:"_render",value:function(){var b=this,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=(0,r.createPromiseCapability)(),F=Object.create(null),z=this._document.createElement("canvas");if(z.height=z.width=O,this._layoutTextCtx=z.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function V(){b._reader.read().then(function(te){var re=te.value;te.done?g.resolve():(Object.assign(F,re.styles),b._processItems(re.items,F),V())},g.reject)}()}g.promise.then(function(){F=null,P?b._renderTimer=setTimeout(function(){s(b),b._renderTimer=null},P):s(b)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function f(m){for(var l=m._bounds,b=m._viewport,P=function d(m,l,b){var P=b.map(function(c,v){return{x1:c.left,y1:c.top,x2:c.right,y2:c.bottom,index:v,x1New:void 0,x2New:void 0}});R(m,P);var z,g=new Array(b.length),F=w(P);try{for(F.s();!(z=F.n()).done;){var ee=z.value;g[ee.index]={left:ee.x1New,top:0,right:ee.x2New,bottom:0}}}catch(c){F.e(c)}finally{F.f()}b.map(function(c,v){var x=g[v],G=P[v];G.x1=c.top,G.y1=m-x.right,G.x2=c.bottom,G.y2=m-x.left,G.index=v,G.x1New=void 0,G.x2New=void 0}),R(l,P);var V,oe=w(P);try{for(oe.s();!(V=oe.n()).done;){var te=V.value,re=te.index;g[re].top=te.x1New,g[re].bottom=te.x2New}}catch(c){oe.e(c)}finally{oe.f()}return g}(b.width,b.height,l),g=0;g<P.length;g++){var F=l[g].div,z=m._textDivProperties.get(F);if(0!==z.angle){for(var ee=P[g],Q=l[g],oe=Q.m,V=oe[0],te=oe[1],re=[[0,0],[0,Q.size[1]],[Q.size[0],0],Q.size],c=new Float64Array(64),v=0,x=re.length;v<x;v++){var G=r.Util.applyTransform(re[v],oe);c[v+0]=V&&(ee.left-G[0])/V,c[v+4]=te&&(ee.top-G[1])/te,c[v+8]=V&&(ee.right-G[0])/V,c[v+12]=te&&(ee.bottom-G[1])/te,c[v+16]=te&&(ee.left-G[0])/-te,c[v+20]=V&&(ee.top-G[1])/V,c[v+24]=te&&(ee.right-G[0])/-te,c[v+28]=V&&(ee.bottom-G[1])/V,c[v+32]=V&&(ee.left-G[0])/-V,c[v+36]=te&&(ee.top-G[1])/-te,c[v+40]=V&&(ee.right-G[0])/-V,c[v+44]=te&&(ee.bottom-G[1])/-te,c[v+48]=te&&(ee.left-G[0])/te,c[v+52]=V&&(ee.top-G[1])/-V,c[v+56]=te&&(ee.right-G[0])/te,c[v+60]=V&&(ee.bottom-G[1])/-V}var ie=1+Math.min(Math.abs(V),Math.abs(te));z.paddingLeft=a(c,32,16)/ie,z.paddingTop=a(c,48,16)/ie,z.paddingRight=a(c,0,16)/ie,z.paddingBottom=a(c,16,16)/ie,m._textDivProperties.set(F,z)}else z.paddingLeft=l[g].left-P[g].left,z.paddingTop=l[g].top-P[g].top,z.paddingRight=P[g].right-l[g].right,z.paddingBottom=P[g].bottom-l[g].bottom,m._textDivProperties.set(F,z)}}(this),this._bounds=null);for(var P=[],g=[],F=0,z=this._textDivs.length;F<z;F++){var ee=this._textDivs[F],Q=this._textDivProperties.get(ee);Q.hasText&&(b?(P.length=0,g.length=0,Q.originalTransform&&P.push(Q.originalTransform),Q.paddingTop>0?(g.push("".concat(Q.paddingTop,"px")),P.push("translateY(".concat(-Q.paddingTop,"px)"))):g.push(0),g.push(Q.paddingRight>0?"".concat(Q.paddingRight/Q.scale,"px"):0),g.push(Q.paddingBottom>0?"".concat(Q.paddingBottom,"px"):0),Q.paddingLeft>0?(g.push("".concat(Q.paddingLeft/Q.scale,"px")),P.push("translateX(".concat(-Q.paddingLeft/Q.scale,"px)"))):g.push(0),ee.style.padding=g.join(" "),P.length&&(ee.style.transform=P.join(" "))):(ee.style.padding=null,ee.style.transform=Q.originalTransform))}}}}]),m}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var r=t(1),o=t(158),u=t(3);function y(te){return function B(te){if(Array.isArray(te))return L(te)}(te)||function N(te){if(typeof Symbol<"u"&&null!=te[Symbol.iterator]||null!=te["@@iterator"])return Array.from(te)}(te)||M(te)||function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(te,re){return function _(te){if(Array.isArray(te))return te}(te)||function k(te,re){var c=null==te?null:typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(null!=c){var ie,ye,v=[],x=!0,G=!1;try{for(c=c.call(te);!(x=(ie=c.next()).done)&&(v.push(ie.value),!re||v.length!==re);x=!0);}catch(ne){G=!0,ye=ne}finally{try{!x&&null!=c.return&&c.return()}finally{if(G)throw ye}}return v}}(te,re)||M(te,re)||function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(te,re){var c=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!c){if(Array.isArray(te)||(c=M(te))||re&&te&&"number"==typeof te.length){c&&(te=c);var v=0,x=function(){};return{s:x,n:function(){return v>=te.length?{done:!0}:{done:!1,value:te[v++]}},e:function(Ee){throw Ee},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,G=!0,ie=!1;return{s:function(){c=c.call(te)},n:function(){var Ee=c.next();return G=Ee.done,Ee},e:function(Ee){ie=!0,ye=Ee},f:function(){try{!G&&null!=c.return&&c.return()}finally{if(ie)throw ye}}}}function M(te,re){if(te){if("string"==typeof te)return L(te,re);var c=Object.prototype.toString.call(te).slice(8,-1);if("Object"===c&&te.constructor&&(c=te.constructor.name),"Map"===c||"Set"===c)return Array.from(te);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return L(te,re)}}function L(te,re){(null==re||re>te.length)&&(re=te.length);for(var c=0,v=new Array(re);c<re;c++)v[c]=te[c];return v}function s(te,re){for(var c=0;c<re.length;c++){var v=re[c];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(te,v.key,v)}}function a(te,re,c){return re&&s(te.prototype,re),c&&s(te,c),Object.defineProperty(te,"prototype",{writable:!1}),te}function f(te,re){if(!(te instanceof re))throw new TypeError("Cannot call a class as a function")}var d=a(function te(){f(this,te),(0,r.unreachable)("Not implemented: SVGGraphics")});i.SVGGraphics=d;var h=function(re){if(Number.isInteger(re))return re.toString();var c=re.toFixed(10),v=c.length-1;if("0"!==c[v])return c;do{v--}while("0"===c[v]);return c.substring(0,"."===c[v]?v:v+1)},C=function(re){if(0===re[4]&&0===re[5]){if(0===re[1]&&0===re[2])return 1===re[0]&&1===re[3]?"":"scale(".concat(h(re[0])," ").concat(h(re[3]),")");if(re[0]===re[3]&&re[1]===-re[2]){var c=180*Math.acos(re[0])/Math.PI;return"rotate(".concat(h(c),")")}}else if(1===re[0]&&0===re[1]&&0===re[2]&&1===re[3])return"translate(".concat(h(re[4])," ").concat(h(re[5]),")");return"matrix(".concat(h(re[0])," ").concat(h(re[1])," ").concat(h(re[2])," ").concat(h(re[3])," ").concat(h(re[4])," ")+"".concat(h(re[5]),")")},m={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},P=["butt","round","square"],g=["miter","round","bevel"],F=function(re){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(URL.createObjectURL&&typeof Blob<"u"&&!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return URL.createObjectURL(new Blob([re],{type:c}));for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G="data:".concat(c,";base64,"),ie=0,ye=re.length;ie<ye;ie+=3){var ne=255&re[ie],Ee=255&re[ie+1],pe=255&re[ie+2];G+=x[ne>>2]+x[(3&ne)<<4|Ee>>4]+x[ie+1<ye?(15&Ee)<<2|pe>>6:64]+x[ie+2<ye?63&pe:64]}return G},z=function(){for(var te=new Uint8Array([137,80,78,71,13,10,26,10]),re=12,c=new Int32Array(256),v=0;v<256;v++){for(var x=v,G=0;G<8;G++)x=1&x?3988292384^x>>1&2147483647:x>>1&2147483647;c[v]=x}function ye(he,Ae,Pe,Oe){var Te=Oe,Ie=Ae.length;Pe[Te]=Ie>>24&255,Pe[Te+1]=Ie>>16&255,Pe[Te+2]=Ie>>8&255,Pe[Te+3]=255&Ie,Pe[Te+=4]=255&he.charCodeAt(0),Pe[Te+1]=255&he.charCodeAt(1),Pe[Te+2]=255&he.charCodeAt(2),Pe[Te+3]=255&he.charCodeAt(3),Pe.set(Ae,Te+=4);var Me=function ie(he,Ae,Pe){for(var Oe=-1,Te=Ae;Te<Pe;Te++)Oe=Oe>>>8^c[255&(Oe^he[Te])];return-1^Oe}(Pe,Oe+4,Te+=Ae.length);Pe[Te]=Me>>24&255,Pe[Te+1]=Me>>16&255,Pe[Te+2]=Me>>8&255,Pe[Te+3]=255&Me}function pe(he){var Ae=he.length,Pe=65535,Oe=Math.ceil(Ae/Pe),Te=new Uint8Array(2+Ae+5*Oe+4),Ie=0;Te[Ie++]=120,Te[Ie++]=156;for(var Me=0;Ae>Pe;)Te[Ie++]=0,Te[Ie++]=255,Te[Ie++]=255,Te[Ie++]=0,Te[Ie++]=0,Te.set(he.subarray(Me,Me+Pe),Ie),Ie+=Pe,Me+=Pe,Ae-=Pe;Te[Ie++]=1,Te[Ie++]=255&Ae,Te[Ie++]=Ae>>8&255,Te[Ie++]=255&~Ae,Te[Ie++]=(65535&~Ae)>>8&255,Te.set(he.subarray(Me),Ie),Ie+=he.length-Me;var j=function ne(he,Ae,Pe){for(var Oe=1,Te=0,Ie=Ae;Ie<Pe;++Ie)Te=(Te+(Oe=(Oe+(255&he[Ie]))%65521))%65521;return Te<<16|Oe}(he,0,he.length);return Te[Ie++]=j>>24&255,Te[Ie++]=j>>16&255,Te[Ie++]=j>>8&255,Te[Ie++]=255&j,Te}return function(Ae,Pe,Oe){return function _e(he,Ae,Pe,Oe){var Me,j,ae,Te=he.width,Ie=he.height,E=he.data;switch(Ae){case r.ImageKind.GRAYSCALE_1BPP:j=0,Me=1,ae=Te+7>>3;break;case r.ImageKind.RGB_24BPP:j=2,Me=8,ae=3*Te;break;case r.ImageKind.RGBA_32BPP:j=6,Me=8,ae=4*Te;break;default:throw new Error("invalid format")}for(var A=new Uint8Array((1+ae)*Ie),$=0,J=0,Z=0;Z<Ie;++Z)A[$++]=0,A.set(E.subarray(J,J+ae),$),J+=ae,$+=ae;if(Ae===r.ImageKind.GRAYSCALE_1BPP&&Oe){$=0;for(var le=0;le<Ie;le++){$++;for(var fe=0;fe<ae;fe++)A[$++]^=255}}var se=new Uint8Array([Te>>24&255,Te>>16&255,Te>>8&255,255&Te,Ie>>24&255,Ie>>16&255,Ie>>8&255,255&Ie,Me,j,0,0,0]),ke=function Ee(he){if(!u.isNodeJS)return pe(he);try{var Ae;Ae=parseInt(process.versions.node)>=8?he:Buffer.from(he);var Pe=__webpack_require__(7324).deflateSync(Ae,{level:9});return Pe instanceof Uint8Array?Pe:new Uint8Array(Pe)}catch(Oe){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return pe(he)}(A),T=new Uint8Array(te.length+3*re+se.length+ke.length),K=0;return T.set(te,K),ye("IHDR",se,T,K+=te.length),ye("IDATA",ke,T,K+=re+se.length),K+=re+ke.length,ye("IEND",new Uint8Array(0),T,K),F(T,"image/png",Pe)}(Ae,void 0===Ae.kind?r.ImageKind.GRAYSCALE_1BPP:Ae.kind,Pe,Oe)}}(),ee=function(){function te(){f(this,te),this.fontSizeScale=1,this.fontWeight=m.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return a(te,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(c,v){this.x=c,this.y=v}}]),te}(),Q=0,oe=0,V=0;i.SVGGraphics=d=function(){function te(re,c){var v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var x in f(this,te),this.svgFactory=new o.DOMSVGFactory,this.current=new ee,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=re,this.objs=c,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[x]]=x}return a(te,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var c=this.current;this.extraStack.push(c),this.current=c.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(c){this.save(),this.executeOpTree(c),this.restore()}},{key:"loadDependencies",value:function(c){for(var v=this,x=c.fnArray,G=c.argsArray,ie=0,ye=x.length;ie<ye;ie++)if(x[ie]===r.OPS.dependency){var Ee,ne=D(G[ie]);try{var pe=function(){var he=Ee.value,Ae=he.startsWith("g_")?v.commonObjs:v.objs,Pe=new Promise(function(Oe){Ae.get(he,Oe)});v.current.dependencies.push(Pe)};for(ne.s();!(Ee=ne.n()).done;)pe()}catch(_e){ne.e(_e)}finally{ne.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(c,v,x,G,ie,ye){this.transformMatrix=r.Util.transform(this.transformMatrix,[c,v,x,G,ie,ye]),this.tgrp=null}},{key:"getSVG",value:function(c,v){var x=this;this.viewport=v;var G=this._initialize(v);return this.loadDependencies(c).then(function(){return x.transformMatrix=r.IDENTITY_MATRIX,x.executeOpTree(x.convertOpList(c)),G})}},{key:"convertOpList",value:function(c){for(var v=this._operatorIdMapping,x=c.argsArray,G=c.fnArray,ie=[],ye=0,ne=G.length;ye<ne;ye++){var Ee=G[ye];ie.push({fnId:Ee,fn:v[Ee],args:x[ye]})}return function(re){var G,c=[],v=[],x=D(re);try{for(x.s();!(G=x.n()).done;){var ie=G.value;"save"!==ie.fn?"restore"===ie.fn?c=v.pop():c.push(ie):(c.push({fnId:92,fn:"group",items:[]}),v.push(c),c=c[c.length-1].items)}}catch(ye){x.e(ye)}finally{x.f()}return c}(ie)}},{key:"executeOpTree",value:function(c){var x,v=D(c);try{for(v.s();!(x=v.n()).done;){var G=x.value,ie=G.fn,ne=G.args;switch(0|G.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(ne);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(ne[0],ne[1]);break;case r.OPS.setFont:this.setFont(ne);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(ne[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(ne[0],ne[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(ne[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(ne[0]);break;case r.OPS.setHScale:this.setHScale(ne[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]);break;case r.OPS.setTextRise:this.setTextRise(ne[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(ne[0]);break;case r.OPS.setLineWidth:this.setLineWidth(ne[0]);break;case r.OPS.setLineJoin:this.setLineJoin(ne[0]);break;case r.OPS.setLineCap:this.setLineCap(ne[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(ne[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(ne[0],ne[1],ne[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ne[0],ne[1],ne[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(ne);break;case r.OPS.setFillColorN:this.setFillColorN(ne);break;case r.OPS.shadingFill:this.shadingFill(ne[0]);break;case r.OPS.setDash:this.setDash(ne[0],ne[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(ne[0]);break;case r.OPS.setFlatness:this.setFlatness(ne[0]);break;case r.OPS.setGState:this.setGState(ne[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(ne[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ne[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ne[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ne[0],ne[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]);break;case r.OPS.constructPath:this.constructPath(ne[0],ne[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(G.items);break;default:(0,r.warn)("Unimplemented operator ".concat(ie))}}}catch(Ee){v.e(Ee)}finally{v.f()}}},{key:"setWordSpacing",value:function(c){this.current.wordSpacing=c}},{key:"setCharSpacing",value:function(c){this.current.charSpacing=c}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(c,v,x,G,ie,ye){var ne=this.current;ne.textMatrix=ne.lineMatrix=[c,v,x,G,ie,ye],ne.textMatrixScale=Math.hypot(c,v),ne.x=ne.lineX=0,ne.y=ne.lineY=0,ne.xcoords=[],ne.ycoords=[],ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.tspan.setAttributeNS(null,"font-family",ne.fontFamily),ne.tspan.setAttributeNS(null,"font-size","".concat(h(ne.fontSize),"px")),ne.tspan.setAttributeNS(null,"y",h(-ne.y)),ne.txtElement=this.svgFactory.createElement("svg:text"),ne.txtElement.appendChild(ne.tspan)}},{key:"beginText",value:function(){var c=this.current;c.x=c.lineX=0,c.y=c.lineY=0,c.textMatrix=r.IDENTITY_MATRIX,c.lineMatrix=r.IDENTITY_MATRIX,c.textMatrixScale=1,c.tspan=this.svgFactory.createElement("svg:tspan"),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtgrp=this.svgFactory.createElement("svg:g"),c.xcoords=[],c.ycoords=[]}},{key:"moveText",value:function(c,v){var x=this.current;x.x=x.lineX+=c,x.y=x.lineY+=v,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size","".concat(h(x.fontSize),"px")),x.tspan.setAttributeNS(null,"y",h(-x.y))}},{key:"showText",value:function(c){var v=this.current,x=v.font,G=v.fontSize;if(0!==G){var Ie,ie=v.fontSizeScale,ye=v.charSpacing,ne=v.wordSpacing,Ee=v.fontDirection,pe=v.textHScale*Ee,_e=x.vertical,he=_e?1:-1,Ae=x.defaultVMetrics,Pe=G*v.fontMatrix[0],Oe=0,Te=D(c);try{for(Te.s();!(Ie=Te.n()).done;){var Me=Ie.value;if(null!==Me)if("number"!=typeof Me){var j=(Me.isSpace?ne:0)+ye,ae=Me.fontChar,E=void 0,A=void 0,$=Me.width;if(_e){var J=void 0,Z=Me.vmetric||Ae;J=Me.vmetric?Z[1]:.5*$,$=Z?-Z[0]:$,E=(J=-J*Pe)/ie,A=(Oe+Z[2]*Pe)/ie}else E=Oe/ie,A=0;(Me.isInFont||x.missingFile)&&(v.xcoords.push(v.x+E),_e&&v.ycoords.push(-v.y+A),v.tspan.textContent+=ae),Oe+=_e?$*Pe-j*Ee:$*Pe+j*Ee}else Oe+=he*Me*G/1e3;else Oe+=Ee*ne}}catch(T){Te.e(T)}finally{Te.f()}v.tspan.setAttributeNS(null,"x",v.xcoords.map(h).join(" ")),v.tspan.setAttributeNS(null,"y",_e?v.ycoords.map(h).join(" "):h(-v.y)),_e?v.y-=Oe:v.x+=Oe*pe,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size","".concat(h(v.fontSize),"px")),v.fontStyle!==m.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==m.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);var se=v.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;se===r.TextRenderingMode.FILL||se===r.TextRenderingMode.FILL_STROKE?(v.fillColor!==m.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.tspan.setAttributeNS(null,"fill",v.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(se===r.TextRenderingMode.STROKE||se===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(v.tspan,1/(v.textMatrixScale||1));var ge=v.textMatrix;0!==v.textRise&&((ge=ge.slice())[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform","".concat(C(ge)," scale(").concat(h(pe),", -1)")),v.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),v.txtElement.appendChild(v.tspan),v.txtgrp.appendChild(v.txtElement),this._ensureTransformGroup().appendChild(v.txtElement)}}},{key:"setLeadingMoveText",value:function(c,v){this.setLeading(-v),this.moveText(c,v)}},{key:"addFontStyle",value:function(c){if(!c.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var v=F(c.data,c.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(c.loadedName,'";')+" src: url(".concat(v,"); }\n")}},{key:"setFont",value:function(c){var v=this.current,x=this.commonObjs.get(c[0]),G=c[1];v.font=x,this.embedFonts&&!x.missingFile&&!this.embeddedFonts[x.loadedName]&&(this.addFontStyle(x),this.embeddedFonts[x.loadedName]=x),v.fontMatrix=x.fontMatrix||r.FONT_IDENTITY_MATRIX;var ie="normal";x.black?ie="900":x.bold&&(ie="bold");var ye=x.italic?"italic":"normal";G<0?(G=-G,v.fontDirection=-1):v.fontDirection=1,v.fontSize=G,v.fontFamily=x.loadedName,v.fontWeight=ie,v.fontStyle=ye,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",h(-v.y)),v.xcoords=[],v.ycoords=[]}},{key:"endText",value:function(){var c,v=this.current;v.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(c=v.txtElement)&&void 0!==c&&c.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(c){c>0&&(this.current.lineWidth=c)}},{key:"setLineCap",value:function(c){this.current.lineCap=P[c]}},{key:"setLineJoin",value:function(c){this.current.lineJoin=g[c]}},{key:"setMiterLimit",value:function(c){this.current.miterLimit=c}},{key:"setStrokeAlpha",value:function(c){this.current.strokeAlpha=c}},{key:"setStrokeRGBColor",value:function(c,v,x){this.current.strokeColor=r.Util.makeHexColor(c,v,x)}},{key:"setFillAlpha",value:function(c){this.current.fillAlpha=c}},{key:"setFillRGBColor",value:function(c,v,x){this.current.fillColor=r.Util.makeHexColor(c,v,x),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(c){this.current.strokeColor=this._makeColorN_Pattern(c)}},{key:"setFillColorN",value:function(c){this.current.fillColor=this._makeColorN_Pattern(c)}},{key:"shadingFill",value:function(c){var v=this.viewport.width,x=this.viewport.height,G=r.Util.inverseTransform(this.transformMatrix),ie=r.Util.applyTransform([0,0],G),ye=r.Util.applyTransform([0,x],G),ne=r.Util.applyTransform([v,0],G),Ee=r.Util.applyTransform([v,x],G),pe=Math.min(ie[0],ye[0],ne[0],Ee[0]),_e=Math.min(ie[1],ye[1],ne[1],Ee[1]),he=Math.max(ie[0],ye[0],ne[0],Ee[0]),Ae=Math.max(ie[1],ye[1],ne[1],Ee[1]),Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x",pe),Pe.setAttributeNS(null,"y",_e),Pe.setAttributeNS(null,"width",he-pe),Pe.setAttributeNS(null,"height",Ae-_e),Pe.setAttributeNS(null,"fill",this._makeShadingPattern(c)),this.current.fillAlpha<1&&Pe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Pe)}},{key:"_makeColorN_Pattern",value:function(c){return"TilingPattern"===c[0]?this._makeTilingPattern(c):this._makeShadingPattern(c)}},{key:"_makeTilingPattern",value:function(c){var v=c[1],x=c[2],G=c[3]||r.IDENTITY_MATRIX,ie=Y(c[4],4),ye=ie[0],ne=ie[1],Ee=ie[2],pe=ie[3],_e=c[5],he=c[6],Ae=c[7],Pe="shading".concat(V++),Te=Y(r.Util.normalizeRect([].concat(y(r.Util.applyTransform([ye,ne],G)),y(r.Util.applyTransform([Ee,pe],G)))),4),Ie=Te[0],Me=Te[1],j=Te[2],ae=Te[3],A=Y(r.Util.singularValueDecompose2dScale(G),2),Z=_e*A[0],le=he*A[1],fe=this.svgFactory.createElement("svg:pattern");fe.setAttributeNS(null,"id",Pe),fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),fe.setAttributeNS(null,"width",Z),fe.setAttributeNS(null,"height",le),fe.setAttributeNS(null,"x","".concat(Ie)),fe.setAttributeNS(null,"y","".concat(Me));var se=this.svg,ke=this.transformMatrix,ge=this.current.fillColor,T=this.current.strokeColor,K=this.svgFactory.create(j-Ie,ae-Me);if(this.svg=K,this.transformMatrix=G,2===Ae){var I=r.Util.makeHexColor.apply(r.Util,y(v));this.current.fillColor=I,this.current.strokeColor=I}return this.executeOpTree(this.convertOpList(x)),this.svg=se,this.transformMatrix=ke,this.current.fillColor=ge,this.current.strokeColor=T,fe.appendChild(K.childNodes[0]),this.defs.appendChild(fe),"url(#".concat(Pe,")")}},{key:"_makeShadingPattern",value:function(c){switch("string"==typeof c&&(c=this.objs.get(c)),c[0]){case"RadialAxial":var G,v="shading".concat(V++),x=c[3];switch(c[1]){case"axial":var ie=c[4],ye=c[5];(G=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",v),G.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),G.setAttributeNS(null,"x1",ie[0]),G.setAttributeNS(null,"y1",ie[1]),G.setAttributeNS(null,"x2",ye[0]),G.setAttributeNS(null,"y2",ye[1]);break;case"radial":var ne=c[4],Ee=c[5],pe=c[6],_e=c[7];(G=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",v),G.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),G.setAttributeNS(null,"cx",Ee[0]),G.setAttributeNS(null,"cy",Ee[1]),G.setAttributeNS(null,"r",_e),G.setAttributeNS(null,"fx",ne[0]),G.setAttributeNS(null,"fy",ne[1]),G.setAttributeNS(null,"fr",pe);break;default:throw new Error("Unknown RadialAxial type: ".concat(c[1]))}var Ae,he=D(x);try{for(he.s();!(Ae=he.n()).done;){var Pe=Ae.value,Oe=this.svgFactory.createElement("svg:stop");Oe.setAttributeNS(null,"offset",Pe[0]),Oe.setAttributeNS(null,"stop-color",Pe[1]),G.appendChild(Oe)}}catch(Te){he.e(Te)}finally{he.f()}return this.defs.appendChild(G),"url(#".concat(v,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(c[0]))}}},{key:"setDash",value:function(c,v){this.current.dashArray=c,this.current.dashPhase=v}},{key:"constructPath",value:function(c,v){var pe,x=this.current,G=x.x,ie=x.y,ye=[],ne=0,Ee=D(c);try{for(Ee.s();!(pe=Ee.n()).done;)switch(0|pe.value){case r.OPS.rectangle:G=v[ne++],ie=v[ne++];var Pe=G+v[ne++],Oe=ie+v[ne++];ye.push("M",h(G),h(ie),"L",h(Pe),h(ie),"L",h(Pe),h(Oe),"L",h(G),h(Oe),"Z");break;case r.OPS.moveTo:G=v[ne++],ie=v[ne++],ye.push("M",h(G),h(ie));break;case r.OPS.lineTo:G=v[ne++],ie=v[ne++],ye.push("L",h(G),h(ie));break;case r.OPS.curveTo:G=v[ne+4],ie=v[ne+5],ye.push("C",h(v[ne]),h(v[ne+1]),h(v[ne+2]),h(v[ne+3]),h(G),h(ie)),ne+=6;break;case r.OPS.curveTo2:ye.push("C",h(G),h(ie),h(v[ne]),h(v[ne+1]),h(v[ne+2]),h(v[ne+3])),G=v[ne+2],ie=v[ne+3],ne+=4;break;case r.OPS.curveTo3:G=v[ne+2],ie=v[ne+3],ye.push("C",h(v[ne]),h(v[ne+1]),h(G),h(ie),h(G),h(ie)),ne+=4;break;case r.OPS.closePath:ye.push("Z")}}catch(Te){Ee.e(Te)}finally{Ee.f()}ye=ye.join(" "),x.path&&c.length>0&&c[0]!==r.OPS.rectangle&&c[0]!==r.OPS.moveTo?ye=x.path.getAttributeNS(null,"d")+ye:(x.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(x.path)),x.path.setAttributeNS(null,"d",ye),x.path.setAttributeNS(null,"fill","none"),x.element=x.path,x.setCurrentPoint(G,ie)}},{key:"endPath",value:function(){var c=this.current;if(c.path=null,this.pendingClip){if(!c.element)return void(this.pendingClip=null);var v="clippath".concat(Q++),x=this.svgFactory.createElement("svg:clipPath");x.setAttributeNS(null,"id",v),x.setAttributeNS(null,"transform",C(this.transformMatrix));var G=c.element.cloneNode(!0);if(G.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,x.appendChild(G),this.defs.appendChild(x),c.activeClipUrl){c.clipGroup=null;var ye,ie=D(this.extraStack);try{for(ie.s();!(ye=ie.n()).done;)ye.value.clipGroup=null}catch(Ee){ie.e(Ee)}finally{ie.f()}x.setAttributeNS(null,"clip-path",c.activeClipUrl)}c.activeClipUrl="url(#".concat(v,")"),this.tgrp=null}}},{key:"clip",value:function(c){this.pendingClip=c}},{key:"closePath",value:function(){var c=this.current;if(c.path){var v="".concat(c.path.getAttributeNS(null,"d"),"Z");c.path.setAttributeNS(null,"d",v)}}},{key:"setLeading",value:function(c){this.current.leading=-c}},{key:"setTextRise",value:function(c){this.current.textRise=c}},{key:"setTextRenderingMode",value:function(c){this.current.textRenderingMode=c}},{key:"setHScale",value:function(c){this.current.textHScale=c/100}},{key:"setRenderingIntent",value:function(c){}},{key:"setFlatness",value:function(c){}},{key:"setGState",value:function(c){var x,v=D(c);try{for(v.s();!(x=v.n()).done;){var G=Y(x.value,2),ie=G[0],ye=G[1];switch(ie){case"LW":this.setLineWidth(ye);break;case"LC":this.setLineCap(ye);break;case"LJ":this.setLineJoin(ye);break;case"ML":this.setMiterLimit(ye);break;case"D":this.setDash(ye[0],ye[1]);break;case"RI":this.setRenderingIntent(ye);break;case"FL":this.setFlatness(ye);break;case"Font":this.setFont(ye);break;case"CA":this.setStrokeAlpha(ye);break;case"ca":this.setFillAlpha(ye);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(ie))}}}catch(ne){v.e(ne)}finally{v.f()}}},{key:"fill",value:function(){var c=this.current;c.element&&(c.element.setAttributeNS(null,"fill",c.fillColor),c.element.setAttributeNS(null,"fill-opacity",c.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var c=this.current;c.element&&(this._setStrokeAttributes(c.element),c.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(c){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,x=this.current,G=x.dashArray;1!==v&&G.length>0&&(G=G.map(function(ie){return v*ie})),c.setAttributeNS(null,"stroke",x.strokeColor),c.setAttributeNS(null,"stroke-opacity",x.strokeAlpha),c.setAttributeNS(null,"stroke-miterlimit",h(x.miterLimit)),c.setAttributeNS(null,"stroke-linecap",x.lineCap),c.setAttributeNS(null,"stroke-linejoin",x.lineJoin),c.setAttributeNS(null,"stroke-width",h(v*x.lineWidth)+"px"),c.setAttributeNS(null,"stroke-dasharray",G.map(h).join(" ")),c.setAttributeNS(null,"stroke-dashoffset",h(v*x.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width","1px"),c.setAttributeNS(null,"height","1px"),c.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(c)}},{key:"paintImageXObject",value:function(c){var v=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);v?this.paintInlineImageXObject(v):(0,r.warn)("Dependent image with object ID ".concat(c," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(c,v){var x=c.width,G=c.height,ie=z(c,this.forceDataSchema,!!v),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width",h(x)),ye.setAttributeNS(null,"height",h(G)),this.current.element=ye,this.clip("nonzero");var ne=this.svgFactory.createElement("svg:image");ne.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ie),ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y",h(-G)),ne.setAttributeNS(null,"width",h(x)+"px"),ne.setAttributeNS(null,"height",h(G)+"px"),ne.setAttributeNS(null,"transform","scale(".concat(h(1/x)," ").concat(h(-1/G),")")),v?v.appendChild(ne):this._ensureTransformGroup().appendChild(ne)}},{key:"paintImageMaskXObject",value:function(c){var v=this.current,x=c.width,G=c.height,ie=v.fillColor;v.maskId="mask".concat(oe++);var ye=this.svgFactory.createElement("svg:mask");ye.setAttributeNS(null,"id",v.maskId);var ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",h(x)),ne.setAttributeNS(null,"height",h(G)),ne.setAttributeNS(null,"fill",ie),ne.setAttributeNS(null,"mask","url(#".concat(v.maskId,")")),this.defs.appendChild(ye),this._ensureTransformGroup().appendChild(ne),this.paintInlineImageXObject(c,ye)}},{key:"paintFormXObjectBegin",value:function(c,v){if(Array.isArray(c)&&6===c.length&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]),v){var x=v[2]-v[0],G=v[3]-v[1],ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",v[0]),ie.setAttributeNS(null,"y",v[1]),ie.setAttributeNS(null,"width",h(x)),ie.setAttributeNS(null,"height",h(G)),this.current.element=ie,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(c){var v=this.svgFactory.create(c.width,c.height),x=this.svgFactory.createElement("svg:defs");v.appendChild(x),this.defs=x;var G=this.svgFactory.createElement("svg:g");return G.setAttributeNS(null,"transform",C(c.transform)),v.appendChild(G),this.svg=G,v}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(c),this.current.clipGroup=c}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",C(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),te}()},(p,i,t)=>{"use strict";function r(c){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(c)}Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=function w(c){return c&&c.__esModule?c:{default:c}}(t(156)),u=t(1),y=t(179);function N(c,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),v&&B(c,v)}function B(c,v){return(B=Object.setPrototypeOf||function(G,ie){return G.__proto__=ie,G})(c,v)}function Y(c){var v=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ie,G=D(c);if(v){var ye=D(this).constructor;ie=Reflect.construct(G,arguments,ye)}else ie=G.apply(this,arguments);return function O(c,v){if(v&&("object"===r(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function k(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}(this,ie)}}function D(c){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(c)}function M(c,v,x,G,ie,ye,ne){try{var Ee=c[ye](ne),pe=Ee.value}catch(_e){return void x(_e)}Ee.done?v(pe):Promise.resolve(pe).then(G,ie)}function L(c){return function(){var v=this,x=arguments;return new Promise(function(G,ie){var ye=c.apply(v,x);function ne(pe){M(ye,G,ie,ne,Ee,"next",pe)}function Ee(pe){M(ye,G,ie,ne,Ee,"throw",pe)}ne(void 0)})}}function f(c,v){(null==v||v>c.length)&&(v=c.length);for(var x=0,G=new Array(v);x<v;x++)G[x]=c[x];return G}function d(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function R(c,v){for(var x=0;x<v.length;x++){var G=v[x];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(c,G.key,G)}}function h(c,v,x){return v&&R(c.prototype,v),x&&R(c,x),Object.defineProperty(c,"prototype",{writable:!1}),c}var C=__webpack_require__(2767),m=__webpack_require__(8251),l=__webpack_require__(7677),b=__webpack_require__(1543),P=/^file:\/\/\/[a-zA-Z]:\//;i.PDFNodeStream=function(){function c(v){d(this,c),this.source=v,this.url=function g(c){var v=b.parse(c);return"file:"===v.protocol||v.host?v:/^[a-z]:[/\\]/i.test(c)?b.parse("file:///".concat(c)):(v.host||(v.protocol="file:"),v)}(v.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(c,[{key:"_progressiveDataLength",get:function(){var x,G;return null!==(x=null===(G=this._fullRequestReader)||void 0===G?void 0:G._loaded)&&void 0!==x?x:0}},{key:"getFullReader",value:function(){return(0,u.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new oe(this),this._fullRequestReader}},{key:"getRangeReader",value:function(x,G){if(G<=this._progressiveDataLength)return null;var ie=this.isFsUrl?new re(this,x,G):new V(this,x,G);return this._rangeRequestReaders.push(ie),ie}},{key:"cancelAllRequests",value:function(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);var ie,G=function s(c,v){var x=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!x){if(Array.isArray(c)||(x=function a(c,v){if(c){if("string"==typeof c)return f(c,v);var x=Object.prototype.toString.call(c).slice(8,-1);if("Object"===x&&c.constructor&&(x=c.constructor.name),"Map"===x||"Set"===x)return Array.from(c);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return f(c,v)}}(c))||v&&c&&"number"==typeof c.length){x&&(c=x);var G=0,ie=function(){};return{s:ie,n:function(){return G>=c.length?{done:!0}:{done:!1,value:c[G++]}},e:function(_e){throw _e},f:ie}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ee,ye=!0,ne=!1;return{s:function(){x=x.call(c)},n:function(){var _e=x.next();return ye=_e.done,_e},e:function(_e){ne=!0,Ee=_e},f:function(){try{!ye&&null!=x.return&&x.return()}finally{if(ne)throw Ee}}}}(this._rangeRequestReaders.slice(0));try{for(G.s();!(ie=G.n()).done;)ie.value.cancel(x)}catch(ne){G.e(ne)}finally{G.f()}}}]),c}();var z=function(){function c(v){d(this,c),this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;var x=v.source;this._contentLength=x.length,this._loaded=0,this._filename=null,this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._headersCapability=(0,u.createPromiseCapability)()}return h(c,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(v=L(o.default.mark(function G(){var ie,ye;return o.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._readCapability.promise;case 2:if(!this._done){Ee.next=4;break}return Ee.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Ee.next=6;break}throw this._storedError;case 6:if(null!==(ie=this._readableStream.read())){Ee.next=10;break}return this._readCapability=(0,u.createPromiseCapability)(),Ee.abrupt("return",this.read());case 10:return this._loaded+=ie.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),ye=new Uint8Array(ie).buffer,Ee.abrupt("return",{value:ye,done:!1});case 14:case"end":return Ee.stop()}},G,this)})),function x(){return v.apply(this,arguments)})},{key:"cancel",value:function(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}},{key:"_error",value:function(x){this._storedError=x,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(x){var G=this;this._readableStream=x,x.on("readable",function(){G._readCapability.resolve()}),x.on("end",function(){x.destroy(),G._done=!0,G._readCapability.resolve()}),x.on("error",function(ie){G._error(ie)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new u.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),c;var v}(),ee=function(){function c(v){d(this,c),this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._isStreamingSupported=!v.source.disableStream}return h(c,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(v=L(o.default.mark(function G(){var ie,ye;return o.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,this._readCapability.promise;case 2:if(!this._done){Ee.next=4;break}return Ee.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Ee.next=6;break}throw this._storedError;case 6:if(null!==(ie=this._readableStream.read())){Ee.next=10;break}return this._readCapability=(0,u.createPromiseCapability)(),Ee.abrupt("return",this.read());case 10:return this._loaded+=ie.length,this.onProgress&&this.onProgress({loaded:this._loaded}),ye=new Uint8Array(ie).buffer,Ee.abrupt("return",{value:ye,done:!1});case 14:case"end":return Ee.stop()}},G,this)})),function x(){return v.apply(this,arguments)})},{key:"cancel",value:function(x){this._readableStream?this._readableStream.destroy(x):this._error(x)}},{key:"_error",value:function(x){this._storedError=x,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(x){var G=this;this._readableStream=x,x.on("readable",function(){G._readCapability.resolve()}),x.on("end",function(){x.destroy(),G._done=!0,G._readCapability.resolve()}),x.on("error",function(ie){G._error(ie)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),c;var v}();function Q(c,v){return{protocol:c.protocol,auth:c.auth,host:c.hostname,port:c.port,path:c.path,method:"GET",headers:v}}var oe=function(c){N(x,c);var v=Y(x);function x(G){var ie;d(this,x);var ye=function(Ee){if(404===Ee.statusCode){var pe=new u.MissingPDFException('Missing PDF "'.concat(ie._url,'".'));return ie._storedError=pe,void ie._headersCapability.reject(pe)}ie._headersCapability.resolve(),ie._setReadableStream(Ee);var _e=function(Te){return ie._readableStream.headers[Te.toLowerCase()]},he=(0,y.validateRangeRequestCapabilities)({getResponseHeader:_e,isHttp:G.isHttp,rangeChunkSize:ie._rangeChunkSize,disableRange:ie._disableRange}),Pe=he.suggestedLength;ie._isRangeSupported=he.allowRangeRequests,ie._contentLength=Pe||ie._contentLength,ie._filename=(0,y.extractFilenameFromHeader)(_e)};return(ie=v.call(this,G))._request=null,ie._request="http:"===ie._url.protocol?m.request(Q(ie._url,G.httpHeaders),ye):l.request(Q(ie._url,G.httpHeaders),ye),ie._request.on("error",function(ne){ie._storedError=ne,ie._headersCapability.reject(ne)}),ie._request.end(),ie}return h(x)}(z),V=function(c){N(x,c);var v=Y(x);function x(G,ie,ye){var ne;for(var Ee in d(this,x),(ne=v.call(this,G))._httpHeaders={},G.httpHeaders){var pe=G.httpHeaders[Ee];typeof pe>"u"||(ne._httpHeaders[Ee]=pe)}ne._httpHeaders.Range="bytes=".concat(ie,"-").concat(ye-1);var _e=function(Ae){if(404!==Ae.statusCode)ne._setReadableStream(Ae);else{var Pe=new u.MissingPDFException('Missing PDF "'.concat(ne._url,'".'));ne._storedError=Pe}};return ne._request=null,ne._request="http:"===ne._url.protocol?m.request(Q(ne._url,ne._httpHeaders),_e):l.request(Q(ne._url,ne._httpHeaders),_e),ne._request.on("error",function(he){ne._storedError=he}),ne._request.end(),ne}return h(x)}(ee),te=function(c){N(x,c);var v=Y(x);function x(G){var ie;d(this,x),ie=v.call(this,G);var ye=decodeURIComponent(ie._url.path);return P.test(ie._url.href)&&(ye=ye.replace(/^\//,"")),C.lstat(ye,function(ne,Ee){if(ne)return"ENOENT"===ne.code&&(ne=new u.MissingPDFException('Missing PDF "'.concat(ye,'".'))),ie._storedError=ne,void ie._headersCapability.reject(ne);ie._contentLength=Ee.size,ie._setReadableStream(C.createReadStream(ye)),ie._headersCapability.resolve()}),ie}return h(x)}(z),re=function(c){N(x,c);var v=Y(x);function x(G,ie,ye){var ne;d(this,x),ne=v.call(this,G);var Ee=decodeURIComponent(ne._url.path);return P.test(ne._url.href)&&(Ee=Ee.replace(/^\//,"")),ne._setReadableStream(C.createReadStream(Ee,{start:ie,end:ye-1})),ne}return h(x)}(ee)},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=function N(Y,O){return 404===Y||0===Y&&O.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+O+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(Y,') while retrieving PDF "').concat(O,'".'),Y)},i.extractFilenameFromHeader=function w(Y){var O=Y("Content-Disposition");if(O){var k=(0,o.getFilenameFromContentDispositionHeader)(O);if(k.includes("%"))try{k=decodeURIComponent(k)}catch{}if((0,u.isPdfFile)(k))return k}return null},i.validateRangeRequestCapabilities=function y(Y){var O=Y.getResponseHeader,k=Y.isHttp,_=Y.rangeChunkSize,D=Y.disableRange,M={allowRangeRequests:!1,suggestedLength:void 0},L=parseInt(O("Content-Length"),10);return!Number.isInteger(L)||(M.suggestedLength=L,L<=2*_)||D||!k||"bytes"!==O("Accept-Ranges")||"identity"!==(O("Content-Encoding")||"identity")||(M.allowRangeRequests=!0),M},i.validateResponseStatus=function B(Y){return 200===Y||206===Y};var r=t(1),o=t(180),u=t(158)},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=function Y(O){var k=!0,_=s("filename\\*","i").exec(O);if(_){var D=R(_=_[1]);return f(D=C(D=h(D=unescape(D))))}if(_=function d(m){for(var b,l=[],P=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(b=P.exec(m));){var F=o(b,4),z=F[1],ee=F[2],Q=F[3];if((z=parseInt(z,10))in l){if(0===z)break}else l[z]=[ee,Q]}for(var oe=[],V=0;V<l.length&&V in l;++V){var te=o(l[V],2),re=te[0],c=te[1];c=R(c),re&&(c=unescape(c),0===V&&(c=h(c))),oe.push(c)}return oe.join("")}(O))return f(C(_));if(_=s("filename","i").exec(O)){var L=R(_=_[1]);return f(L=C(L))}function s(m,l){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function a(m,l){if(m){if(!/^[\x00-\xFF]+$/.test(l))return l;try{var b=new TextDecoder(m,{fatal:!0}),P=(0,r.stringToBytes)(l);l=b.decode(P),k=!1}catch{}}return l}function f(m){return k&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),k&&(m=a("iso-8859-1",m))),m}function R(m){if(m.startsWith('"')){for(var l=m.slice(1).split('\\"'),b=0;b<l.length;++b){var P=l[b].indexOf('"');-1!==P&&(l[b]=l[b].slice(0,P),l.length=b+1),l[b]=l[b].replace(/\\(.)/g,"$1")}m=l.join('"')}return m}function h(m){var l=m.indexOf("'");return-1===l?m:a(m.slice(0,l),m.slice(l+1).replace(/^[^']*'/,""))}function C(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,b,P,g){if("q"===P||"Q"===P)return a(b,g=(g=g.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(F,z){return String.fromCharCode(parseInt(z,16))}));try{g=atob(g)}catch{}return a(b,g)})}return""};var r=t(1);function o(O,k){return function B(O){if(Array.isArray(O))return O}(O)||function N(O,k){var _=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=_){var s,a,D=[],M=!0,L=!1;try{for(_=_.call(O);!(M=(s=_.next()).done)&&(D.push(s.value),!k||D.length!==k);M=!0);}catch(f){L=!0,a=f}finally{try{!M&&null!=_.return&&_.return()}finally{if(L)throw a}}return D}}(O,k)||function y(O,k){if(O){if("string"==typeof O)return w(O,k);var _=Object.prototype.toString.call(O).slice(8,-1);if("Object"===_&&O.constructor&&(_=O.constructor.name),"Map"===_||"Set"===_)return Array.from(O);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return w(O,k)}}(O,k)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(O,k){(null==k||k>O.length)&&(k=O.length);for(var _=0,D=new Array(k);_<k;_++)D[_]=O[_];return D}},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var r=function y(h){return h&&h.__esModule?h:{default:h}}(t(156)),o=t(1),u=t(179);function w(h,C,m,l,b,P,g){try{var F=h[P](g),z=F.value}catch(ee){return void m(ee)}F.done?C(z):Promise.resolve(z).then(l,b)}function N(h){return function(){var C=this,m=arguments;return new Promise(function(l,b){var P=h.apply(C,m);function g(z){w(P,l,b,g,F,"next",z)}function F(z){w(P,l,b,g,F,"throw",z)}g(void 0)})}}function B(h,C){var m=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!m){if(Array.isArray(h)||(m=function Y(h,C){if(h){if("string"==typeof h)return O(h,C);var m=Object.prototype.toString.call(h).slice(8,-1);if("Object"===m&&h.constructor&&(m=h.constructor.name),"Map"===m||"Set"===m)return Array.from(h);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return O(h,C)}}(h))||C&&h&&"number"==typeof h.length){m&&(h=m);var l=0,b=function(){};return{s:b,n:function(){return l>=h.length?{done:!0}:{done:!1,value:h[l++]}},e:function(ee){throw ee},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,P=!0,g=!1;return{s:function(){m=m.call(h)},n:function(){var ee=m.next();return P=ee.done,ee},e:function(ee){g=!0,F=ee},f:function(){try{!P&&null!=m.return&&m.return()}finally{if(g)throw F}}}}function O(h,C){(null==C||C>h.length)&&(C=h.length);for(var m=0,l=new Array(C);m<C;m++)l[m]=h[m];return l}function k(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}function _(h,C){for(var m=0;m<C.length;m++){var l=C[m];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}function D(h,C,m){return C&&_(h.prototype,C),m&&_(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}var a=function(){function h(C){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,h),this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return D(h,[{key:"requestRange",value:function(m,l,b){var P={begin:m,end:l};for(var g in b)P[g]=b[g];return this.request(P)}},{key:"requestFull",value:function(m){return this.request(m)}},{key:"request",value:function(m){var l=this.getXhr(),b=this.currXhrId++,P=this.pendingRequests[b]={xhr:l};for(var g in l.open("GET",this.url),l.withCredentials=this.withCredentials,this.httpHeaders){var F=this.httpHeaders[g];typeof F>"u"||l.setRequestHeader(g,F)}return this.isHttp&&"begin"in m&&"end"in m?(l.setRequestHeader("Range","bytes=".concat(m.begin,"-").concat(m.end-1)),P.expectedStatus=206):P.expectedStatus=200,l.responseType="arraybuffer",m.onError&&(l.onerror=function(z){m.onError(l.status)}),l.onreadystatechange=this.onStateChange.bind(this,b),l.onprogress=this.onProgress.bind(this,b),P.onHeadersReceived=m.onHeadersReceived,P.onDone=m.onDone,P.onError=m.onError,P.onProgress=m.onProgress,l.send(null),b}},{key:"onProgress",value:function(m,l){var b,P=this.pendingRequests[m];P&&(null===(b=P.onProgress)||void 0===b||b.call(P,l))}},{key:"onStateChange",value:function(m,l){var b=this.pendingRequests[m];if(b){var P=b.xhr;if(P.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),4===P.readyState&&m in this.pendingRequests){var g;if(delete this.pendingRequests[m],0===P.status&&this.isHttp)return void(null===(g=b.onError)||void 0===g||g.call(b,P.status));var ee,F=P.status||200;if((200!==F||206!==b.expectedStatus)&&F!==b.expectedStatus)return void(null===(ee=b.onError)||void 0===ee||ee.call(b,P.status));var Q=function s(h){var C=h.response;return"string"!=typeof C?C:(0,o.stringToBytes)(C).buffer}(P);if(206===F){var oe=P.getResponseHeader("Content-Range"),V=/bytes (\d+)-(\d+)\/(\d+)/.exec(oe);b.onDone({begin:parseInt(V[1],10),chunk:Q})}else if(Q)b.onDone({begin:0,chunk:Q});else{var te;null===(te=b.onError)||void 0===te||te.call(b,P.status)}}}}},{key:"getRequestXhr",value:function(m){return this.pendingRequests[m].xhr}},{key:"isPendingRequest",value:function(m){return m in this.pendingRequests}},{key:"abortRequest",value:function(m){var l=this.pendingRequests[m].xhr;delete this.pendingRequests[m],l.abort()}}]),h}();i.PDFNetworkStream=function(){function h(C){k(this,h),this._source=C,this._manager=new a(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return D(h,[{key:"_onRangeRequestReaderClosed",value:function(m){var l=this._rangeRequestReaders.indexOf(m);l>=0&&this._rangeRequestReaders.splice(l,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(m,l){var b=new R(this._manager,m,l);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}},{key:"cancelAllRequests",value:function(m){var l;null===(l=this._fullRequestReader)||void 0===l||l.cancel(m);var P,b=B(this._rangeRequestReaders.slice(0));try{for(b.s();!(P=b.n()).done;)P.value.cancel(m)}catch(F){b.e(F)}finally{b.f()}}}]),h}();var d=function(){function h(C,m){k(this,h),this._manager=C;var l={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=C.requestFull(l),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return D(h,[{key:"_onHeadersReceived",value:function(){var m=this._fullRequestId,l=this._manager.getRequestXhr(m),b=function(ee){return l.getResponseHeader(ee)},P=(0,u.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),F=P.suggestedLength;P.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=F||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var P,b=B(this._requests);try{for(b.s();!(P=b.n()).done;)P.value.resolve({value:void 0,done:!0})}catch(F){b.e(F)}finally{b.f()}this._requests.length=0}}},{key:"_onError",value:function(m){this._storedError=(0,u.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);var b,l=B(this._requests);try{for(l.s();!(b=l.n()).done;)b.value.reject(this._storedError)}catch(g){l.e(g)}finally{l.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(m){var l;null===(l=this.onProgress)||void 0===l||l.call(this,{loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(C=N(r.default.mark(function l(){var b,P;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!this._storedError){F.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){F.next=5;break}return b=this._cachedChunks.shift(),F.abrupt("return",{value:b,done:!1});case 5:if(!this._done){F.next=7;break}return F.abrupt("return",{value:void 0,done:!0});case 7:return P=(0,o.createPromiseCapability)(),this._requests.push(P),F.abrupt("return",P.promise);case 10:case"end":return F.stop()}},l,this)})),function m(){return C.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0,this._headersReceivedCapability.reject(m);var b,l=B(this._requests);try{for(l.s();!(b=l.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(g){l.e(g)}finally{l.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),h;var C}(),R=function(){function h(C,m,l){k(this,h),this._manager=C;var b={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(m,l,b),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return D(h,[{key:"_close",value:function(){var m;null===(m=this.onClosed)||void 0===m||m.call(this,this)}},{key:"_onDone",value:function(m){var l=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunk=l,this._done=!0;var g,P=B(this._requests);try{for(P.s();!(g=P.n()).done;)g.value.resolve({value:void 0,done:!0})}catch(z){P.e(z)}finally{P.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(m){this._storedError=(0,u.createResponseStatusError)(m,this._url);var b,l=B(this._requests);try{for(l.s();!(b=l.n()).done;)b.value.reject(this._storedError)}catch(g){l.e(g)}finally{l.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(m){var l;this.isStreamingSupported||null===(l=this.onProgress)||void 0===l||l.call(this,{loaded:m.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(C=N(r.default.mark(function l(){var b,P;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!this._storedError){F.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){F.next=6;break}return b=this._queuedChunk,this._queuedChunk=null,F.abrupt("return",{value:b,done:!1});case 6:if(!this._done){F.next=8;break}return F.abrupt("return",{value:void 0,done:!0});case 8:return P=(0,o.createPromiseCapability)(),this._requests.push(P),F.abrupt("return",P.promise);case 11:case"end":return F.stop()}},l,this)})),function m(){return C.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0;var b,l=B(this._requests);try{for(l.s();!(b=l.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(g){l.e(g)}finally{l.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),h;var C}()},(p,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var r=function y(d){return d&&d.__esModule?d:{default:d}}(t(156)),o=t(1),u=t(179);function w(d,R,h,C,m,l,b){try{var P=d[l](b),g=P.value}catch(F){return void h(F)}P.done?R(g):Promise.resolve(g).then(C,m)}function N(d){return function(){var R=this,h=arguments;return new Promise(function(C,m){var l=d.apply(R,h);function b(g){w(l,C,m,b,P,"next",g)}function P(g){w(l,C,m,b,P,"throw",g)}b(void 0)})}}function O(d,R){(null==R||R>d.length)&&(R=d.length);for(var h=0,C=new Array(R);h<R;h++)C[h]=d[h];return C}function k(d,R){if(!(d instanceof R))throw new TypeError("Cannot call a class as a function")}function _(d,R){for(var h=0;h<R.length;h++){var C=R[h];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,C.key,C)}}function D(d,R,h){return R&&_(d.prototype,R),h&&_(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function M(d,R,h){return{method:"GET",headers:d,signal:h?.signal,mode:"cors",credentials:R?"include":"same-origin",redirect:"follow"}}function L(d){var R=new Headers;for(var h in d){var C=d[h];typeof C>"u"||R.append(h,C)}return R}i.PDFFetchStream=function(){function d(R){k(this,d),this.source=R,this.isHttp=/^https?:/i.test(R.url),this.httpHeaders=this.isHttp&&R.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return D(d,[{key:"_progressiveDataLength",get:function(){var h,C;return null!==(h=null===(C=this._fullRequestReader)||void 0===C?void 0:C._loaded)&&void 0!==h?h:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}},{key:"getRangeReader",value:function(h,C){if(C<=this._progressiveDataLength)return null;var m=new f(this,h,C);return this._rangeRequestReaders.push(m),m}},{key:"cancelAllRequests",value:function(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);var m,C=function B(d,R){var h=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!h){if(Array.isArray(d)||(h=function Y(d,R){if(d){if("string"==typeof d)return O(d,R);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return O(d,R)}}(d))||R&&d&&"number"==typeof d.length){h&&(d=h);var C=0,m=function(){};return{s:m,n:function(){return C>=d.length?{done:!0}:{done:!1,value:d[C++]}},e:function(F){throw F},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,l=!0,b=!1;return{s:function(){h=h.call(d)},n:function(){var F=h.next();return l=F.done,F},e:function(F){b=!0,P=F},f:function(){try{!l&&null!=h.return&&h.return()}finally{if(b)throw P}}}}(this._rangeRequestReaders.slice(0));try{for(C.s();!(m=C.n()).done;)m.value.cancel(h)}catch(b){C.e(b)}finally{C.f()}}}]),d}();var a=function(){function d(R){var h=this;k(this,d),this._stream=R,this._reader=null,this._loaded=0,this._filename=null;var C=R.source;this._withCredentials=C.withCredentials||!1,this._contentLength=C.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._headers=L(this._stream.httpHeaders);var m=C.url;fetch(m,M(this._headers,this._withCredentials,this._abortController)).then(function(l){if(!(0,u.validateResponseStatus)(l.status))throw(0,u.createResponseStatusError)(l.status,m);h._reader=l.body.getReader(),h._headersCapability.resolve();var b=function(ee){return l.headers.get(ee)},P=(0,u.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:h._stream.isHttp,rangeChunkSize:h._rangeChunkSize,disableRange:h._disableRange}),F=P.suggestedLength;h._isRangeSupported=P.allowRangeRequests,h._contentLength=F||h._contentLength,h._filename=(0,u.extractFilenameFromHeader)(b),!h._isStreamingSupported&&h._isRangeSupported&&h.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return D(d,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(R=N(r.default.mark(function C(){var m,l,b,P;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this._headersCapability.promise;case 2:return F.next=4,this._reader.read();case 4:if(l=(m=F.sent).value,!(b=m.done)){F.next=9;break}return F.abrupt("return",{value:l,done:b});case 9:return this._loaded+=l.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),P=new Uint8Array(l).buffer,F.abrupt("return",{value:P,done:!1});case 13:case"end":return F.stop()}},C,this)})),function h(){return R.apply(this,arguments)})},{key:"cancel",value:function(h){this._reader&&this._reader.cancel(h),this._abortController&&this._abortController.abort()}}]),d;var R}(),f=function(){function d(R,h,C){var m=this;k(this,d),this._stream=R,this._reader=null,this._loaded=0;var l=R.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=L(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(h,"-").concat(C-1));var b=l.url;fetch(b,M(this._headers,this._withCredentials,this._abortController)).then(function(P){if(!(0,u.validateResponseStatus)(P.status))throw(0,u.createResponseStatusError)(P.status,b);m._readCapability.resolve(),m._reader=P.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return D(d,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(R=N(r.default.mark(function C(){var m,l,b,P;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this._readCapability.promise;case 2:return F.next=4,this._reader.read();case 4:if(l=(m=F.sent).value,!(b=m.done)){F.next=9;break}return F.abrupt("return",{value:l,done:b});case 9:return this._loaded+=l.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),P=new Uint8Array(l).buffer,F.abrupt("return",{value:P,done:!1});case 13:case"end":return F.stop()}},C,this)})),function h(){return R.apply(this,arguments)})},{key:"cancel",value:function(h){this._reader&&this._reader.cancel(h),this._abortController&&this._abortController.abort()}}]),d;var R}()}],__webpack_module_cache__={};function __w_pdfjs_require__(p){var i=__webpack_module_cache__[p];if(void 0!==i)return i.exports;var t=__webpack_module_cache__[p]={id:p,loaded:!1,exports:{}};return __webpack_modules__[p](t,t.exports,__w_pdfjs_require__),t.loaded=!0,t.exports}__w_pdfjs_require__.nmd=p=>(p.paths=[],p.children||(p.children=[]),p);var __webpack_exports__={};return(()=>{"use strict";var p=__webpack_exports__;Object.defineProperty(p,"__esModule",{value:!0}),Object.defineProperty(p,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(p,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(p,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(p,"GlobalWorkerOptions",{enumerable:!0,get:function(){return u.GlobalWorkerOptions}}),Object.defineProperty(p,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(p,"LoopbackPort",{enumerable:!0,get:function(){return t.LoopbackPort}}),Object.defineProperty(p,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(p,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(p,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(p,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(p,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(p,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(p,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(p,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(p,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(p,"SVGGraphics",{enumerable:!0,get:function(){return N.SVGGraphics}}),Object.defineProperty(p,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(p,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(p,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(p,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(p,"XfaLayer",{enumerable:!0,get:function(){return B.XfaLayer}}),Object.defineProperty(p,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(p,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(p,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(p,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(p,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(p,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(p,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(p,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(p,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(p,"renderTextLayer",{enumerable:!0,get:function(){return w.renderTextLayer}}),Object.defineProperty(p,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(p,"version",{enumerable:!0,get:function(){return t.version}});var i=__w_pdfjs_require__(1),t=__w_pdfjs_require__(155),r=__w_pdfjs_require__(158),o=__w_pdfjs_require__(173),u=__w_pdfjs_require__(166),y=__w_pdfjs_require__(3),w=__w_pdfjs_require__(176),N=__w_pdfjs_require__(177),B=__w_pdfjs_require__(175);if(y.isNodeJS){var _=__w_pdfjs_require__(178).PDFNodeStream;(0,t.setPDFNetworkStreamFactory)(function(a){return new _(a)})}else{var M=__w_pdfjs_require__(181).PDFNetworkStream,s=__w_pdfjs_require__(182).PDFFetchStream;(0,t.setPDFNetworkStreamFactory)(function(a){return(0,r.isValidFetchUrl)(a.url)?new s(a):new M(a)})}})(),__webpack_exports__})(),module.exports=t()},3800:function(p,i){!function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function o(e,n){var q,ve,me,xe,S={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return xe={next:He(0),throw:He(1),return:He(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function He(Ue){return function(qe){return function $e(Ue){if(q)throw new TypeError("Generator is already executing.");for(;xe&&(xe=0,Ue[0]&&(S=0)),S;)try{if(q=1,ve&&(me=2&Ue[0]?ve.return:Ue[0]?ve.throw||((me=ve.return)&&me.call(ve),0):ve.next)&&!(me=me.call(ve,Ue[1])).done)return me;switch(ve=0,me&&(Ue=[2&Ue[0],me.value]),Ue[0]){case 0:case 1:me=Ue;break;case 4:return S.label++,{value:Ue[1],done:!1};case 5:S.label++,ve=Ue[1],Ue=[0];continue;case 7:Ue=S.ops.pop(),S.trys.pop();continue;default:if(!(me=(me=S.trys).length>0&&me[me.length-1])&&(6===Ue[0]||2===Ue[0])){S=0;continue}if(3===Ue[0]&&(!me||Ue[1]>me[0]&&Ue[1]<me[3])){S.label=Ue[1];break}if(6===Ue[0]&&S.label<me[1]){S.label=me[1],me=Ue;break}if(me&&S.label<me[2]){S.label=me[2],S.ops.push(Ue);break}me[2]&&S.ops.pop(),S.trys.pop();continue}Ue=n.call(e,S)}catch(qe){Ue=[6,qe],ve=0}finally{q=me=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,qe])}}}function u(e){var n="function"==typeof Symbol&&Symbol.iterator,S=n&&e[n],q=0;if(S)return S.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&q>=e.length&&(e=void 0),{value:e&&e[q++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,n,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,q=S.apply(e,n||[]),me=[];return ve={},xe("next"),xe("throw"),xe("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function xe(at){q[at]&&(ve[at]=function(dt){return new Promise(function(bt,_t){me.push([at,dt,bt,_t])>1||He(at,dt)})})}function He(at,dt){try{!function $e(at){at.value instanceof y?Promise.resolve(at.value.v).then(Ue,qe):tt(me[0][2],at)}(q[at](dt))}catch(bt){tt(me[0][3],bt)}}function Ue(at){He("next",at)}function qe(at){He("throw",at)}function tt(at,dt){at(dt),me.shift(),me.length&&He(me[0][0],me[0][1])}}function N(e){var n,S;return n={},q("next"),q("throw",function(ve){throw ve}),q("return"),n[Symbol.iterator]=function(){return this},n;function q(ve,me){n[ve]=e[ve]?function(xe){return(S=!S)?{value:y(e[ve](xe)),done:!1}:me?me(xe):xe}:me}}function B(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),S={},q("next"),q("throw"),q("return"),S[Symbol.asyncIterator]=function(){return this},S);function q(me){S[me]=e[me]&&function(xe){return new Promise(function(He,$e){!function ve(me,xe,He,$e){Promise.resolve($e).then(function(Ue){me({value:Ue,done:He})},xe)}(He,$e,(xe=e[me](xe)).done,xe.value)})}}}function Y(){}function O(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var k=Y;function _(e,n){try{Object.defineProperty(e,"name",{value:n,configurable:!0})}catch{}}var D=Promise,M=Promise.prototype.then,L=Promise.reject.bind(D);function s(e){return new D(e)}function a(e){return s(function(n){return n(e)})}function f(e){return L(e)}function d(e,n,S){return M.call(e,n,S)}function R(e,n,S){d(d(e,n,S),void 0,k)}function h(e,n){R(e,n)}function C(e,n){R(e,void 0,n)}function m(e,n,S){return d(e,n,S)}function l(e){d(e,void 0,k)}var b=function(e){if("function"==typeof queueMicrotask)b=queueMicrotask;else{var n=a(void 0);b=function(S){return d(n,S)}}return b(e)};function P(e,n,S){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,S)}function g(e,n,S){try{return a(P(e,n,S))}catch(q){return f(q)}}var z=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var S=this._back,q=S;16383===S._elements.length&&(q={_elements:[],_next:void 0}),S._elements.push(n),q!==S&&(this._back=q,S._next=q),++this._size},e.prototype.shift=function(){var n=this._front,S=n,q=this._cursor,ve=q+1,me=n._elements,xe=me[q];return 16384===ve&&(S=n._next,ve=0),--this._size,this._cursor=ve,n!==S&&(this._front=S),me[q]=void 0,xe},e.prototype.forEach=function(n){for(var S=this._cursor,q=this._front,ve=q._elements;!(S===ve.length&&void 0===q._next||S===ve.length&&(q=q._next,ve=q._elements,S=0,0===ve.length));)n(ve[S]),++S},e.prototype.peek=function(){return this._front._elements[this._cursor]},e}(),ee=r("[[AbortSteps]]"),Q=r("[[ErrorSteps]]"),oe=r("[[CancelSteps]]"),V=r("[[PullSteps]]"),te=r("[[ReleaseSteps]]");function re(e,n){e._ownerReadableStream=n,n._reader=e,"readable"===n._state?G(e):"closed"===n._state?function ye(e){G(e),pe(e)}(e):ie(e,n._storedError)}function c(e,n){return wt(e._ownerReadableStream,n)}function v(e){var n=e._ownerReadableStream;"readable"===n._state?ne(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function Ee(e,n){ie(e,n)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._readableStreamController[te](),n._reader=void 0,e._ownerReadableStream=void 0}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function G(e){e._closedPromise=s(function(n,S){e._closedPromise_resolve=n,e._closedPromise_reject=S})}function ie(e,n){G(e),ne(e,n)}function ne(e,n){void 0!==e._closedPromise_reject&&(l(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function pe(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var _e=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},he=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Pe(e,n){if(void 0!==e&&!function Ae(e){return"object"==typeof e||"function"==typeof e}(e))throw new TypeError("".concat(n," is not an object."))}function Oe(e,n){if("function"!=typeof e)throw new TypeError("".concat(n," is not a function."))}function Ie(e,n){if(!function Te(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError("".concat(n," is not an object."))}function Me(e,n,S){if(void 0===e)throw new TypeError("Parameter ".concat(n," is required in '").concat(S,"'."))}function j(e,n,S){if(void 0===e)throw new TypeError("".concat(n," is required in '").concat(S,"'."))}function ae(e){return Number(e)}function E(e){return 0===e?0:e}function $(e,n){var q=Number.MAX_SAFE_INTEGER,ve=Number(e);if(ve=E(ve),!_e(ve))throw new TypeError("".concat(n," is not a finite number"));if((ve=function A(e){return E(he(e))}(ve))<0||ve>q)throw new TypeError("".concat(n," is outside the accepted range of ").concat(0," to ").concat(q,", inclusive"));return _e(ve)&&0!==ve?ve:0}function J(e,n){if(!Wt(e))throw new TypeError("".concat(n," is not a ReadableStream."))}function Z(e){return new ge(e)}function le(e,n){e._reader._readRequests.push(n)}function fe(e,n,S){var ve=e._reader._readRequests.shift();S?ve._closeSteps():ve._chunkSteps(n)}function se(e){return e._reader._readRequests.length}function ke(e){var n=e._reader;return!(void 0===n||!T(n))}var X,H,ce,ge=function(){function e(n){if(Me(n,1,"ReadableStreamDefaultReader"),J(n,"First parameter"),Ut(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");re(this,n),this._readRequests=new z}return Object.defineProperty(e.prototype,"closed",{get:function(){return T(this)?this._closedPromise:f(W("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),T(this)?void 0===this._ownerReadableStream?f(x("cancel")):c(this,n):f(W("cancel"))},e.prototype.read=function(){if(!T(this))return f(W("read"));if(void 0===this._ownerReadableStream)return f(x("read from"));var n,S,q=s(function(me,xe){n=me,S=xe});return K(this,{_chunkSteps:function(me){return n({value:me,done:!1})},_closeSteps:function(){return n({value:void 0,done:!0})},_errorSteps:function(me){return S(me)}}),q},e.prototype.releaseLock=function(){if(!T(this))throw W("releaseLock");void 0!==this._ownerReadableStream&&function I(e){v(e),U(e,new TypeError("Reader was released"))}(this)},e}();function T(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof ge}function K(e,n){var S=e._ownerReadableStream;S._disturbed=!0,"closed"===S._state?n._closeSteps():"errored"===S._state?n._errorSteps(S._storedError):S._readableStreamController[V](n)}function U(e,n){var S=e._readRequests;e._readRequests=new z,S.forEach(function(q){q._errorSteps(n)})}function W(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function Se(e){return e.slice()}function we(e,n,S,q,ve){new Uint8Array(e).set(new Uint8Array(S,q,ve),n)}Object.defineProperties(ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),_(ge.prototype.cancel,"cancel"),_(ge.prototype.read,"read"),_(ge.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(ge.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var Ce=function(e){return(Ce="function"==typeof e.transfer?function(n){return n.transfer()}:"function"==typeof structuredClone?function(n){return structuredClone(n,{transfer:[n]})}:function(n){return n})(e)},Fe=function(e){return(Fe="boolean"==typeof e.detached?function(n){return n.detached}:function(n){return 0===n.byteLength})(e)};function We(e,n,S){if(e.slice)return e.slice(n,S);var q=S-n,ve=new ArrayBuffer(q);return we(ve,0,e,n,q),ve}function De(e,n){var S=e[n];if(null!=S){if("function"!=typeof S)throw new TypeError("".concat(String(n)," is not a function"));return S}}var Xe=null!==(ce=null!==(X=r.asyncIterator)&&void 0!==X?X:null===(H=r.for)||void 0===H?void 0:H.call(r,"Symbol.asyncIterator"))&&void 0!==ce?ce:"@@asyncIterator";function Le(e,n,S){if(void 0===n&&(n="sync"),void 0===S)if("async"===n){if(void 0===(S=De(e,Xe)))return function Be(e){var n,S=((n={})[r.iterator]=function(){return e.iterator},n),q=function(){return w(this,arguments,function(){return o(this,function(me){switch(me.label){case 0:return[5,u(N(B(S)))];case 1:case 2:return[4,y.apply(void 0,[me.sent()])];case 3:return[2,me.sent()]}})})}();return{iterator:q,nextMethod:q.next,done:!1}}(Le(e,"sync",De(e,r.iterator)))}else S=De(e,r.iterator);if(void 0===S)throw new TypeError("The object is not iterable");var me=P(S,e,[]);if(!O(me))throw new TypeError("The iterator method must return an object");return{iterator:me,nextMethod:me.next,done:!1}}var Ne,Ye=((Ne={})[Xe]=function(){return this},Ne);Object.defineProperty(Ye,Xe,{enumerable:!1});var Je=function(){function e(n,S){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=S}return e.prototype.next=function(){var n=this,S=function(){return n._nextSteps()};return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,S,S):S(),this._ongoingPromise},e.prototype.return=function(n){var S=this,q=function(){return S._returnSteps(n)};return this._ongoingPromise?m(this._ongoingPromise,q,q):q()},e.prototype._nextSteps=function(){var n=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var q,ve,S=this._reader,me=s(function(He,$e){q=He,ve=$e});return K(S,{_chunkSteps:function(He){n._ongoingPromise=void 0,b(function(){return q({value:He,done:!1})})},_closeSteps:function(){n._ongoingPromise=void 0,n._isFinished=!0,v(S),q({value:void 0,done:!0})},_errorSteps:function(He){n._ongoingPromise=void 0,n._isFinished=!0,v(S),ve(He)}}),me},e.prototype._returnSteps=function(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;var S=this._reader;if(!this._preventCancel){var q=c(S,n);return v(S),m(q,function(){return{value:n,done:!0}})}return v(S),a({value:n,done:!0})},e}(),Ze={next:function(){return de(this)?this._asyncIteratorImpl.next():f(Re("next"))},return:function(e){return de(this)?this._asyncIteratorImpl.return(e):f(Re("return"))}};function de(e){if(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Je}catch{return!1}}function Re(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(Ze,Ye);var ue=Number.isNaN||function(e){return e!=e};function ze(e){var n=We(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Ke(e){var n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function nt(e,n,S){if(!function be(e){return!("number"!=typeof e||ue(e)||e<0)}(S)||S===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:S}),e._queueTotalSize+=S}function it(e){e._queue=new z,e._queueTotalSize=0}function ct(e){return e===DataView}var pt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!st(this))throw Gr("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(n){if(!st(this))throw Gr("respond");if(Me(n,1,"respond"),n=$(n,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Fe(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");yr(this._associatedReadableByteStreamController,n)},e.prototype.respondWithNewView=function(n){if(!st(this))throw Gr("respondWithNewView");if(Me(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Fe(n.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");gr(this._associatedReadableByteStreamController,n)},e}();Object.defineProperties(pt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),_(pt.prototype.respond,"respond"),_(pt.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof r.toStringTag&&Object.defineProperty(pt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ft=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!yt(this))throw or("byobRequest");return Ur(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!yt(this))throw or("desiredSize");return fn(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!yt(this))throw or("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var n=this._controlledReadableByteStream._state;if("readable"!==n)throw new TypeError("The stream (in ".concat(n," state) is not in the readable state and cannot be closed"));ir(this)},e.prototype.enqueue=function(n){if(!yt(this))throw or("enqueue");if(Me(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(0===n.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===n.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var S=this._controlledReadableByteStream._state;if("readable"!==S)throw new TypeError("The stream (in ".concat(S," state) is not in the readable state and cannot be enqueued to"));pr(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!yt(this))throw or("error");kt(this,n)},e.prototype[oe]=function(n){zt(this),it(this);var S=this._cancelAlgorithm(n);return vr(this),S},e.prototype[V]=function(n){var S=this._controlledReadableByteStream;if(this._queueTotalSize>0)cn(this,n);else{var q=this._autoAllocateChunkSize;if(void 0!==q){var ve=void 0;try{ve=new ArrayBuffer(q)}catch(xe){return void n._errorSteps(xe)}var me={buffer:ve,bufferByteLength:q,byteOffset:0,byteLength:q,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}le(S,n),At(this)}},e.prototype[te]=function(){if(this._pendingPullIntos.length>0){var n=this._pendingPullIntos.peek();n.readerType="none",this._pendingPullIntos=new z,this._pendingPullIntos.push(n)}},e}();function yt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof ft}function st(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof pt}function At(e){if(function na(e){var n=e._controlledReadableByteStream;return!("readable"!==n._state||e._closeRequested||!e._started)&&(!!(ke(n)&&se(n)>0||jr(n)&&pn(n)>0)||fn(e)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,R(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e)),null},function(q){return kt(e,q),null})}}function zt(e){Br(e),e._pendingPullIntos=new z}function Ht(e,n){var S=!1;"closed"===e._state&&(S=!0);var q=Jt(n);"default"===n.readerType?fe(e,q,S):function ua(e,n,S){var ve=e._reader._readIntoRequests.shift();S?ve._closeSteps(n):ve._chunkSteps(n)}(e,q,S)}function Jt(e){return new e.viewConstructor(e.buffer,e.byteOffset,e.bytesFilled/e.elementSize)}function Mt(e,n,S,q){e._queue.push({buffer:n,byteOffset:S,byteLength:q}),e._queueTotalSize+=q}function Dt(e,n,S,q){var ve;try{ve=We(n,S,S+q)}catch(me){throw kt(e,me),me}Mt(e,ve,0,q)}function gt(e,n){n.bytesFilled>0&&Dt(e,n.buffer,n.byteOffset,n.bytesFilled),qt(e)}function Lt(e,n){var S=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),q=n.bytesFilled+S,ve=S,me=!1,He=q-q%n.elementSize;He>=n.minimumFill&&(ve=He-n.bytesFilled,me=!0);for(var $e=e._queue;ve>0;){var Ue=$e.peek(),qe=Math.min(ve,Ue.byteLength);we(n.buffer,n.byteOffset+n.bytesFilled,Ue.buffer,Ue.byteOffset,qe),Ue.byteLength===qe?$e.shift():(Ue.byteOffset+=qe,Ue.byteLength-=qe),e._queueTotalSize-=qe,sn(0,qe,n),ve-=qe}return me}function sn(e,n,S){S.bytesFilled+=n}function ln(e){0===e._queueTotalSize&&e._closeRequested?(vr(e),dr(e._controlledReadableByteStream)):At(e)}function Br(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Wr(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var n=e._pendingPullIntos.peek();Lt(e,n)&&(qt(e),Ht(e._controlledReadableByteStream,n))}}function ea(e,n,S,q){var qe,ve=e._controlledReadableByteStream,me=n.constructor,xe=function ht(e){return ct(e)?1:e.BYTES_PER_ELEMENT}(me),He=n.byteOffset,$e=n.byteLength,Ue=S*xe;try{qe=Ce(n.buffer)}catch(_t){return void q._errorSteps(_t)}var tt={buffer:qe,bufferByteLength:qe.byteLength,byteOffset:He,byteLength:$e,bytesFilled:0,minimumFill:Ue,elementSize:xe,viewConstructor:me,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(tt),void vn(ve,q);if("closed"!==ve._state){if(e._queueTotalSize>0){if(Lt(e,tt)){var dt=Jt(tt);return ln(e),void q._chunkSteps(dt)}if(e._closeRequested){var bt=new TypeError("Insufficient bytes to fill elements in the given buffer");return kt(e,bt),void q._errorSteps(bt)}}e._pendingPullIntos.push(tt),vn(ve,q),At(e)}else{var at=new me(tt.buffer,tt.byteOffset,0);q._closeSteps(at)}}function un(e,n){var S=e._pendingPullIntos.peek();Br(e),"closed"===e._controlledReadableByteStream._state?function ta(e,n){"none"===n.readerType&&qt(e);var S=e._controlledReadableByteStream;if(jr(S))for(;pn(S)>0;)Ht(S,qt(e))}(e,S):function ra(e,n,S){if(sn(0,n,S),"none"===S.readerType)return gt(e,S),void Wr(e);if(!(S.bytesFilled<S.minimumFill)){qt(e);var q=S.bytesFilled%S.elementSize;q>0&&Dt(e,S.buffer,S.byteOffset+S.bytesFilled-q,q),S.bytesFilled-=q,Ht(e._controlledReadableByteStream,S),Wr(e)}}(e,n,S),At(e)}function qt(e){return e._pendingPullIntos.shift()}function vr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ir(e){var n=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===n._state){if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var S=e._pendingPullIntos.peek();if(S.bytesFilled%S.elementSize!=0){var q=new TypeError("Insufficient bytes to fill elements in the given buffer");throw kt(e,q),q}}vr(e),dr(n)}}function pr(e,n){var S=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===S._state){var q=n.buffer,ve=n.byteOffset,me=n.byteLength;if(Fe(q))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var xe=Ce(q);if(e._pendingPullIntos.length>0){var He=e._pendingPullIntos.peek();if(Fe(He.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Br(e),He.buffer=Ce(He.buffer),"none"===He.readerType&&gt(e,He)}ke(S)?(function Zn(e){for(var n=e._controlledReadableByteStream._reader;n._readRequests.length>0;){if(0===e._queueTotalSize)return;cn(e,n._readRequests.shift())}}(e),0===se(S)?Mt(e,xe,ve,me):(e._pendingPullIntos.length>0&&qt(e),fe(S,new Uint8Array(xe,ve,me),!1))):jr(S)?(Mt(e,xe,ve,me),Wr(e)):Mt(e,xe,ve,me),At(e)}}function kt(e,n){var S=e._controlledReadableByteStream;"readable"===S._state&&(zt(e),it(e),vr(e),Wn(S,n))}function cn(e,n){var S=e._queue.shift();e._queueTotalSize-=S.byteLength,ln(e);var q=new Uint8Array(S.buffer,S.byteOffset,S.byteLength);n._chunkSteps(q)}function Ur(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var n=e._pendingPullIntos.peek(),S=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),q=Object.create(pt.prototype);(function ia(e,n,S){e._associatedReadableByteStreamController=n,e._view=S})(q,e,S),e._byobRequest=q}return e._byobRequest}function fn(e){var n=e._controlledReadableByteStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function yr(e,n){var S=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(S.bytesFilled+n>S.byteLength)throw new RangeError("bytesWritten out of range")}S.buffer=Ce(S.buffer),un(e,n)}function gr(e,n){var S=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(S.byteOffset+S.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(S.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(S.bytesFilled+n.byteLength>S.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var ve=n.byteLength;S.buffer=Ce(n.buffer),un(e,ve)}function dn(e,n,S,q,ve,me,xe){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,it(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=me,n._pullAlgorithm=q,n._cancelAlgorithm=ve,n._autoAllocateChunkSize=xe,n._pendingPullIntos=new z,e._readableStreamController=n,R(a(S()),function(){return n._started=!0,At(n),null},function($e){return kt(n,$e),null})}function Gr(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function or(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function sa(e,n){if("byob"!==(e="".concat(e)))throw new TypeError("".concat(n," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function hn(e){return new Nt(e)}function vn(e,n){e._reader._readIntoRequests.push(n)}function pn(e){return e._reader._readIntoRequests.length}function jr(e){var n=e._reader;return!(void 0===n||!Vt(n))}Object.defineProperties(ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),_(ft.prototype.close,"close"),_(ft.prototype.enqueue,"enqueue"),_(ft.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(ft.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Nt=function(){function e(n){if(Me(n,1,"ReadableStreamBYOBReader"),J(n,"First parameter"),Ut(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!yt(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");re(this,n),this._readIntoRequests=new z}return Object.defineProperty(e.prototype,"closed",{get:function(){return Vt(this)?this._closedPromise:f(mr("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),Vt(this)?void 0===this._ownerReadableStream?f(x("cancel")):c(this,n):f(mr("cancel"))},e.prototype.read=function(n,S){if(void 0===S&&(S={}),!Vt(this))return f(mr("read"));if(!ArrayBuffer.isView(n))return f(new TypeError("view must be an array buffer view"));if(0===n.byteLength)return f(new TypeError("view must have non-zero byteLength"));if(0===n.buffer.byteLength)return f(new TypeError("view's buffer must have non-zero byteLength"));if(Fe(n.buffer))return f(new TypeError("view's buffer has been detached"));var q;try{q=function la(e,n){var S;return Pe(e,n),{min:$(null!==(S=e?.min)&&void 0!==S?S:1,"".concat(n," has member 'min' that"))}}(S,"options")}catch(Ue){return f(Ue)}var ve=q.min;if(0===ve)return f(new TypeError("options.min must be greater than 0"));if(function Ct(e){return ct(e.constructor)}(n)){if(ve>n.byteLength)return f(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ve>n.length)return f(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return f(x("read from"));var me,xe,He=s(function(Ue,qe){me=Ue,xe=qe});return yn(this,n,ve,{_chunkSteps:function(Ue){return me({value:Ue,done:!1})},_closeSteps:function(Ue){return me({value:Ue,done:!0})},_errorSteps:function(Ue){return xe(Ue)}}),He},e.prototype.releaseLock=function(){if(!Vt(this))throw mr("releaseLock");void 0!==this._ownerReadableStream&&function ca(e){v(e),gn(e,new TypeError("Reader was released"))}(this)},e}();function Vt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof Nt}function yn(e,n,S,q){var ve=e._ownerReadableStream;ve._disturbed=!0,"errored"===ve._state?q._errorSteps(ve._storedError):ea(ve._readableStreamController,n,S,q)}function gn(e,n){var S=e._readIntoRequests;e._readIntoRequests=new z,S.forEach(function(q){q._errorSteps(n)})}function mr(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function sr(e,n){var S=e.highWaterMark;if(void 0===S)return n;if(ue(S)||S<0)throw new RangeError("Invalid highWaterMark");return S}function br(e){return e.size||function(){return 1}}function Sr(e,n){Pe(e,n);var S=e?.highWaterMark,q=e?.size;return{highWaterMark:void 0===S?void 0:ae(S),size:void 0===q?void 0:fa(q,"".concat(n," has member 'size' that"))}}function fa(e,n){return Oe(e,n),function(S){return ae(e(S))}}function ha(e,n,S){return Oe(e,S),function(q){return g(e,n,[q])}}function va(e,n,S){return Oe(e,S),function(){return g(e,n,[])}}function pa(e,n,S){return Oe(e,S),function(q){return P(e,n,[q])}}function ya(e,n,S){return Oe(e,S),function(q,ve){return g(e,n,[q,ve])}}function mn(e,n){if(!Qt(e))throw new TypeError("".concat(n," is not a WritableStream."))}Object.defineProperties(Nt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),_(Nt.prototype.cancel,"cancel"),_(Nt.prototype.read,"read"),_(Nt.prototype.releaseLock,"releaseLock"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Nt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var ma="function"==typeof AbortController;var Bt=function(){function e(n,S){void 0===n&&(n={}),void 0===S&&(S={}),void 0===n?n=null:Ie(n,"First parameter");var q=Sr(S,"Second parameter"),ve=function da(e,n){Pe(e,n);var S=e?.abort,q=e?.close,ve=e?.start,me=e?.type,xe=e?.write;return{abort:void 0===S?void 0:ha(S,e,"".concat(n," has member 'abort' that")),close:void 0===q?void 0:va(q,e,"".concat(n," has member 'close' that")),start:void 0===ve?void 0:pa(ve,e,"".concat(n," has member 'start' that")),write:void 0===xe?void 0:ya(xe,e,"".concat(n," has member 'write' that")),type:me}}(n,"First parameter");if(Sn(this),void 0!==ve.type)throw new RangeError("Invalid type is specified");var xe=br(q);!function Ia(e,n,S,q){var ve=Object.create(er.prototype);Tn(e,ve,void 0!==n.start?function(){return n.start(ve)}:function(){},void 0!==n.write?function(Ue){return n.write(Ue,ve)}:function(){return a(void 0)},void 0!==n.close?function(){return n.close()}:function(){return a(void 0)},void 0!==n.abort?function(Ue){return n.abort(Ue)}:function(){return a(void 0)},S,q)}(this,ve,sr(q,1),xe)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Qt(this))throw Pr("locked");return Zt(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(n){return void 0===n&&(n=void 0),Qt(this)?Zt(this)?f(new TypeError("Cannot abort a stream that already has a writer")):Ar(this,n):f(Pr("abort"))},e.prototype.close=function(){return Qt(this)?Zt(this)?f(new TypeError("Cannot close a stream that already has a writer")):Tt(this)?f(new TypeError("Cannot close an already-closing stream")):An(this):f(Pr("close"))},e.prototype.getWriter=function(){if(!Qt(this))throw Pr("getWriter");return bn(this)},e}();function bn(e){return new Ot(e)}function Sn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof Bt}function Zt(e){return void 0!==e._writer}function Ar(e,n){var S;if("closed"===e._state||"errored"===e._state)return a(void 0);e._writableStreamController._abortReason=n,null===(S=e._writableStreamController._abortController)||void 0===S||S.abort(n);var q=e._state;if("closed"===q||"errored"===q)return a(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var ve=!1;"erroring"===q&&(ve=!0,n=void 0);var me=s(function(xe,He){e._pendingAbortRequest={_promise:void 0,_resolve:xe,_reject:He,_reason:n,_wasAlreadyErroring:ve}});return e._pendingAbortRequest._promise=me,ve||Hr(e,n),me}function An(e){var n=e._state;if("closed"===n||"errored"===n)return f(new TypeError("The stream (in ".concat(n," state) is not in the writable state and cannot be closed")));var S=s(function(ve,me){e._closeRequest={_resolve:ve,_reject:me}}),q=e._writer;return void 0!==q&&e._backpressure&&"writable"===n&&Qr(q),function Ma(e){nt(e,wn,0),Cr(e)}(e._writableStreamController),S}function zr(e,n){"writable"!==e._state?Vr(e):Hr(e,n)}function Hr(e,n){var S=e._writableStreamController;e._state="erroring",e._storedError=n;var q=e._writer;void 0!==q&&_n(q,n),!function wa(e){return!(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)}(e)&&S._started&&Vr(e)}function Vr(e){e._state="errored",e._writableStreamController[Q]();var n=e._storedError;if(e._writeRequests.forEach(function(ve){ve._reject(n)}),e._writeRequests=new z,void 0!==e._pendingAbortRequest){var S=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,S._wasAlreadyErroring)return S._reject(n),void kr(e);R(e._writableStreamController[ee](S._reason),function(){return S._resolve(),kr(e),null},function(ve){return S._reject(ve),kr(e),null})}else kr(e)}function Tt(e){return!(void 0===e._closeRequest&&void 0===e._inFlightCloseRequest)}function kr(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var n=e._writer;void 0!==n&&Jr(n,e._storedError)}function Xr(e,n){var S=e._writer;void 0!==S&&n!==e._backpressure&&(n?function Ga(e){Tr(e)}(S):Qr(S)),e._backpressure=n}Object.defineProperties(Bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),_(Bt.prototype.abort,"abort"),_(Bt.prototype.close,"close"),_(Bt.prototype.getWriter,"getWriter"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});var Ot=function(){function e(n){if(Me(n,1,"WritableStreamDefaultWriter"),mn(n,"First parameter"),Zt(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;var S=n._state;if("writable"===S)!Tt(n)&&n._backpressure?Tr(this):Fn(this),wr(this);else if("erroring"===S)qr(this,n._storedError),wr(this);else if("closed"===S)Fn(this),function Wa(e){wr(e),On(e)}(this);else{var q=n._storedError;qr(this,q),xn(this,q)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Xt(this)?this._closedPromise:f(Yt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Xt(this))throw Yt("desiredSize");if(void 0===this._ownerWritableStream)throw ur("desiredSize");return function Fa(e){var n=e._ownerWritableStream,S=n._state;return"errored"===S||"erroring"===S?null:"closed"===S?0:Rn(n._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Xt(this)?this._readyPromise:f(Yt("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(n){return void 0===n&&(n=void 0),Xt(this)?void 0===this._ownerWritableStream?f(ur("abort")):function Ea(e,n){return Ar(e._ownerWritableStream,n)}(this,n):f(Yt("abort"))},e.prototype.close=function(){if(!Xt(this))return f(Yt("close"));var n=this._ownerWritableStream;return void 0===n?f(ur("close")):Tt(n)?f(new TypeError("Cannot close an already-closing stream")):kn(this)},e.prototype.releaseLock=function(){if(!Xt(this))throw Yt("releaseLock");void 0!==this._ownerWritableStream&&Cn(this)},e.prototype.write=function(n){return void 0===n&&(n=void 0),Xt(this)?void 0===this._ownerWritableStream?f(ur("write to")):Pn(this,n):f(Yt("write"))},e}();function Xt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof Ot}function kn(e){return An(e._ownerWritableStream)}function Oa(e,n){"pending"===e._closedPromiseState?Jr(e,n):function Ua(e,n){xn(e,n)}(e,n)}function _n(e,n){"pending"===e._readyPromiseState?In(e,n):function ja(e,n){qr(e,n)}(e,n)}function Cn(e){var n=e._ownerWritableStream,S=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_n(e,S),Oa(e,S),n._writer=void 0,e._ownerWritableStream=void 0}function Pn(e,n){var S=e._ownerWritableStream,q=S._writableStreamController,ve=function Da(e,n){try{return e._strategySizeAlgorithm(n)}catch(S){return lr(e,S),1}}(q,n);if(S!==e._ownerWritableStream)return f(ur("write to"));var me=S._state;if("errored"===me)return f(S._storedError);if(Tt(S)||"closed"===me)return f(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===me)return f(S._storedError);var xe=function Aa(e){return s(function(S,q){e._writeRequests.push({_resolve:S,_reject:q})})}(S);return function La(e,n,S){try{nt(e,n,S)}catch(me){return void lr(e,me)}var q=e._controlledWritableStream;Tt(q)||"writable"!==q._state||Xr(q,$r(e)),Cr(e)}(q,n,ve),xe}Object.defineProperties(Ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),_(Ot.prototype.abort,"abort"),_(Ot.prototype.close,"close"),_(Ot.prototype.releaseLock,"releaseLock"),_(Ot.prototype.write,"write"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ot.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var wn={},er=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Yr(this))throw Kr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Yr(this))throw Kr("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Yr(this))throw Kr("error");"writable"===this._controlledWritableStream._state&&En(this,n)},e.prototype[ee]=function(n){var S=this._abortAlgorithm(n);return _r(this),S},e.prototype[Q]=function(){it(this)},e}();function Yr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof er}function Tn(e,n,S,q,ve,me,xe,He){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,it(n),n._abortReason=void 0,n._abortController=function ba(){if(ma)return new AbortController}(),n._started=!1,n._strategySizeAlgorithm=He,n._strategyHWM=xe,n._writeAlgorithm=q,n._closeAlgorithm=ve,n._abortAlgorithm=me;var $e=$r(n);Xr(e,$e),R(a(S()),function(){return n._started=!0,Cr(n),null},function(tt){return n._started=!0,zr(e,tt),null})}function _r(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Rn(e){return e._strategyHWM-e._queueTotalSize}function Cr(e){var n=e._controlledWritableStream;if(e._started&&void 0===n._inFlightWriteRequest){if("erroring"===n._state)return void Vr(n);if(0!==e._queue.length){var q=function rt(e){return e._queue.peek().value}(e);q===wn?function Na(e){var n=e._controlledWritableStream;(function Ta(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(n),Ke(e);var S=e._closeAlgorithm();_r(e),R(S,function(){return function Ca(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var S=e._writer;void 0!==S&&On(S)}(n),null},function(q){return function Pa(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),zr(e,n)}(n,q),null})}(e):function Ba(e,n){var S=e._controlledWritableStream;(function Ra(e){e._inFlightWriteRequest=e._writeRequests.shift()})(S),R(e._writeAlgorithm(n),function(){!function ka(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(S);var ve=S._state;if(Ke(e),!Tt(S)&&"writable"===ve){var me=$r(e);Xr(S,me)}return Cr(e),null},function(ve){return"writable"===S._state&&_r(e),function _a(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,zr(e,n)}(S,ve),null})}(e,q)}}}function lr(e,n){"writable"===e._controlledWritableStream._state&&En(e,n)}function $r(e){return Rn(e)<=0}function En(e,n){var S=e._controlledWritableStream;_r(e),Hr(S,n)}function Pr(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function Kr(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function Yt(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function ur(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function wr(e){e._closedPromise=s(function(n,S){e._closedPromise_resolve=n,e._closedPromise_reject=S,e._closedPromiseState="pending"})}function xn(e,n){wr(e),Jr(e,n)}function Jr(e,n){void 0!==e._closedPromise_reject&&(l(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function On(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Tr(e){e._readyPromise=s(function(n,S){e._readyPromise_resolve=n,e._readyPromise_reject=S}),e._readyPromiseState="pending"}function qr(e,n){Tr(e),In(e,n)}function Fn(e){Tr(e),Qr(e)}function In(e,n){void 0!==e._readyPromise_reject&&(l(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Qr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(er.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(er.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Zr=function za(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0}();var Ya=function Va(){var e=Zr?.DOMException;return function Ha(e){if("function"!=typeof e&&"object"!=typeof e||"DOMException"!==e.name)return!1;try{return new e,!0}catch{return!1}}(e)?e:void 0}()||function Xa(){var e=function(S,q){this.message=S||"",this.name=q||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return _(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Mn(e,n,S,q,ve,me){var xe=Z(e),He=bn(n);e._disturbed=!0;var $e=!1,Ue=a(void 0);return s(function(qe,tt){var at;if(void 0!==me){if(at=function(){var Qe=void 0!==me.reason?me.reason:new Ya("Aborted","AbortError"),ot=[];q||ot.push(function(){return"writable"===n._state?Ar(n,Qe):a(void 0)}),ve||ot.push(function(){return"readable"===e._state?wt(e,Qe):a(void 0)}),St(function(){return Promise.all(ot.map(function(ut){return ut()}))},!0,Qe)},me.aborted)return void at();me.addEventListener("abort",at)}if(vt(e,xe._closedPromise,function(Qe){return q?It(!0,Qe):St(function(){return Ar(n,Qe)},!0,Qe),null}),vt(n,He._closedPromise,function(Qe){return ve?It(!0,Qe):St(function(){return wt(e,Qe)},!0,Qe),null}),function Et(Qe,ot,ut){"closed"===Qe._state?ut():h(ot,ut)}(e,xe._closedPromise,function(){return S?It():St(function(){return function xa(e){var n=e._ownerWritableStream,S=n._state;return Tt(n)||"closed"===S?a(void 0):"errored"===S?f(n._storedError):kn(e)}(He)}),null}),Tt(n)||"closed"===n._state){var _t=new TypeError("the destination writable stream closed before all data could be piped to it");ve?It(!0,_t):St(function(){return wt(e,_t)},!0,_t)}function Rt(){var Qe=Ue;return d(Ue,function(){return Qe!==Ue?Rt():void 0})}function vt(Qe,ot,ut){"errored"===Qe._state?ut(Qe._storedError):C(ot,ut)}function St(Qe,ot,ut){function xt(){return R(Qe(),function(){return lt(ot,ut)},function(jt){return lt(!0,jt)}),null}$e||($e=!0,"writable"!==n._state||Tt(n)?xt():h(Rt(),xt))}function It(Qe,ot){$e||($e=!0,"writable"!==n._state||Tt(n)?lt(Qe,ot):h(Rt(),function(){return lt(Qe,ot)}))}function lt(Qe,ot){return Cn(He),v(xe),void 0!==me&&me.removeEventListener("abort",at),Qe?tt(ot):qe(void 0),null}l(function dt(){return s(function(Qe,ot){!function ut(xt){xt?Qe():d(function bt(){return $e?a(!0):d(He._readyPromise,function(){return s(function(Qe,ot){K(xe,{_chunkSteps:function(ut){Ue=d(Pn(He,ut),void 0,Y),Qe(!1)},_closeSteps:function(){return Qe(!0)},_errorSteps:ot})})})}(),ut,ot)}(!1)})}())})}var Ft=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Rr(this))throw xr("desiredSize");return en(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Rr(this))throw xr("close");if(!rr(this))throw new TypeError("The stream is not in a state that permits close");$t(this)},e.prototype.enqueue=function(n){if(void 0===n&&(n=void 0),!Rr(this))throw xr("enqueue");if(!rr(this))throw new TypeError("The stream is not in a state that permits enqueue");return tr(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Rr(this))throw xr("error");Pt(this,n)},e.prototype[oe]=function(n){it(this);var S=this._cancelAlgorithm(n);return Er(this),S},e.prototype[V]=function(n){var S=this._controlledReadableStream;if(this._queue.length>0){var q=Ke(this);this._closeRequested&&0===this._queue.length?(Er(this),dr(S)):cr(this),n._chunkSteps(q)}else le(S,n),cr(this)},e.prototype[te]=function(){},e}();function Rr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof Ft}function cr(e){if(Dn(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,R(e._pullAlgorithm(),function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,cr(e)),null},function(q){return Pt(e,q),null})}}function Dn(e){var n=e._controlledReadableStream;return!(!rr(e)||!e._started)&&(!!(Ut(n)&&se(n)>0)||en(e)>0)}function Er(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function $t(e){if(rr(e)){var n=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Er(e),dr(n))}}function tr(e,n){if(rr(e)){var S=e._controlledReadableStream;if(Ut(S)&&se(S)>0)fe(S,n,!1);else{var q=void 0;try{q=e._strategySizeAlgorithm(n)}catch(ve){throw Pt(e,ve),ve}try{nt(e,n,q)}catch(ve){throw Pt(e,ve),ve}}cr(e)}}function Pt(e,n){var S=e._controlledReadableStream;"readable"===S._state&&(it(e),Er(e),Wn(S,n))}function en(e){var n=e._controlledReadableStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function rr(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function Ln(e,n,S,q,ve,me,xe){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,it(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=xe,n._strategyHWM=me,n._pullAlgorithm=q,n._cancelAlgorithm=ve,e._readableStreamController=n,R(a(S()),function(){return n._started=!0,cr(n),null},function($e){return Pt(n,$e),null})}function xr(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function Ja(e,n){return yt(e._readableStreamController)?function Qa(e){var He,$e,Ue,qe,tt,n=Z(e),S=!1,q=!1,ve=!1,me=!1,xe=!1,at=s(function(lt){tt=lt});function dt(lt){C(lt._closedPromise,function(Qe){return lt!==n||(kt(Ue._readableStreamController,Qe),kt(qe._readableStreamController,Qe),(!me||!xe)&&tt(void 0)),null})}function bt(){Vt(n)&&(v(n),dt(n=Z(e))),K(n,{_chunkSteps:function(Qe){b(function(){q=!1,ve=!1;var ot=Qe,ut=Qe;if(!me&&!xe)try{ut=ze(Qe)}catch(xt){return kt(Ue._readableStreamController,xt),kt(qe._readableStreamController,xt),void tt(wt(e,xt))}me||pr(Ue._readableStreamController,ot),xe||pr(qe._readableStreamController,ut),S=!1,q?Rt():ve&&vt()})},_closeSteps:function(){S=!1,me||ir(Ue._readableStreamController),xe||ir(qe._readableStreamController),Ue._readableStreamController._pendingPullIntos.length>0&&yr(Ue._readableStreamController,0),qe._readableStreamController._pendingPullIntos.length>0&&yr(qe._readableStreamController,0),(!me||!xe)&&tt(void 0)},_errorSteps:function(){S=!1}})}function _t(lt,Qe){T(n)&&(v(n),dt(n=hn(e)));var ot=Qe?qe:Ue,ut=Qe?Ue:qe;yn(n,lt,1,{_chunkSteps:function(jt){b(function(){q=!1,ve=!1;var ar=Qe?xe:me;if(Qe?me:xe)ar||gr(ot._readableStreamController,jt);else{var Qn=void 0;try{Qn=ze(jt)}catch(on){return kt(ot._readableStreamController,on),kt(ut._readableStreamController,on),void tt(wt(e,on))}ar||gr(ot._readableStreamController,jt),pr(ut._readableStreamController,Qn)}S=!1,q?Rt():ve&&vt()})},_closeSteps:function(jt){S=!1;var ar=Qe?xe:me,hr=Qe?me:xe;ar||ir(ot._readableStreamController),hr||ir(ut._readableStreamController),void 0!==jt&&(ar||gr(ot._readableStreamController,jt),!hr&&ut._readableStreamController._pendingPullIntos.length>0&&yr(ut._readableStreamController,0)),(!ar||!hr)&&tt(void 0)},_errorSteps:function(){S=!1}})}function Rt(){if(S)return q=!0,a(void 0);S=!0;var lt=Ur(Ue._readableStreamController);return null===lt?bt():_t(lt._view,!1),a(void 0)}function vt(){if(S)return ve=!0,a(void 0);S=!0;var lt=Ur(qe._readableStreamController);return null===lt?bt():_t(lt._view,!0),a(void 0)}function Et(lt){if(me=!0,He=lt,xe){var Qe=Se([He,$e]),ot=wt(e,Qe);tt(ot)}return at}function St(lt){if(xe=!0,$e=lt,me){var Qe=Se([He,$e]),ot=wt(e,Qe);tt(ot)}return at}function It(){}return Ue=Bn(It,Rt,Et),qe=Bn(It,vt,St),dt(n),[Ue,qe]}(e):function qa(e,n){var He,$e,Ue,qe,tt,S=Z(e),q=!1,ve=!1,me=!1,xe=!1,at=s(function(vt){tt=vt});function dt(){return q?(ve=!0,a(void 0)):(q=!0,K(S,{_chunkSteps:function(Et){b(function(){ve=!1;var It=Et;me||tr(Ue._readableStreamController,Et),xe||tr(qe._readableStreamController,It),q=!1,ve&&dt()})},_closeSteps:function(){q=!1,me||$t(Ue._readableStreamController),xe||$t(qe._readableStreamController),(!me||!xe)&&tt(void 0)},_errorSteps:function(){q=!1}}),a(void 0))}function bt(vt){if(me=!0,He=vt,xe){var Et=Se([He,$e]),St=wt(e,Et);tt(St)}return at}function _t(vt){if(xe=!0,$e=vt,me){var Et=Se([He,$e]),St=wt(e,Et);tt(St)}return at}function Rt(){}return Ue=fr(Rt,dt,bt),qe=fr(Rt,dt,_t),C(S._closedPromise,function(vt){return Pt(Ue._readableStreamController,vt),Pt(qe._readableStreamController,vt),(!me||!xe)&&tt(void 0),null}),[Ue,qe]}(e)}function ei(e){return function Za(e){return O(e)&&typeof e.getReader<"u"}(e)?function ri(e){var n;function q(){var me;try{me=e.read()}catch(xe){return f(xe)}return m(me,function(xe){if(!O(xe))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");xe.done?$t(n._readableStreamController):tr(n._readableStreamController,xe.value)})}function ve(me){try{return a(e.cancel(me))}catch(xe){return f(xe)}}return n=fr(Y,q,ve,0)}(e.getReader()):function ti(e){var n,S=Le(e,"async");function ve(){var xe;try{xe=function je(e){var n=P(e.nextMethod,e.iterator,[]);if(!O(n))throw new TypeError("The iterator.next() method must return an object");return n}(S)}catch($e){return f($e)}return m(a(xe),function($e){if(!O($e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(function Ge(e){return Boolean(e.done)}($e))$t(n._readableStreamController);else{var qe=function Ve(e){return e.value}($e);tr(n._readableStreamController,qe)}})}function me(xe){var $e,Ue,He=S.iterator;try{$e=De(He,"return")}catch(tt){return f(tt)}if(void 0===$e)return a(void 0);try{Ue=P($e,He,[xe])}catch(tt){return f(tt)}return m(a(Ue),function(tt){if(!O(tt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return n=fr(Y,ve,me,0)}(e)}function ai(e,n,S){return Oe(e,S),function(q){return g(e,n,[q])}}function ii(e,n,S){return Oe(e,S),function(q){return g(e,n,[q])}}function oi(e,n,S){return Oe(e,S),function(q){return P(e,n,[q])}}function si(e,n){if("bytes"!==(e="".concat(e)))throw new TypeError("".concat(n," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function Nn(e,n){Pe(e,n);var S=e?.preventAbort,q=e?.preventCancel,ve=e?.preventClose,me=e?.signal;return void 0!==me&&function ui(e,n){if(!function ga(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch{return!1}}(e))throw new TypeError("".concat(n," is not an AbortSignal."))}(me,"".concat(n," has member 'signal' that")),{preventAbort:Boolean(S),preventCancel:Boolean(q),preventClose:Boolean(ve),signal:me}}Object.defineProperties(Ft.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),_(Ft.prototype.close,"close"),_(Ft.prototype.enqueue,"enqueue"),_(Ft.prototype.error,"error"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ft.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var mt=function(){function e(n,S){void 0===n&&(n={}),void 0===S&&(S={}),void 0===n?n=null:Ie(n,"First parameter");var q=Sr(S,"Second parameter"),ve=function ni(e,n){Pe(e,n);var S=e,q=S?.autoAllocateChunkSize,ve=S?.cancel,me=S?.pull,xe=S?.start,He=S?.type;return{autoAllocateChunkSize:void 0===q?void 0:$(q,"".concat(n," has member 'autoAllocateChunkSize' that")),cancel:void 0===ve?void 0:ai(ve,S,"".concat(n," has member 'cancel' that")),pull:void 0===me?void 0:ii(me,S,"".concat(n," has member 'pull' that")),start:void 0===xe?void 0:oi(xe,S,"".concat(n," has member 'start' that")),type:void 0===He?void 0:si(He,"".concat(n," has member 'type' that"))}}(n,"First parameter");if(tn(this),"bytes"===ve.type){if(void 0!==q.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function aa(e,n,S){var ve,me,xe,q=Object.create(ft.prototype);ve=void 0!==n.start?function(){return n.start(q)}:function(){},me=void 0!==n.pull?function(){return n.pull(q)}:function(){return a(void 0)},xe=void 0!==n.cancel?function($e){return n.cancel($e)}:function(){return a(void 0)};var He=n.autoAllocateChunkSize;if(0===He)throw new TypeError("autoAllocateChunkSize must be greater than 0");dn(e,q,ve,me,xe,S,He)}(this,ve,sr(q,0))}else{var xe=br(q);!function Ka(e,n,S,q){var ve=Object.create(Ft.prototype);Ln(e,ve,void 0!==n.start?function(){return n.start(ve)}:function(){},void 0!==n.pull?function(){return n.pull(ve)}:function(){return a(void 0)},void 0!==n.cancel?function($e){return n.cancel($e)}:function(){return a(void 0)},S,q)}(this,ve,sr(q,1),xe)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Wt(this))throw Kt("locked");return Ut(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(n){return void 0===n&&(n=void 0),Wt(this)?Ut(this)?f(new TypeError("Cannot cancel a stream that already has a reader")):wt(this,n):f(Kt("cancel"))},e.prototype.getReader=function(n){if(void 0===n&&(n=void 0),!Wt(this))throw Kt("getReader");return void 0===function oa(e,n){Pe(e,n);var S=e?.mode;return{mode:void 0===S?void 0:sa(S,"".concat(n," has member 'mode' that"))}}(n,"First parameter").mode?Z(this):hn(this)},e.prototype.pipeThrough=function(n,S){if(void 0===S&&(S={}),!Wt(this))throw Kt("pipeThrough");Me(n,1,"pipeThrough");var q=function ci(e,n){Pe(e,n);var S=e?.readable;j(S,"readable","ReadableWritablePair"),J(S,"".concat(n," has member 'readable' that"));var q=e?.writable;return j(q,"writable","ReadableWritablePair"),mn(q,"".concat(n," has member 'writable' that")),{readable:S,writable:q}}(n,"First parameter"),ve=Nn(S,"Second parameter");if(Ut(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Zt(q.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return l(Mn(this,q.writable,ve.preventClose,ve.preventAbort,ve.preventCancel,ve.signal)),q.readable},e.prototype.pipeTo=function(n,S){if(void 0===S&&(S={}),!Wt(this))return f(Kt("pipeTo"));if(void 0===n)return f("Parameter 1 is required in 'pipeTo'.");if(!Qt(n))return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var q;try{q=Nn(S,"Second parameter")}catch(ve){return f(ve)}return Ut(this)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Zt(n)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Mn(this,n,q.preventClose,q.preventAbort,q.preventCancel,q.signal)},e.prototype.tee=function(){if(!Wt(this))throw Kt("tee");return Se(Ja(this))},e.prototype.values=function(n){if(void 0===n&&(n=void 0),!Wt(this))throw Kt("values");return function et(e,n){var S=Z(e),q=new Je(S,n),ve=Object.create(Ze);return ve._asyncIteratorImpl=q,ve}(this,function li(e,n){Pe(e,n);var S=e?.preventCancel;return{preventCancel:Boolean(S)}}(n,"First parameter").preventCancel)},e.prototype[Xe]=function(n){return this.values(n)},e.from=function(n){return ei(n)},e}();function fr(e,n,S,q,ve){void 0===q&&(q=1),void 0===ve&&(ve=function(){return 1});var me=Object.create(mt.prototype);return tn(me),Ln(me,Object.create(Ft.prototype),e,n,S,q,ve),me}function Bn(e,n,S){var q=Object.create(mt.prototype);return tn(q),dn(q,Object.create(ft.prototype),e,n,S,0,void 0),q}function tn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Wt(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof mt}function Ut(e){return void 0!==e._reader}function wt(e,n){if(e._disturbed=!0,"closed"===e._state)return a(void 0);if("errored"===e._state)return f(e._storedError);dr(e);var S=e._reader;if(void 0!==S&&Vt(S)){var q=S._readIntoRequests;S._readIntoRequests=new z,q.forEach(function(me){me._closeSteps(void 0)})}return m(e._readableStreamController[oe](n),Y)}function dr(e){e._state="closed";var n=e._reader;if(void 0!==n&&(pe(n),T(n))){var S=n._readRequests;n._readRequests=new z,S.forEach(function(q){q._closeSteps()})}}function Wn(e,n){e._state="errored",e._storedError=n;var S=e._reader;void 0!==S&&(ne(S,n),T(S)?U(S,n):gn(S,n))}function Kt(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Un(e,n){Pe(e,n);var S=e?.highWaterMark;return j(S,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ae(S)}}Object.defineProperties(mt,{from:{enumerable:!0}}),Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),_(mt.from,"from"),_(mt.prototype.cancel,"cancel"),_(mt.prototype.getReader,"getReader"),_(mt.prototype.pipeThrough,"pipeThrough"),_(mt.prototype.pipeTo,"pipeTo"),_(mt.prototype.tee,"tee"),_(mt.prototype.values,"values"),"symbol"==typeof r.toStringTag&&Object.defineProperty(mt.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(mt.prototype,Xe,{value:mt.prototype.values,writable:!0,configurable:!0});var Gn=function(e){return e.byteLength};_(Gn,"size");var Or=function(){function e(n){Me(n,1,"ByteLengthQueuingStrategy"),n=Un(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!zn(this))throw jn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!zn(this))throw jn("size");return Gn},enumerable:!1,configurable:!0}),e}();function jn(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function zn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof Or}Object.defineProperties(Or.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Or.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Hn=function(){return 1};_(Hn,"size");var Fr=function(){function e(n){Me(n,1,"CountQueuingStrategy"),n=Un(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Xn(this))throw Vn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Xn(this))throw Vn("size");return Hn},enumerable:!1,configurable:!0}),e}();function Vn(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function Xn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof Fr}function di(e,n,S){return Oe(e,S),function(q){return g(e,n,[q])}}function hi(e,n,S){return Oe(e,S),function(q){return P(e,n,[q])}}function vi(e,n,S){return Oe(e,S),function(q,ve){return g(e,n,[q,ve])}}function pi(e,n,S){return Oe(e,S),function(q){return g(e,n,[q])}}Object.defineProperties(Fr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Fr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ir=function(){function e(n,S,q){void 0===n&&(n={}),void 0===S&&(S={}),void 0===q&&(q={}),void 0===n&&(n=null);var ve=Sr(S,"Second parameter"),me=Sr(q,"Third parameter"),xe=function fi(e,n){Pe(e,n);var S=e?.cancel,q=e?.flush,ve=e?.readableType,me=e?.start,xe=e?.transform,He=e?.writableType;return{cancel:void 0===S?void 0:pi(S,e,"".concat(n," has member 'cancel' that")),flush:void 0===q?void 0:di(q,e,"".concat(n," has member 'flush' that")),readableType:ve,start:void 0===me?void 0:hi(me,e,"".concat(n," has member 'start' that")),transform:void 0===xe?void 0:vi(xe,e,"".concat(n," has member 'transform' that")),writableType:He}}(n,"First parameter");if(void 0!==xe.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==xe.writableType)throw new RangeError("Invalid writableType specified");var tt,He=sr(me,0),$e=br(me),Ue=sr(ve,1),qe=br(ve);(function yi(e,n,S,q,ve,me){function xe(){return n}function He(at){return function Ai(e,n){var S=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,function(){var ve=e._writable;if("erroring"===ve._state)throw ve._storedError;return Jn(S,n)}):Jn(S,n)}(e,at)}function $e(at){return function ki(e,n){var S=e._transformStreamController;if(void 0!==S._finishPromise)return S._finishPromise;var q=e._readable;S._finishPromise=s(function(me,xe){S._finishPromise_resolve=me,S._finishPromise_reject=xe});var ve=S._cancelAlgorithm(n);return Lr(S),R(ve,function(){return"errored"===q._state?nr(S,q._storedError):(Pt(q._readableStreamController,n),an(S)),null},function(me){return Pt(q._readableStreamController,me),nr(S,me),null}),S._finishPromise}(e,at)}function Ue(){return function _i(e){var n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;var S=e._readable;n._finishPromise=s(function(ve,me){n._finishPromise_resolve=ve,n._finishPromise_reject=me});var q=n._flushAlgorithm();return Lr(n),R(q,function(){return"errored"===S._state?nr(n,S._storedError):($t(S._readableStreamController),an(n)),null},function(ve){return Pt(S._readableStreamController,ve),nr(n,ve),null}),n._finishPromise}(e)}function qe(){return function Ci(e){return Mr(e,!1),e._backpressureChangePromise}(e)}function tt(at){return function Pi(e,n){var S=e._transformStreamController;if(void 0!==S._finishPromise)return S._finishPromise;var q=e._writable;S._finishPromise=s(function(me,xe){S._finishPromise_resolve=me,S._finishPromise_reject=xe});var ve=S._cancelAlgorithm(n);return Lr(S),R(ve,function(){return"errored"===q._state?nr(S,q._storedError):(lr(q._writableStreamController,n),nn(e),an(S)),null},function(me){return lr(q._writableStreamController,me),nn(e),nr(S,me),null}),S._finishPromise}(e,at)}e._writable=function Sa(e,n,S,q,ve,me){void 0===ve&&(ve=1),void 0===me&&(me=function(){return 1});var xe=Object.create(Bt.prototype);return Sn(xe),Tn(xe,Object.create(er.prototype),e,n,S,q,ve,me),xe}(xe,He,Ue,$e,S,q),e._readable=fr(xe,qe,tt,ve,me),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Mr(e,!0),e._transformStreamController=void 0})(this,s(function(dt){tt=dt}),Ue,qe,He,$e),function mi(e,n){var S=Object.create(Gt.prototype);!function gi(e,n,S,q,ve){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=S,n._flushAlgorithm=q,n._cancelAlgorithm=ve,n._finishPromise=void 0,n._finishPromise_resolve=void 0,n._finishPromise_reject=void 0}(e,S,void 0!==n.transform?function(xe){return n.transform(xe,S)}:function(xe){try{return Kn(S,xe),a(void 0)}catch(He){return f(He)}},void 0!==n.flush?function(){return n.flush(S)}:function(){return a(void 0)},void 0!==n.cancel?function(xe){return n.cancel(xe)}:function(){return a(void 0)})}(this,xe),tt(void 0!==xe.start?xe.start(this._transformStreamController):void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Yn(this))throw qn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Yn(this))throw qn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function Yn(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof Ir}function $n(e,n){Pt(e._readable._readableStreamController,n),rn(e,n)}function rn(e,n){Lr(e._transformStreamController),lr(e._writable._writableStreamController,n),nn(e)}function nn(e){e._backpressure&&Mr(e,!1)}function Mr(e,n){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=s(function(S){e._backpressureChangePromise_resolve=S}),e._backpressure=n}Object.defineProperties(Ir.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof r.toStringTag&&Object.defineProperty(Ir.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});var Gt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Dr(this))throw Nr("desiredSize");return en(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(n){if(void 0===n&&(n=void 0),!Dr(this))throw Nr("enqueue");Kn(this,n)},e.prototype.error=function(n){if(void 0===n&&(n=void 0),!Dr(this))throw Nr("error");!function bi(e,n){$n(e._controlledTransformStream,n)}(this,n)},e.prototype.terminate=function(){if(!Dr(this))throw Nr("terminate");!function Si(e){var n=e._controlledTransformStream;$t(n._readable._readableStreamController),rn(n,new TypeError("TransformStream terminated"))}(this)},e}();function Dr(e){return!(!O(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof Gt}function Lr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function Kn(e,n){var S=e._controlledTransformStream,q=S._readable._readableStreamController;if(!rr(q))throw new TypeError("Readable side is not in a state that permits enqueue");try{tr(q,n)}catch(me){throw rn(S,me),S._readable._storedError}(function $a(e){return!Dn(e)})(q)!==S._backpressure&&Mr(S,!0)}function Jn(e,n){return m(e._transformAlgorithm(n),void 0,function(q){throw $n(e._controlledTransformStream,q),q})}function Nr(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function an(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function nr(e,n){void 0!==e._finishPromise_reject&&(l(e._finishPromise),e._finishPromise_reject(n),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function qn(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(Gt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),_(Gt.prototype.enqueue,"enqueue"),_(Gt.prototype.error,"error"),_(Gt.prototype.terminate,"terminate"),"symbol"==typeof r.toStringTag&&Object.defineProperty(Gt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=Or,t.CountQueuingStrategy=Fr,t.ReadableByteStreamController=ft,t.ReadableStream=mt,t.ReadableStreamBYOBReader=Nt,t.ReadableStreamBYOBRequest=pt,t.ReadableStreamDefaultController=Ft,t.ReadableStreamDefaultReader=ge,t.TransformStream=Ir,t.TransformStreamDefaultController=Gt,t.WritableStream=Bt,t.WritableStreamDefaultController=er,t.WritableStreamDefaultWriter=Ot}(i)},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}}]);